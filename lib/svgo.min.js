(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.SVGO=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){},{}],2:[function(require,module,exports){arguments[4][1][0].apply(exports,arguments)},{dup:1}],3:[function(require,module,exports){(function(global){"use strict";var base64=require("base64-js");var ieee754=require("ieee754");var isArray=require("isarray");exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.poolSize=8192;var rootParent={};Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.foo=function(){return 42};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Buffer(arg){if(!(this instanceof Buffer)){if(arguments.length>1)return new Buffer(arg,arguments[1]);return new Buffer(arg)}if(!Buffer.TYPED_ARRAY_SUPPORT){this.length=0;this.parent=undefined}if(typeof arg==="number"){return fromNumber(this,arg)}if(typeof arg==="string"){return fromString(this,arg,arguments.length>1?arguments[1]:"utf8")}return fromObject(this,arg)}Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function fromNumber(that,length){that=allocate(that,length<0?0:checked(length)|0);if(!Buffer.TYPED_ARRAY_SUPPORT){for(var i=0;i<length;i++){that[i]=0}}return that}function fromString(that,string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";var length=byteLength(string,encoding)|0;that=allocate(that,length);that.write(string,encoding);return that}function fromObject(that,object){if(Buffer.isBuffer(object))return fromBuffer(that,object);if(isArray(object))return fromArray(that,object);if(object==null){throw new TypeError("must start with number, buffer, array or string")}if(typeof ArrayBuffer!=="undefined"){if(object.buffer instanceof ArrayBuffer){return fromTypedArray(that,object)}if(object instanceof ArrayBuffer){return fromArrayBuffer(that,object)}}if(object.length)return fromArrayLike(that,object);return fromJsonObject(that,object)}function fromBuffer(that,buffer){var length=checked(buffer.length)|0;that=allocate(that,length);buffer.copy(that,0,0,length);return that}function fromArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromTypedArray(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromArrayBuffer(that,array){array.byteLength;if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(array);that.__proto__=Buffer.prototype}else{that=fromTypedArray(that,new Uint8Array(array))}return that}function fromArrayLike(that,array){var length=checked(array.length)|0;that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}function fromJsonObject(that,object){var array;var length=0;if(object.type==="Buffer"&&isArray(object.data)){array=object.data;length=checked(array.length)|0}that=allocate(that,length);for(var i=0;i<length;i+=1){that[i]=array[i]&255}return that}if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}}else{Buffer.prototype.length=undefined;Buffer.prototype.parent=undefined}function allocate(that,length){if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{that.length=length}var fromPool=length!==0&&length<=Buffer.poolSize>>>1;if(fromPool)that.parent=rootParent;return that}function checked(length){if(length>=kMaxLength()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes")}return length|0}function SlowBuffer(subject,encoding){if(!(this instanceof SlowBuffer))return new SlowBuffer(subject,encoding);var buf=new Buffer(subject,encoding);delete buf.parent;return buf}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError("Arguments must be Buffers")}if(a===b)return 0;var x=a.length;var y=b.length;var i=0;var len=Math.min(x,y);while(i<len){if(a[i]!==b[i])break;++i}if(i!==len){x=a[i];y=b[i]}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError("list argument must be an Array of Buffers.");if(list.length===0){return new Buffer(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;i++){length+=list[i].length}}var buf=new Buffer(length);var pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos);pos+=item.length}return buf};function byteLength(string,encoding){if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"binary":case"raw":case"raws":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;start=start|0;end=end===undefined||end===Infinity?this.length:end|0;if(!encoding)encoding="utf8";if(start<0)start=0;if(end>this.length)end=this.length;if(end<=start)return"";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"binary":return binarySlice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"<Buffer "+str+">"};Buffer.prototype.compare=function compare(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return 0;return Buffer.compare(this,b)};Buffer.prototype.indexOf=function indexOf(val,byteOffset){if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset>>=0;if(this.length===0)return-1;if(byteOffset>=this.length)return-1;if(byteOffset<0)byteOffset=Math.max(this.length+byteOffset,0);if(typeof val==="string"){if(val.length===0)return-1;return String.prototype.indexOf.call(this,val,byteOffset)}if(Buffer.isBuffer(val)){return arrayIndexOf(this,val,byteOffset)}if(typeof val==="number"){if(Buffer.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"){return Uint8Array.prototype.indexOf.call(this,val,byteOffset)}return arrayIndexOf(this,[val],byteOffset)}function arrayIndexOf(arr,val,byteOffset){var foundIndex=-1;for(var i=0;byteOffset+i<arr.length;i++){if(arr[byteOffset+i]===val[foundIndex===-1?0:i-foundIndex]){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===val.length)return byteOffset+foundIndex}else{foundIndex=-1}}return-1}throw new TypeError("val must be string, number or Buffer")};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(strLen%2!==0)throw new Error("Invalid hex string");if(length>strLen/2){length=strLen/2}for(var i=0;i<length;i++){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))throw new Error("Invalid hex string");buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function binaryWrite(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{var swap=encoding;encoding=offset;offset=length|0;length=swap}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"binary":return binaryWrite(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i]&127)}return ret}function binarySlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;i++){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;i++){out+=toHex(buf[i])}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;i++){newBuf[i]=this[i+start]}}if(newBuf.length)newBuf.parent=this.parent||this;return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError("buffer must be a Buffer instance");if(value>max||value<min)throw new RangeError("value is out of bounds");if(offset+ext>buf.length)throw new RangeError("index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength),0);var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;i++){buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=0,j=Math.min(buf.length-offset,4);i<j;i++){buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=value<0?1:0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=value<0?1:0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else{objectWriteUInt16(this,value,offset,true)}return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else{objectWriteUInt16(this,value,offset,false)}return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else{objectWriteUInt32(this,value,offset,true)}return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else{objectWriteUInt32(this,value,offset,false)}return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("index out of range");if(offset<0)throw new RangeError("index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,4,3.4028234663852886e38,-3.4028234663852886e38)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert){checkIEEE754(buf,value,offset,8,1.7976931348623157e308,-1.7976931348623157e308)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;var i;if(this===target&&start<targetStart&&targetStart<end){for(i=len-1;i>=0;i--){target[i+targetStart]=this[i+start]}}else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT){for(i=0;i<len;i++){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart)}return len};Buffer.prototype.fill=function fill(value,start,end){if(!value)value=0;if(!start)start=0;if(!end)end=this.length;if(end<start)throw new RangeError("end < start");if(end===start)return;if(this.length===0)return;if(start<0||start>=this.length)throw new RangeError("start out of bounds");if(end<0||end>this.length)throw new RangeError("end out of bounds");var i;if(typeof value==="number"){for(i=start;i<end;i++){this[i]=value}}else{var bytes=utf8ToBytes(value.toString());var len=bytes.length;for(i=start;i<end;i++){this[i]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;i++){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;i++){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;i++){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;i++){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"base64-js":4,ieee754:5,isarray:6}],4:[function(require,module,exports){"use strict";exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;function init(){var i;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var len=code.length;for(i=0;i<len;i++){lookup[i]=code[i]}for(i=0;i<len;++i){revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63}init();function toByteArray(b64){var i,j,l,tmp,placeHolders,arr;var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}placeHolders=b64[len-2]==="="?2:b64[len-1]==="="?1:0;arr=new Arr(len*3/4-placeHolders);l=placeHolders>0?len-4:len;var L=0;for(i=0,j=0;i<l;i+=4,j+=3){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[L++]=(tmp&16711680)>>16;arr[L++]=(tmp&65280)>>8;arr[L++]=tmp&255}if(placeHolders===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[L++]=tmp&255}else if(placeHolders===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[L++]=tmp>>8&255;arr[L++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2];output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var output="";var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];output+=lookup[tmp>>2];output+=lookup[tmp<<4&63];output+="=="}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];output+=lookup[tmp>>10];output+=lookup[tmp>>4&63];output+=lookup[tmp<<2&63];output+="="}parts.push(output);return parts.join("")}},{}],5:[function(require,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],
6:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},{}],7:[function(require,module,exports){function EventEmitter(){this._events=this._events||{};this._maxListeners=this._maxListeners||undefined}module.exports=EventEmitter;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=undefined;EventEmitter.prototype._maxListeners=undefined;EventEmitter.defaultMaxListeners=10;EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");this._maxListeners=n;return this};EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(!this._events)this._events={};if(type==="error"){if(!this._events.error||isObject(this._events.error)&&!this._events.error.length){er=arguments[1];if(er instanceof Error){throw er}throw TypeError('Uncaught, unspecified "error" event.')}}handler=this._events[type];if(isUndefined(handler))return false;if(isFunction(handler)){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}}else if(isObject(handler)){args=Array.prototype.slice.call(arguments,1);listeners=handler.slice();len=listeners.length;for(i=0;i<len;i++)listeners[i].apply(this,args)}return true};EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener);if(!this._events[type])this._events[type]=listener;else if(isObject(this._events[type]))this._events[type].push(listener);else this._events[type]=[this._events[type],listener];if(isObject(this._events[type])&&!this._events[type].warned){if(!isUndefined(this._maxListeners)){m=this._maxListeners}else{m=EventEmitter.defaultMaxListeners}if(m&&m>0&&this._events[type].length>m){this._events[type].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[type].length);if(typeof console.trace==="function"){console.trace()}}}return this};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.once=function(type,listener){if(!isFunction(listener))throw TypeError("listener must be a function");var fired=false;function g(){this.removeListener(type,g);if(!fired){fired=true;listener.apply(this,arguments)}}g.listener=listener;this.on(type,g);return this};EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;list=this._events[type];length=list.length;position=-1;if(list===listener||isFunction(list.listener)&&list.listener===listener){delete this._events[type];if(this._events.removeListener)this.emit("removeListener",type,listener)}else if(isObject(list)){for(i=length;i-->0;){if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}}if(position<0)return this;if(list.length===1){list.length=0;delete this._events[type]}else{list.splice(position,1)}if(this._events.removeListener)this.emit("removeListener",type,listener)}return this};EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener){if(arguments.length===0)this._events={};else if(this._events[type])delete this._events[type];return this}if(arguments.length===0){for(key in this._events){if(key==="removeListener")continue;this.removeAllListeners(key)}this.removeAllListeners("removeListener");this._events={};return this}listeners=this._events[type];if(isFunction(listeners)){this.removeListener(type,listeners)}else if(listeners){while(listeners.length)this.removeListener(type,listeners[listeners.length-1])}delete this._events[type];return this};EventEmitter.prototype.listeners=function(type){var ret;if(!this._events||!this._events[type])ret=[];else if(isFunction(this._events[type]))ret=[this._events[type]];else ret=this._events[type].slice();return ret};EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;else if(evlistener)return evlistener.length}return 0};EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)};function isFunction(arg){return typeof arg==="function"}function isNumber(arg){return typeof arg==="number"}function isObject(arg){return typeof arg==="object"&&arg!==null}function isUndefined(arg){return arg===void 0}},{}],8:[function(require,module,exports){if(typeof Object.create==="function"){module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}}else{module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype;ctor.prototype=new TempCtor;ctor.prototype.constructor=ctor}}},{}],9:[function(require,module,exports){module.exports=function(obj){return!!(obj!=null&&(obj._isBuffer||obj.constructor&&typeof obj.constructor.isBuffer==="function"&&obj.constructor.isBuffer(obj)))}},{}],10:[function(require,module,exports){module.exports=Array.isArray||function(arr){return Object.prototype.toString.call(arr)=="[object Array]"}},{}],11:[function(require,module,exports){var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;clearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],12:[function(require,module,exports){module.exports=require("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(require,module,exports){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var processNextTick=require("process-nextick-args");var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable");var Writable=require("./_stream_writable");util.inherits(Duplex,Readable);var keys=objectKeys(Writable.prototype);for(var v=0;v<keys.length;v++){var method=keys[v];if(!Duplex.prototype[method])Duplex.prototype[method]=Writable.prototype[method]}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options);Writable.call(this,options);if(options&&options.readable===false)this.readable=false;if(options&&options.writable===false)this.writable=false;this.allowHalfOpen=true;if(options&&options.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",onend)}function onend(){if(this.allowHalfOpen||this._writableState.ended)return;processNextTick(onEndNT,this)}function onEndNT(self){self.end()}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":18,inherits:8,"process-nextick-args":19}],14:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(PassThrough,Transform);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":16,"core-util-is":18,inherits:8}],15:[function(require,module,exports){(function(process){"use strict";module.exports=Readable;var processNextTick=require("process-nextick-args");var isArray=require("isarray");var Buffer=require("buffer").Buffer;Readable.ReadableState=ReadableState;var EE=require("events");var EElistenerCount=function(emitter,type){return emitter.listeners(type).length};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;var util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util");var debug;if(debugUtil&&debugUtil.debuglog){debug=debugUtil.debuglog("stream")}else{debug=function(){}}var StringDecoder;util.inherits(Readable,Stream);var Duplex;function ReadableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.readableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.buffer=[];this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.defaultEncoding=options.defaultEncoding||"utf8";this.ranOut=false;this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(options.encoding){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this.decoder=new StringDecoder(options.encoding);this.encoding=options.encoding}}var Duplex;function Readable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this);this.readable=true;if(options&&typeof options.read==="function")this._read=options.read;Stream.call(this)}Readable.prototype.push=function(chunk,encoding){var state=this._readableState;if(!state.objectMode&&typeof chunk==="string"){encoding=encoding||state.defaultEncoding;if(encoding!==state.encoding){chunk=new Buffer(chunk,encoding);encoding=""}}return readableAddChunk(this,state,chunk,encoding,false)};Readable.prototype.unshift=function(chunk){var state=this._readableState;return readableAddChunk(this,state,chunk,"",true)};Readable.prototype.isPaused=function(){return this._readableState.flowing===false};function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=chunkInvalid(state,chunk);if(er){stream.emit("error",er)}else if(chunk===null){state.reading=false;onEofChunk(stream,state)}else if(state.objectMode||chunk&&chunk.length>0){if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){var e=new Error("stream.unshift() after end event");stream.emit("error",e)}else{if(state.decoder&&!addToFront&&!encoding)chunk=state.decoder.write(chunk);if(!addToFront)state.reading=false;if(state.flowing&&state.length===0&&!state.sync){stream.emit("data",chunk);stream.read(0)}else{state.length+=state.objectMode?1:chunk.length;if(addToFront)state.buffer.unshift(chunk);else state.buffer.push(chunk);if(state.needReadable)emitReadable(stream)}maybeReadMore(stream,state)}}else if(!addToFront){state.reading=false}return needMoreData(state)}function needMoreData(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||state.length===0)}Readable.prototype.setEncoding=function(enc){if(!StringDecoder)StringDecoder=require("string_decoder/").StringDecoder;this._readableState.decoder=new StringDecoder(enc);this._readableState.encoding=enc;return this};var MAX_HWM=8388608;function computeNewHighWaterMark(n){if(n>=MAX_HWM){n=MAX_HWM}else{n--;n|=n>>>1;n|=n>>>2;n|=n>>>4;n|=n>>>8;n|=n>>>16;n++}return n}function howMuchToRead(n,state){if(state.length===0&&state.ended)return 0;if(state.objectMode)return n===0?0:1;if(n===null||isNaN(n)){if(state.flowing&&state.buffer.length)return state.buffer[0].length;else return state.length}if(n<=0)return 0;if(n>state.highWaterMark)state.highWaterMark=computeNewHighWaterMark(n);if(n>state.length){if(!state.ended){state.needReadable=true;return 0}else{return state.length}}return n}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState;var nOrig=n;if(typeof n!=="number"||n>0)state.emittedReadable=false;if(n===0&&state.needReadable&&(state.length>=state.highWaterMark||state.ended)){debug("read: emitReadable",state.length,state.ended);if(state.length===0&&state.ended)endReadable(this);else emitReadable(this);return null}n=howMuchToRead(n,state);if(n===0&&state.ended){if(state.length===0)endReadable(this);return null}var doRead=state.needReadable;debug("need readable",doRead);if(state.length===0||state.length-n<state.highWaterMark){doRead=true;debug("length less than watermark",doRead)}if(state.ended||state.reading){doRead=false;debug("reading or ended",doRead)}if(doRead){debug("do read");state.reading=true;state.sync=true;if(state.length===0)state.needReadable=true;this._read(state.highWaterMark);state.sync=false}if(doRead&&!state.reading)n=howMuchToRead(nOrig,state);var ret;if(n>0)ret=fromList(n,state);else ret=null;if(ret===null){state.needReadable=true;n=0}state.length-=n;if(state.length===0&&!state.ended)state.needReadable=true;if(nOrig!==n&&state.ended&&state.length===0)endReadable(this);if(ret!==null)this.emit("data",ret);return ret};function chunkInvalid(state,chunk){var er=null;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){er=new TypeError("Invalid non-string/buffer chunk")}return er}function onEofChunk(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();if(chunk&&chunk.length){state.buffer.push(chunk);state.length+=state.objectMode?1:chunk.length}}state.ended=true;emitReadable(stream)}function emitReadable(stream){var state=stream._readableState;state.needReadable=false;if(!state.emittedReadable){debug("emitReadable",state.flowing);state.emittedReadable=true;if(state.sync)processNextTick(emitReadable_,stream);else emitReadable_(stream)}}function emitReadable_(stream){debug("emit readable");stream.emit("readable");flow(stream)}function maybeReadMore(stream,state){if(!state.readingMore){state.readingMore=true;processNextTick(maybeReadMore_,stream,state)}}function maybeReadMore_(stream,state){var len=state.length;while(!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark){debug("maybeReadMore read 0");stream.read(0);if(len===state.length)break;else len=state.length}state.readingMore=false}Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))};Readable.prototype.pipe=function(dest,pipeOpts){var src=this;var state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest);break}state.pipesCount+=1;debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var doEnd=(!pipeOpts||pipeOpts.end!==false)&&dest!==process.stdout&&dest!==process.stderr;var endFn=doEnd?onend:cleanup;if(state.endEmitted)processNextTick(endFn);else src.once("end",endFn);dest.on("unpipe",onunpipe);function onunpipe(readable){debug("onunpipe");if(readable===src){cleanup()}}function onend(){debug("onend");dest.end()}var ondrain=pipeOnDrain(src);dest.on("drain",ondrain);var cleanedUp=false;function cleanup(){debug("cleanup");dest.removeListener("close",onclose);dest.removeListener("finish",onfinish);dest.removeListener("drain",ondrain);dest.removeListener("error",onerror);dest.removeListener("unpipe",onunpipe);src.removeListener("end",onend);src.removeListener("end",cleanup);src.removeListener("data",ondata);cleanedUp=true;if(state.awaitDrain&&(!dest._writableState||dest._writableState.needDrain))ondrain()}src.on("data",ondata);function ondata(chunk){debug("ondata");var ret=dest.write(chunk);if(false===ret){if(state.pipesCount===1&&state.pipes[0]===dest&&src.listenerCount("data")===1&&!cleanedUp){debug("false write response, pause",src._readableState.awaitDrain);src._readableState.awaitDrain++}src.pause()}}function onerror(er){debug("onerror",er);unpipe();dest.removeListener("error",onerror);if(EElistenerCount(dest,"error")===0)dest.emit("error",er)}if(!dest._events||!dest._events.error)dest.on("error",onerror);else if(isArray(dest._events.error))dest._events.error.unshift(onerror);else dest._events.error=[onerror,dest._events.error];function onclose(){dest.removeListener("finish",onfinish);unpipe()}dest.once("close",onclose);function onfinish(){debug("onfinish");dest.removeListener("close",onclose);unpipe()}dest.once("finish",onfinish);function unpipe(){debug("unpipe");src.unpipe(dest)}dest.emit("pipe",src);if(!state.flowing){debug("pipe resume");src.resume()}return dest};function pipeOnDrain(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain);if(state.awaitDrain)state.awaitDrain--;if(state.awaitDrain===0&&EElistenerCount(src,"data")){state.flowing=true;flow(src)}}}Readable.prototype.unpipe=function(dest){var state=this._readableState;if(state.pipesCount===0)return this;if(state.pipesCount===1){if(dest&&dest!==state.pipes)return this;if(!dest)dest=state.pipes;state.pipes=null;state.pipesCount=0;state.flowing=false;if(dest)dest.emit("unpipe",this);return this}if(!dest){var dests=state.pipes;var len=state.pipesCount;state.pipes=null;state.pipesCount=0;state.flowing=false;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}var i=indexOf(state.pipes,dest);if(i===-1)return this;state.pipes.splice(i,1);state.pipesCount-=1;if(state.pipesCount===1)state.pipes=state.pipes[0];dest.emit("unpipe",this);return this};Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(ev==="data"&&false!==this._readableState.flowing){this.resume()}if(ev==="readable"&&this.readable){var state=this._readableState;if(!state.readableListening){state.readableListening=true;state.emittedReadable=false;state.needReadable=true;if(!state.reading){processNextTick(nReadingNextTick,this)}else if(state.length){emitReadable(this,state)}}}return res};Readable.prototype.addListener=Readable.prototype.on;function nReadingNextTick(self){debug("readable nexttick read 0");self.read(0)}Readable.prototype.resume=function(){var state=this._readableState;if(!state.flowing){debug("resume");state.flowing=true;resume(this,state)}return this};function resume(stream,state){if(!state.resumeScheduled){state.resumeScheduled=true;processNextTick(resume_,stream,state)}}function resume_(stream,state){if(!state.reading){debug("resume read 0");stream.read(0)}state.resumeScheduled=false;stream.emit("resume");flow(stream);if(state.flowing&&!state.reading)stream.read(0)}Readable.prototype.pause=function(){debug("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){debug("pause");this._readableState.flowing=false;this.emit("pause")}return this};function flow(stream){var state=stream._readableState;debug("flow",state.flowing);if(state.flowing){do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}}Readable.prototype.wrap=function(stream){var state=this._readableState;var paused=false;var self=this;stream.on("end",function(){debug("wrapped end");if(state.decoder&&!state.ended){var chunk=state.decoder.end();if(chunk&&chunk.length)self.push(chunk)}self.push(null)});stream.on("data",function(chunk){debug("wrapped data");if(state.decoder)chunk=state.decoder.write(chunk);if(state.objectMode&&(chunk===null||chunk===undefined))return;else if(!state.objectMode&&(!chunk||!chunk.length))return;var ret=self.push(chunk);if(!ret){paused=true;stream.pause()}});for(var i in stream){if(this[i]===undefined&&typeof stream[i]==="function"){this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i)}}var events=["error","close","destroy","pause","resume"];forEach(events,function(ev){stream.on(ev,self.emit.bind(self,ev))});self._read=function(n){debug("wrapped _read",n);if(paused){paused=false;stream.resume()}};return self};Readable._fromList=fromList;function fromList(n,state){var list=state.buffer;var length=state.length;var stringMode=!!state.decoder;var objectMode=!!state.objectMode;var ret;if(list.length===0)return null;if(length===0)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length){if(stringMode)ret=list.join("");else if(list.length===1)ret=list[0];else ret=Buffer.concat(list,length);list.length=0}else{if(n<list[0].length){var buf=list[0];ret=buf.slice(0,n);list[0]=buf.slice(n)}else if(n===list[0].length){ret=list.shift()}else{if(stringMode)ret="";else ret=new Buffer(n);var c=0;for(var i=0,l=list.length;i<l&&c<n;i++){var buf=list[0];var cpy=Math.min(n-c,buf.length);if(stringMode)ret+=buf.slice(0,cpy);else buf.copy(ret,c,0,cpy);if(cpy<buf.length)list[0]=buf.slice(cpy);else list.shift();c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");if(!state.endEmitted){state.ended=true;processNextTick(endReadableNT,state,stream)}}function endReadableNT(state,stream){if(!state.endEmitted&&state.length===0){state.endEmitted=true;stream.readable=false;stream.emit("end")}}function forEach(xs,f){for(var i=0,l=xs.length;i<l;i++){f(xs[i],i)}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++){if(xs[i]===x)return i}return-1}}).call(this,require("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":18,events:7,inherits:8,isarray:10,"process-nextick-args":19,"string_decoder/":26,util:2}],16:[function(require,module,exports){"use strict";module.exports=Transform;var Duplex=require("./_stream_duplex");var util=require("core-util-is");util.inherits=require("inherits");util.inherits(Transform,Duplex);function TransformState(stream){this.afterTransform=function(er,data){return afterTransform(stream,er,data)};this.needTransform=false;this.transforming=false;this.writecb=null;this.writechunk=null}function afterTransform(stream,er,data){var ts=stream._transformState;ts.transforming=false;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null;ts.writecb=null;if(data!==null&&data!==undefined)stream.push(data);if(cb)cb(er);var rs=stream._readableState;rs.reading=false;if(rs.needReadable||rs.length<rs.highWaterMark){stream._read(rs.highWaterMark)}}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options);this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=true;this._readableState.sync=false;if(options){if(typeof options.transform==="function")this._transform=options.transform;if(typeof options.flush==="function")this._flush=options.flush}this.once("prefinish",function(){if(typeof this._flush==="function")this._flush(function(er){done(stream,er)});else done(stream)})}Transform.prototype.push=function(chunk,encoding){this._transformState.needTransform=false;return Duplex.prototype.push.call(this,chunk,encoding)};Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")};Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;ts.writecb=cb;ts.writechunk=chunk;ts.writeencoding=encoding;if(!ts.transforming){var rs=this._readableState;if(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)this._read(rs.highWaterMark)}};Transform.prototype._read=function(n){var ts=this._transformState;if(ts.writechunk!==null&&ts.writecb&&!ts.transforming){ts.transforming=true;this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)}else{ts.needTransform=true}};function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState;var ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}},{"./_stream_duplex":13,"core-util-is":18,inherits:8}],17:[function(require,module,exports){"use strict";module.exports=Writable;var processNextTick=require("process-nextick-args");var Buffer=require("buffer").Buffer;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")};var Stream;(function(){try{Stream=require("st"+"ream")}catch(_){}finally{if(!Stream)Stream=require("events").EventEmitter}})();var Buffer=require("buffer").Buffer;util.inherits(Writable,Stream);function nop(){}function WriteReq(chunk,encoding,cb){this.chunk=chunk;this.encoding=encoding;this.callback=cb;this.next=null}var Duplex;function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex");options=options||{};this.objectMode=!!options.objectMode;if(stream instanceof Duplex)this.objectMode=this.objectMode||!!options.writableObjectMode;var hwm=options.highWaterMark;var defaultHwm=this.objectMode?16:16*1024;this.highWaterMark=hwm||hwm===0?hwm:defaultHwm;this.highWaterMark=~~this.highWaterMark;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;var noDecode=options.decodeStrings===false;this.decodeStrings=!noDecode;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(er){onwrite(stream,er)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false}WritableState.prototype.getBuffer=function writableStateGetBuffer(){var current=this.bufferedRequest;var out=[];while(current){out.push(current);current=current.next}return out};(function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.")})}catch(_){}})();var Duplex;function Writable(options){Duplex=Duplex||require("./_stream_duplex");if(!(this instanceof Writable)&&!(this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=true;if(options){if(typeof options.write==="function")this._write=options.write;if(typeof options.writev==="function")this._writev=options.writev}Stream.call(this)}Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))};function writeAfterEnd(stream,cb){var er=new Error("write after end");stream.emit("error",er);processNextTick(cb,er)}function validChunk(stream,state,chunk,cb){var valid=true;if(!Buffer.isBuffer(chunk)&&typeof chunk!=="string"&&chunk!==null&&chunk!==undefined&&!state.objectMode){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er);processNextTick(cb,er);valid=false}return valid}Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState;var ret=false;if(typeof encoding==="function"){cb=encoding;encoding=null}if(Buffer.isBuffer(chunk))encoding="buffer";else if(!encoding)encoding=state.defaultEncoding;if(typeof cb!=="function")cb=nop;if(state.ended)writeAfterEnd(this,cb);else if(validChunk(this,state,chunk,cb)){state.pendingcb++;ret=writeOrBuffer(this,state,chunk,encoding,cb)}return ret};Writable.prototype.cork=function(){var state=this._writableState;state.corked++};Writable.prototype.uncork=function(){var state=this._writableState;if(state.corked){state.corked--;if(!state.writing&&!state.corked&&!state.finished&&!state.bufferProcessing&&state.bufferedRequest)clearBuffer(this,state)}};Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if(typeof encoding==="string")encoding=encoding.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding};function decodeChunk(state,chunk,encoding){if(!state.objectMode&&state.decodeStrings!==false&&typeof chunk==="string"){chunk=new Buffer(chunk,encoding)}return chunk}function writeOrBuffer(stream,state,chunk,encoding,cb){chunk=decodeChunk(state,chunk,encoding);if(Buffer.isBuffer(chunk))encoding="buffer";var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;if(!ret)state.needDrain=true;if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest=new WriteReq(chunk,encoding,cb);if(last){last.next=state.lastBufferedRequest}else{state.bufferedRequest=state.lastBufferedRequest}}else{doWrite(stream,state,false,len,chunk,encoding,cb)}return ret}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=true;state.sync=true;if(writev)stream._writev(chunk,state.onwrite);else stream._write(chunk,encoding,state.onwrite);state.sync=false}function onwriteError(stream,state,sync,er,cb){--state.pendingcb;if(sync)processNextTick(cb,er);else cb(er);stream._writableState.errorEmitted=true;stream.emit("error",er)}function onwriteStateUpdate(state){state.writing=false;state.writecb=null;state.length-=state.writelen;state.writelen=0}function onwrite(stream,er){var state=stream._writableState;var sync=state.sync;var cb=state.writecb;onwriteStateUpdate(state);if(er)onwriteError(stream,state,sync,er,cb);else{var finished=needFinish(state);if(!finished&&!state.corked&&!state.bufferProcessing&&state.bufferedRequest){clearBuffer(stream,state)}if(sync){processNextTick(afterWrite,stream,state,finished,cb)}else{afterWrite(stream,state,finished,cb)}}}function afterWrite(stream,state,finished,cb){if(!finished)onwriteDrain(stream,state);state.pendingcb--;cb();finishMaybe(stream,state)}function onwriteDrain(stream,state){if(state.length===0&&state.needDrain){state.needDrain=false;stream.emit("drain")}}function clearBuffer(stream,state){state.bufferProcessing=true;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var buffer=[];var cbs=[];while(entry){cbs.push(entry.callback);buffer.push(entry);entry=entry.next}state.pendingcb++;state.lastBufferedRequest=null;doWrite(stream,state,true,state.length,buffer,"",function(err){for(var i=0;i<cbs.length;i++){state.pendingcb--;cbs[i](err)}})}else{while(entry){var chunk=entry.chunk;var encoding=entry.encoding;var cb=entry.callback;var len=state.objectMode?1:chunk.length;doWrite(stream,state,false,len,chunk,encoding,cb);entry=entry.next;if(state.writing){break}}if(entry===null)state.lastBufferedRequest=null}state.bufferedRequest=entry;state.bufferProcessing=false}Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"));

};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;if(typeof chunk==="function"){cb=chunk;chunk=null;encoding=null}else if(typeof encoding==="function"){cb=encoding;encoding=null}if(chunk!==null&&chunk!==undefined)this.write(chunk,encoding);if(state.corked){state.corked=1;this.uncork()}if(!state.ending&&!state.finished)endWritable(this,state,cb)};function needFinish(state){return state.ending&&state.length===0&&state.bufferedRequest===null&&!state.finished&&!state.writing}function prefinish(stream,state){if(!state.prefinished){state.prefinished=true;stream.emit("prefinish")}}function finishMaybe(stream,state){var need=needFinish(state);if(need){if(state.pendingcb===0){prefinish(stream,state);state.finished=true;stream.emit("finish")}else{prefinish(stream,state)}}return need}function endWritable(stream,state,cb){state.ending=true;finishMaybe(stream,state);if(cb){if(state.finished)processNextTick(cb);else stream.once("finish",cb)}state.ended=true}},{"./_stream_duplex":13,buffer:3,"core-util-is":18,events:7,inherits:8,"process-nextick-args":19,"util-deprecate":20}],18:[function(require,module,exports){(function(Buffer){function isArray(arg){if(Array.isArray){return Array.isArray(arg)}return objectToString(arg)==="[object Array]"}exports.isArray=isArray;function isBoolean(arg){return typeof arg==="boolean"}exports.isBoolean=isBoolean;function isNull(arg){return arg===null}exports.isNull=isNull;function isNullOrUndefined(arg){return arg==null}exports.isNullOrUndefined=isNullOrUndefined;function isNumber(arg){return typeof arg==="number"}exports.isNumber=isNumber;function isString(arg){return typeof arg==="string"}exports.isString=isString;function isSymbol(arg){return typeof arg==="symbol"}exports.isSymbol=isSymbol;function isUndefined(arg){return arg===void 0}exports.isUndefined=isUndefined;function isRegExp(re){return objectToString(re)==="[object RegExp]"}exports.isRegExp=isRegExp;function isObject(arg){return typeof arg==="object"&&arg!==null}exports.isObject=isObject;function isDate(d){return objectToString(d)==="[object Date]"}exports.isDate=isDate;function isError(e){return objectToString(e)==="[object Error]"||e instanceof Error}exports.isError=isError;function isFunction(arg){return typeof arg==="function"}exports.isFunction=isFunction;function isPrimitive(arg){return arg===null||typeof arg==="boolean"||typeof arg==="number"||typeof arg==="string"||typeof arg==="symbol"||typeof arg==="undefined"}exports.isPrimitive=isPrimitive;exports.isBuffer=Buffer.isBuffer;function objectToString(o){return Object.prototype.toString.call(o)}}).call(this,{isBuffer:require("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":9}],19:[function(require,module,exports){(function(process){"use strict";if(!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0){module.exports=nextTick}else{module.exports=process.nextTick}function nextTick(fn){var args=new Array(arguments.length-1);var i=0;while(i<args.length){args[i++]=arguments[i]}process.nextTick(function afterTick(){fn.apply(null,args)})}}).call(this,require("_process"))},{_process:11}],20:[function(require,module,exports){(function(global){module.exports=deprecate;function deprecate(fn,msg){if(config("noDeprecation")){return fn}var warned=false;function deprecated(){if(!warned){if(config("throwDeprecation")){throw new Error(msg)}else if(config("traceDeprecation")){console.trace(msg)}else{console.warn(msg)}warned=true}return fn.apply(this,arguments)}return deprecated}function config(name){try{if(!global.localStorage)return false}catch(_){return false}var val=global.localStorage[name];if(null==val)return false;return String(val).toLowerCase()==="true"}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],21:[function(require,module,exports){module.exports=require("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":14}],22:[function(require,module,exports){var Stream=function(){try{return require("st"+"ream")}catch(_){}}();exports=module.exports=require("./lib/_stream_readable.js");exports.Stream=Stream||exports;exports.Readable=exports;exports.Writable=require("./lib/_stream_writable.js");exports.Duplex=require("./lib/_stream_duplex.js");exports.Transform=require("./lib/_stream_transform.js");exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],23:[function(require,module,exports){module.exports=require("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":16}],24:[function(require,module,exports){module.exports=require("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],25:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;var inherits=require("inherits");inherits(Stream,EE);Stream.Readable=require("readable-stream/readable.js");Stream.Writable=require("readable-stream/writable.js");Stream.Duplex=require("readable-stream/duplex.js");Stream.Transform=require("readable-stream/transform.js");Stream.PassThrough=require("readable-stream/passthrough.js");Stream.Stream=Stream;function Stream(){EE.call(this)}Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){if(dest.writable){if(false===dest.write(chunk)&&source.pause){source.pause()}}}source.on("data",ondata);function ondrain(){if(source.readable&&source.resume){source.resume()}}dest.on("drain",ondrain);if(!dest._isStdio&&(!options||options.end!==false)){source.on("end",onend);source.on("close",onclose)}var didOnEnd=false;function onend(){if(didOnEnd)return;didOnEnd=true;dest.end()}function onclose(){if(didOnEnd)return;didOnEnd=true;if(typeof dest.destroy==="function")dest.destroy()}function onerror(er){cleanup();if(EE.listenerCount(this,"error")===0){throw er}}source.on("error",onerror);dest.on("error",onerror);function cleanup(){source.removeListener("data",ondata);dest.removeListener("drain",ondrain);source.removeListener("end",onend);source.removeListener("close",onclose);source.removeListener("error",onerror);dest.removeListener("error",onerror);source.removeListener("end",cleanup);source.removeListener("close",cleanup);dest.removeListener("close",cleanup)}source.on("end",cleanup);source.on("close",cleanup);dest.on("close",cleanup);dest.emit("pipe",source);return dest}},{events:7,inherits:8,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":21,"readable-stream/readable.js":22,"readable-stream/transform.js":23,"readable-stream/writable.js":24}],26:[function(require,module,exports){var Buffer=require("buffer").Buffer;var isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function assertEncoding(encoding){if(encoding&&!isBufferEncoding(encoding)){throw new Error("Unknown encoding: "+encoding)}}var StringDecoder=exports.StringDecoder=function(encoding){this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,"");assertEncoding(encoding);switch(this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=base64DetectIncompleteChar;break;default:this.write=passThroughWrite;return}this.charBuffer=new Buffer(6);this.charReceived=0;this.charLength=0};StringDecoder.prototype.write=function(buffer){var charStr="";while(this.charLength){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;buffer.copy(this.charBuffer,this.charReceived,0,available);this.charReceived+=available;if(this.charReceived<this.charLength){return""}buffer=buffer.slice(available,buffer.length);charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var charCode=charStr.charCodeAt(charStr.length-1);if(charCode>=55296&&charCode<=56319){this.charLength+=this.surrogateSize;charStr="";continue}this.charReceived=this.charLength=0;if(buffer.length===0){return charStr}break}this.detectIncompleteChar(buffer);var end=buffer.length;if(this.charLength){buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end);end-=this.charReceived}charStr+=buffer.toString(this.encoding,0,end);var end=charStr.length-1;var charCode=charStr.charCodeAt(end);if(charCode>=55296&&charCode<=56319){var size=this.surrogateSize;this.charLength+=size;this.charReceived+=size;this.charBuffer.copy(this.charBuffer,size,0,size);buffer.copy(this.charBuffer,0,0,size);return charStr.substring(0,end)}return charStr};StringDecoder.prototype.detectIncompleteChar=function(buffer){var i=buffer.length>=3?3:buffer.length;for(;i>0;i--){var c=buffer[buffer.length-i];if(i==1&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i};StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length)res=this.write(buffer);if(this.charReceived){var cr=this.charReceived;var buf=this.charBuffer;var enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2;this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3;this.charLength=this.charReceived?3:0}},{buffer:3}],27:[function(require,module,exports){"use strict";var FS=require("fs");var yaml=require("js-yaml");var EXTEND=require("whet.extend");module.exports=function(config){var defaults;config=config||{};if(config.full){defaults=config;if(Array.isArray(defaults.plugins)){defaults.plugins=preparePluginsArray(defaults.plugins)}}else{defaults=EXTEND({},{plugins:["removeDoctype","removeXMLProcInst","removeComments","removeMetadata","removeEditorsNSData","cleanupAttrs","minifyStyles","convertStyleToAttrs","cleanupIDs","removeRasterImages","removeUselessDefs","cleanupNumericValues","cleanupListOfValues","convertColors","removeUnknownsAndDefaults","removeNonInheritableGroupAttrs","removeUselessStrokeAndFill","removeViewBox","cleanupEnableBackground","removeHiddenElems","removeEmptyText","convertShapeToPath","moveElemsAttrsToGroup","moveGroupAttrsToElems","collapseGroups","convertPathData","convertTransform","removeEmptyAttrs","removeEmptyContainers","mergePaths","removeUnusedNS","transformsWithOnePath","sortAttrs","removeTitle","removeDesc","removeDimensions","removeAttrs","addClassesToSVGElement","removeStyleElement"]});defaults.plugins=preparePluginsArray(defaults.plugins);defaults=extendConfig(defaults,config)}if("floatPrecision"in config&&Array.isArray(defaults.plugins)){defaults.plugins.forEach(function(plugin){if(plugin.params&&"floatPrecision"in plugin.params){plugin.params=EXTEND({},plugin.params,{floatPrecision:config.floatPrecision})}})}if(Array.isArray(defaults.plugins)){defaults.plugins=optimizePluginsArray(defaults.plugins)}return defaults};function preparePluginsArray(plugins){var plugin,key;return plugins.map(function(item){if(typeof item==="object"){key=Object.keys(item)[0];if(typeof item[key]==="object"&&item[key].fn&&typeof item[key].fn==="function"){plugin=setupCustomPlugin(key,item[key])}else{plugin=EXTEND({},loadPlugin(key));if(typeof item[key]==="object"){plugin.params=EXTEND({},plugin.params||{},item[key]);plugin.active=true}else if(item[key]===false){plugin.active=false}else if(item[key]===true){plugin.active=true}plugin.name=key}}else{plugin=EXTEND({},loadPlugin(item));plugin.name=item}return plugin})}function extendConfig(defaults,config){var key;if(config.plugins){config.plugins.forEach(function(item){if(typeof item==="object"){key=Object.keys(item)[0];if(typeof item[key]==="object"&&item[key].fn&&typeof item[key].fn==="function"){defaults.plugins.push(setupCustomPlugin(key,item[key]))}else{defaults.plugins.forEach(function(plugin){if(plugin.name===key){if(typeof item[key]==="object"){plugin.params=EXTEND({},plugin.params||{},item[key]);plugin.active=true}else if(item[key]===false){plugin.active=false}else if(item[key]===true){plugin.active=true}}})}}})}defaults.multipass=config.multipass;if(config.svg2js){defaults.svg2js=config.svg2js}if(config.js2svg){defaults.js2svg=config.js2svg}return defaults}function setupCustomPlugin(name,plugin){plugin.active=true;plugin.params=EXTEND({},plugin.params||{});plugin.name=name;return plugin}function optimizePluginsArray(plugins){var prev;return plugins.reduce(function(plugins,item){if(prev&&item.type==prev[0].type){prev.push(item)}else{plugins.push(prev=[item])}return plugins},[])}var BROWSER_PLUGINS={transformsWithOnePath:require("../../plugins/transformsWithOnePath"),removeUnknownsAndDefaults:require("../../plugins/removeUnknownsAndDefaults"),removeAttrs:require("../../plugins/removeAttrs"),cleanupIDs:require("../../plugins/cleanupIDs"),removeEmptyContainers:require("../../plugins/removeEmptyContainers"),removeUselessStrokeAndFill:require("../../plugins/removeUselessStrokeAndFill"),addClassesToSVGElement:require("../../plugins/addClassesToSVGElement"),removeTitle:require("../../plugins/removeTitle"),convertShapeToPath:require("../../plugins/convertShapeToPath"),removeComments:require("../../plugins/removeComments"),collapseGroups:require("../../plugins/collapseGroups"),removeHiddenElems:require("../../plugins/removeHiddenElems"),cleanupNumericValues:require("../../plugins/cleanupNumericValues"),cleanupListOfValues:require("../../plugins/cleanupListOfValues"),removeDimensions:require("../../plugins/removeDimensions"),removeXMLProcInst:require("../../plugins/removeXMLProcInst"),removeDesc:require("../../plugins/removeDesc"),cleanupEnableBackground:require("../../plugins/cleanupEnableBackground"),mergePaths:require("../../plugins/mergePaths"),removeEmptyAttrs:require("../../plugins/removeEmptyAttrs"),minifyStyles:require("../../plugins/minifyStyles"),removeEmptyText:require("../../plugins/removeEmptyText"),convertColors:require("../../plugins/convertColors"),removeUselessDefs:require("../../plugins/removeUselessDefs"),removeEditorsNSData:require("../../plugins/removeEditorsNSData"),convertStyleToAttrs:require("../../plugins/convertStyleToAttrs"),removeViewBox:require("../../plugins/removeViewBox"),convertPathData:require("../../plugins/convertPathData"),removeStyleElement:require("../../plugins/removeStyleElement"),removeRasterImages:require("../../plugins/removeRasterImages"),moveGroupAttrsToElems:require("../../plugins/moveGroupAttrsToElems"),removeUnusedNS:require("../../plugins/removeUnusedNS"),removeNonInheritableGroupAttrs:require("../../plugins/removeNonInheritableGroupAttrs"),convertTransform:require("../../plugins/convertTransform"),removeDoctype:require("../../plugins/removeDoctype"),removeMetadata:require("../../plugins/removeMetadata"),moveElemsAttrsToGroup:require("../../plugins/moveElemsAttrsToGroup"),sortAttrs:require("../../plugins/sortAttrs"),cleanupAttrs:require("../../plugins/cleanupAttrs")};function loadPlugin(name){return BROWSER_PLUGINS[name]}var BROWSER_PLUGINS={transformsWithOnePath:require("../../plugins/transformsWithOnePath"),removeUnknownsAndDefaults:require("../../plugins/removeUnknownsAndDefaults"),removeAttrs:require("../../plugins/removeAttrs"),cleanupIDs:require("../../plugins/cleanupIDs"),removeEmptyContainers:require("../../plugins/removeEmptyContainers"),removeUselessStrokeAndFill:require("../../plugins/removeUselessStrokeAndFill"),addClassesToSVGElement:require("../../plugins/addClassesToSVGElement"),removeTitle:require("../../plugins/removeTitle"),convertShapeToPath:require("../../plugins/convertShapeToPath"),removeComments:require("../../plugins/removeComments"),collapseGroups:require("../../plugins/collapseGroups"),removeHiddenElems:require("../../plugins/removeHiddenElems"),cleanupNumericValues:require("../../plugins/cleanupNumericValues"),cleanupListOfValues:require("../../plugins/cleanupListOfValues"),removeDimensions:require("../../plugins/removeDimensions"),removeXMLProcInst:require("../../plugins/removeXMLProcInst"),removeDesc:require("../../plugins/removeDesc"),cleanupEnableBackground:require("../../plugins/cleanupEnableBackground"),mergePaths:require("../../plugins/mergePaths"),removeEmptyAttrs:require("../../plugins/removeEmptyAttrs"),minifyStyles:require("../../plugins/minifyStyles"),removeEmptyText:require("../../plugins/removeEmptyText"),convertColors:require("../../plugins/convertColors"),removeUselessDefs:require("../../plugins/removeUselessDefs"),removeEditorsNSData:require("../../plugins/removeEditorsNSData"),convertStyleToAttrs:require("../../plugins/convertStyleToAttrs"),removeViewBox:require("../../plugins/removeViewBox"),convertPathData:require("../../plugins/convertPathData"),removeStyleElement:require("../../plugins/removeStyleElement"),removeRasterImages:require("../../plugins/removeRasterImages"),moveGroupAttrsToElems:require("../../plugins/moveGroupAttrsToElems"),removeUnusedNS:require("../../plugins/removeUnusedNS"),removeNonInheritableGroupAttrs:require("../../plugins/removeNonInheritableGroupAttrs"),convertTransform:require("../../plugins/convertTransform"),removeDoctype:require("../../plugins/removeDoctype"),removeMetadata:require("../../plugins/removeMetadata"),moveElemsAttrsToGroup:require("../../plugins/moveElemsAttrsToGroup"),sortAttrs:require("../../plugins/sortAttrs"),cleanupAttrs:require("../../plugins/cleanupAttrs")};function loadPlugin(name){return BROWSER_PLUGINS[name]}var BROWSER_PLUGINS={transformsWithOnePath:require("../../plugins/transformsWithOnePath"),removeUnknownsAndDefaults:require("../../plugins/removeUnknownsAndDefaults"),removeAttrs:require("../../plugins/removeAttrs"),cleanupIDs:require("../../plugins/cleanupIDs"),removeEmptyContainers:require("../../plugins/removeEmptyContainers"),removeUselessStrokeAndFill:require("../../plugins/removeUselessStrokeAndFill"),addClassesToSVGElement:require("../../plugins/addClassesToSVGElement"),removeTitle:require("../../plugins/removeTitle"),convertShapeToPath:require("../../plugins/convertShapeToPath"),removeComments:require("../../plugins/removeComments"),collapseGroups:require("../../plugins/collapseGroups"),removeHiddenElems:require("../../plugins/removeHiddenElems"),cleanupNumericValues:require("../../plugins/cleanupNumericValues"),cleanupListOfValues:require("../../plugins/cleanupListOfValues"),removeDimensions:require("../../plugins/removeDimensions"),removeXMLProcInst:require("../../plugins/removeXMLProcInst"),removeDesc:require("../../plugins/removeDesc"),cleanupEnableBackground:require("../../plugins/cleanupEnableBackground"),mergePaths:require("../../plugins/mergePaths"),removeEmptyAttrs:require("../../plugins/removeEmptyAttrs"),minifyStyles:require("../../plugins/minifyStyles"),removeEmptyText:require("../../plugins/removeEmptyText"),convertColors:require("../../plugins/convertColors"),removeUselessDefs:require("../../plugins/removeUselessDefs"),removeEditorsNSData:require("../../plugins/removeEditorsNSData"),convertStyleToAttrs:require("../../plugins/convertStyleToAttrs"),removeViewBox:require("../../plugins/removeViewBox"),convertPathData:require("../../plugins/convertPathData"),removeStyleElement:require("../../plugins/removeStyleElement"),removeRasterImages:require("../../plugins/removeRasterImages"),moveGroupAttrsToElems:require("../../plugins/moveGroupAttrsToElems"),removeUnusedNS:require("../../plugins/removeUnusedNS"),removeNonInheritableGroupAttrs:require("../../plugins/removeNonInheritableGroupAttrs"),convertTransform:require("../../plugins/convertTransform"),removeDoctype:require("../../plugins/removeDoctype"),removeMetadata:require("../../plugins/removeMetadata"),moveElemsAttrsToGroup:require("../../plugins/moveElemsAttrsToGroup"),sortAttrs:require("../../plugins/sortAttrs"),cleanupAttrs:require("../../plugins/cleanupAttrs")};function loadPlugin(name){return BROWSER_PLUGINS[name]}},{"../../plugins/addClassesToSVGElement":85,"../../plugins/cleanupAttrs":86,"../../plugins/cleanupEnableBackground":87,"../../plugins/cleanupIDs":88,"../../plugins/cleanupListOfValues":89,"../../plugins/cleanupNumericValues":90,"../../plugins/collapseGroups":91,"../../plugins/convertColors":92,"../../plugins/convertPathData":93,"../../plugins/convertShapeToPath":94,"../../plugins/convertStyleToAttrs":95,"../../plugins/convertTransform":96,"../../plugins/mergePaths":97,"../../plugins/minifyStyles":98,"../../plugins/moveElemsAttrsToGroup":99,"../../plugins/moveGroupAttrsToElems":100,"../../plugins/removeAttrs":101,"../../plugins/removeComments":102,"../../plugins/removeDesc":103,"../../plugins/removeDimensions":104,"../../plugins/removeDoctype":105,"../../plugins/removeEditorsNSData":106,"../../plugins/removeEmptyAttrs":107,"../../plugins/removeEmptyContainers":108,"../../plugins/removeEmptyText":109,"../../plugins/removeHiddenElems":110,"../../plugins/removeMetadata":111,"../../plugins/removeNonInheritableGroupAttrs":112,"../../plugins/removeRasterImages":113,"../../plugins/removeStyleElement":114,"../../plugins/removeTitle":115,"../../plugins/removeUnknownsAndDefaults":116,"../../plugins/removeUnusedNS":117,"../../plugins/removeUselessDefs":118,"../../plugins/removeUselessStrokeAndFill":119,"../../plugins/removeViewBox":120,"../../plugins/removeXMLProcInst":121,"../../plugins/sortAttrs":122,"../../plugins/transformsWithOnePath":123,fs:1,"js-yaml":46,"whet.extend":80}],28:[function(require,module,exports){"use strict";var EXTEND=require("whet.extend"),textElem=require("../../plugins/_collections.js").elemsGroups.textContent.concat("title");var defaults={doctypeStart:"<!DOCTYPE",doctypeEnd:">",procInstStart:"<?",procInstEnd:"?>",tagOpenStart:"<",tagOpenEnd:">",tagCloseStart:"</",tagCloseEnd:">",tagShortStart:"<",tagShortEnd:"/>",attrStart:'="',attrEnd:'"',commentStart:"<!--",commentEnd:"-->",cdataStart:"<![CDATA[",cdataEnd:"]]>",textStart:"",textEnd:"",indent:"    ",regEntities:/[&'"<>]/g,regValEntities:/[&"<>]/g,encodeEntity:encodeEntity,pretty:false,useShortTags:true};var entities={"&":"&amp;","'":"&apos;",'"':"&quot;",">":"&gt;","<":"&lt;"};module.exports=function(data,config){return new JS2SVG(config).convert(data)};function JS2SVG(config){if(config){this.config=EXTEND(true,{},defaults,config)}else{this.config=defaults}if(this.config.pretty){this.config.doctypeEnd+="\n";this.config.procInstEnd+="\n";this.config.commentEnd+="\n";this.config.cdataEnd+="\n";this.config.tagShortEnd+="\n";this.config.tagOpenEnd+="\n";this.config.tagCloseEnd+="\n";this.config.textEnd+="\n"}this.indentLevel=0;this.textContext=null}function encodeEntity(char){return entities[char]}JS2SVG.prototype.convert=function(data){var svg="";if(data.content){this.indentLevel++;data.content.forEach(function(item){if(item.elem){svg+=this.createElem(item)}else if(item.text){svg+=this.createText(item.text)}else if(item.doctype){svg+=this.createDoctype(item.doctype)}else if(item.processinginstruction){svg+=this.createProcInst(item.processinginstruction)}else if(item.comment){svg+=this.createComment(item.comment)}else if(item.cdata){svg+=this.createCDATA(item.cdata)}},this)}this.indentLevel--;return{data:svg,info:{width:this.width,height:this.height}}};JS2SVG.prototype.createIndent=function(){var indent="";if(this.config.pretty&&!this.textContext){for(var i=1;i<this.indentLevel;i++){indent+=this.config.indent}}return indent};JS2SVG.prototype.createDoctype=function(doctype){return this.config.doctypeStart+doctype+this.config.doctypeEnd};JS2SVG.prototype.createProcInst=function(instruction){return this.config.procInstStart+instruction.name+" "+instruction.body+this.config.procInstEnd};JS2SVG.prototype.createComment=function(comment){return this.config.commentStart+comment+this.config.commentEnd};JS2SVG.prototype.createCDATA=function(cdata){return this.config.cdataStart+cdata+this.config.cdataEnd};JS2SVG.prototype.createElem=function(data){if(data.isElem("svg")&&data.hasAttr("width")&&data.hasAttr("height")){this.width=data.attr("width").value;this.height=data.attr("height").value}if(data.isEmpty()){if(this.config.useShortTags){return this.createIndent()+this.config.tagShortStart+data.elem+this.createAttrs(data)+this.config.tagShortEnd}else{return this.createIndent()+this.config.tagShortStart+data.elem+this.createAttrs(data)+this.config.tagOpenEnd+this.config.tagCloseStart+data.elem+this.config.tagCloseEnd}}else{var tagOpenStart=this.config.tagOpenStart,tagOpenEnd=this.config.tagOpenEnd,tagCloseStart=this.config.tagCloseStart,tagCloseEnd=this.config.tagCloseEnd,openIndent=this.createIndent(),textIndent="",processedData="",dataEnd="";if(this.textContext){tagOpenStart=defaults.tagOpenStart;tagOpenEnd=defaults.tagOpenEnd;tagCloseStart=defaults.tagCloseStart;tagCloseEnd=defaults.tagCloseEnd;openIndent=""}else if(data.isElem(textElem)){if(this.config.pretty){textIndent+=openIndent+this.config.indent}this.textContext=data}processedData+=this.convert(data).data;if(this.textContext==data){this.textContext=null;if(this.config.pretty)dataEnd="\n"}return openIndent+tagOpenStart+data.elem+this.createAttrs(data)+tagOpenEnd+textIndent+processedData+dataEnd+this.createIndent()+tagCloseStart+data.elem+tagCloseEnd}};JS2SVG.prototype.createAttrs=function(elem){var attrs="";elem.eachAttr(function(attr){attrs+=" "+attr.name+this.config.attrStart+String(attr.value).replace(this.config.regValEntities,this.config.encodeEntity)+this.config.attrEnd},this);return attrs};JS2SVG.prototype.createText=function(text){return this.createIndent()+this.config.textStart+text.replace(this.config.regEntities,this.config.encodeEntity)+(this.textContext?"":this.config.textEnd)}},{"../../plugins/_collections.js":82,"whet.extend":80}],29:[function(require,module,exports){"use strict";var EXTEND=require("whet.extend");var JSAPI=module.exports=function(data,parentNode){EXTEND(this,data);if(parentNode){Object.defineProperty(this,"parentNode",{writable:true,value:parentNode})}};JSAPI.prototype.clone=function(){var node=this;var nodeData={};Object.keys(node).forEach(function(key){if(key!="content"){nodeData[key]=node[key]}});nodeData=JSON.parse(JSON.stringify(nodeData));var clonedNode=new JSAPI(nodeData,!!node.parentNode);if(node.content){clonedNode.content=node.content.map(function(childNode){var clonedChild=childNode.clone();clonedChild.parentNode=clonedNode;return clonedChild})}return clonedNode};JSAPI.prototype.isElem=function(param){if(!param)return!!this.elem;if(Array.isArray(param))return!!this.elem&&param.indexOf(this.elem)>-1;return!!this.elem&&this.elem===param};JSAPI.prototype.renameElem=function(name){if(typeof name=="string"&&name!="")this.elem=this.local=name;return this};JSAPI.prototype.isEmpty=function(){return!this.content||!this.content.length};JSAPI.prototype.spliceContent=function(start,n,insertion){if(arguments.length<2)return[];if(!Array.isArray(insertion))insertion=Array.apply(null,arguments).slice(2);insertion.forEach(function(inner){inner.parentNode=this},this);return this.content.splice.apply(this.content,[start,n].concat(insertion))};JSAPI.prototype.hasAttr=function(name,val){if(!this.attrs||!Object.keys(this.attrs).length)return false;if(!arguments.length)return!!this.attrs;if(val!==undefined)return!!this.attrs[name]&&this.attrs[name].value===val.toString();return!!this.attrs[name]};JSAPI.prototype.attr=function(name,val){if(!this.hasAttr()||!arguments.length)return undefined;if(val!==undefined)return this.hasAttr(name,val)?this.attrs[name]:undefined;return this.attrs[name]};JSAPI.prototype.computedAttr=function(name,val){if(!arguments.length)return;for(var elem=this;elem&&(!elem.hasAttr(name)||!elem.attr(name).value);elem=elem.parentNode);if(val!=null){return elem?elem.hasAttr(name,val):false}else if(elem&&elem.hasAttr(name)){return elem.attrs[name].value}};JSAPI.prototype.removeAttr=function(name,val,recursive){if(!arguments.length)return false;if(Array.isArray(name))name.forEach(this.removeAttr,this);if(!this.hasAttr(name))return false;if(!recursive&&val&&this.attrs[name].value!==val)return false;delete this.attrs[name];if(!Object.keys(this.attrs).length)delete this.attrs;return true};JSAPI.prototype.addAttr=function(attr){if(!attr||attr&&attr.name===undefined||attr&&attr.value===undefined||attr&&attr.prefix===undefined||attr&&attr.local===undefined)return false;this.attrs=this.attrs||{};this.attrs[attr.name]=attr;return this.attrs[attr.name]};JSAPI.prototype.eachAttr=function(callback,context){if(!this.hasAttr())return false;for(var name in this.attrs){callback.call(context,this.attrs[name])}return true};JSAPI.prototype.someAttr=function(callback,context){if(!this.hasAttr())return false;for(var name in this.attrs){if(callback.call(context,this.attrs[name]))return true}return false}},{"whet.extend":80}],30:[function(require,module,exports){"use strict";module.exports=function(data,plugins){plugins.forEach(function(group){switch(group[0].type){case"perItem":data=perItem(data,group);break;case"perItemReverse":data=perItem(data,group,true);break;case"full":data=full(data,group);break}});return data};function perItem(data,plugins,reverse){function monkeys(items){items.content=items.content.filter(function(item){if(reverse&&item.content&&item.elem!="foreignObject"){monkeys(item)}var filter=true;for(var i=0;filter&&i<plugins.length;i++){var plugin=plugins[i];if(plugin.active&&plugin.fn(item,plugin.params)===false){filter=false}}if(!reverse&&item.content&&item.elem!="foreignObject"){monkeys(item)}return filter});return items}return monkeys(data)}function full(data,plugins){plugins.forEach(function(plugin){if(plugin.active){data=plugin.fn(data,plugin.params)}});return data}},{}],31:[function(require,module,exports){"use strict";var SAX=require("sax"),JSAPI=require("./jsAPI");var config={strict:true,trim:false,normalize:true,lowercase:true,xmlns:true,position:false};module.exports=function(data,callback){var sax=SAX.parser(config.strict,config),root=new JSAPI({elem:"#document"}),current=root,stack=[root],textContext=null;function pushToContent(content){content=new JSAPI(content,current);(current.content=current.content||[]).push(content);return content}sax.ondoctype=function(doctype){pushToContent({doctype:doctype})};sax.onprocessinginstruction=function(data){pushToContent({processinginstruction:data})};sax.oncomment=function(comment){pushToContent({comment:comment.trim()})};sax.oncdata=function(cdata){pushToContent({cdata:cdata})};sax.onopentag=function(data){var elem={elem:data.name,prefix:data.prefix,local:data.local};if(Object.keys(data.attributes).length){elem.attrs={};for(var name in data.attributes){elem.attrs[name]={name:name,value:data.attributes[name].value,prefix:data.attributes[name].prefix,local:data.attributes[name].local}}}elem=pushToContent(elem);current=elem;if(data.name=="text"&&!data.prefix){textContext=current}stack.push(elem)};sax.ontext=function(text){if(/\S/.test(text)||textContext){if(!textContext)text=text.trim();pushToContent({text:text})}};sax.onclosetag=function(){var last=stack.pop();if(last==textContext){trim(textContext);textContext=null}current=stack[stack.length-1]};sax.onerror=function(e){callback({error:"Error in parsing: "+e.message})};sax.onend=function(){if(!this.error)callback(root)};sax.write(data).close();function trim(elem){if(!elem.content)return elem;var start=elem.content[0],end=elem.content[elem.content.length-1];while(start&&start.content&&!start.text)start=start.content[0];if(start&&start.text)start.text=start.text.replace(/^\s+/,"");while(end&&end.content&&!end.text)end=end.content[end.content.length-1];if(end&&end.text)end.text=end.text.replace(/\s+$/,"");return elem;

}}},{"./jsAPI":29,sax:79}],32:[function(require,module,exports){(function(Buffer){"use strict";exports.encodeSVGDatauri=function(str,type){var prefix="data:image/svg+xml";if(!type||type==="base64"){prefix+=";base64,";str=prefix+new Buffer(str).toString("base64")}else if(type==="enc"){str=prefix+","+encodeURIComponent(str)}else if(type==="unenc"){str=prefix+","+str}return str};exports.decodeSVGDatauri=function(str){var prefix="data:image/svg+xml";if(str.substring(0,26)===prefix+";base64,"){str=new Buffer(str.substring(26),"base64").toString("utf8")}else if(str.substring(0,20)===prefix+",%"){str=decodeURIComponent(str.substring(19))}else if(str.substring(0,20)===prefix+",<"){str=str.substring(19)}return str};exports.intersectArrays=function(a,b){return a.filter(function(n){return b.indexOf(n)>-1})};exports.cleanupOutData=function(data,params){var str="",delimiter,prev;data.forEach(function(item,i){delimiter=" ";if(i===0){delimiter=""}if(params.leadingZero){item=removeLeadingZero(item)}if(params.negativeExtraSpace&&(item<0||/^\./.test(item)&&prev%1!==0)){delimiter=""}prev=item;str+=delimiter+item});return str};var removeLeadingZero=exports.removeLeadingZero=function(num){if(num>0&&num<1){num=(""+num).slice(1)}else if(num<0&&num>-1){num="-"+(""+num).slice(2)}return num}}).call(this,require("buffer").Buffer)},{buffer:3}],33:[function(require,module,exports){var packNumber=require("./utils").packNumber;var NAME_TO_HEX={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var HEX_TO_NAME={800000:"maroon",800080:"purple",808000:"olive",808080:"gray","00ffff":"cyan",f0ffff:"azure",f5f5dc:"beige",ffe4c4:"bisque","000000":"black","0000ff":"blue",a52a2a:"brown",ff7f50:"coral",ffd700:"gold","008000":"green","4b0082":"indigo",fffff0:"ivory",f0e68c:"khaki","00ff00":"lime",faf0e6:"linen","000080":"navy",ffa500:"orange",da70d6:"orchid",cd853f:"peru",ffc0cb:"pink",dda0dd:"plum",f00:"red",ff0000:"red",fa8072:"salmon",a0522d:"sienna",c0c0c0:"silver",fffafa:"snow",d2b48c:"tan","008080":"teal",ff6347:"tomato",ee82ee:"violet",f5deb3:"wheat",ffffff:"white",ffff00:"yellow"};function hueToRgb(p,q,t){if(t<0){t+=1}if(t>1){t-=1}if(t<1/6){return p+(q-p)*6*t}if(t<1/2){return q}if(t<2/3){return p+(q-p)*(2/3-t)*6}return p}function hslToRgb(h,s,l,a){var r;var g;var b;if(s==0){r=g=b=l}else{var q=l<.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hueToRgb(p,q,h+1/3);g=hueToRgb(p,q,h);b=hueToRgb(p,q,h-1/3)}return[Math.round(r*255),Math.round(g*255),Math.round(b*255),a]}function toHex(value){value=value.toString(16);return value.length===1?"0"+value:value}function parseFunctionArgs(body,count,rgb){var args=[];for(var i=2,unary=false;i<body.length;i++){var child=body[i];var type=child[1];switch(type){case"number":case"percentage":args.push({type:type,unary:unary,value:Number(type==="number"?body[i][2]:body[i][2][2])});break;case"unary":if(child[2]==="+"||child[2]==="-"){unary=child[2];break}return;case"operator":if(child[2]===","){unary=false;break}return;default:return}}if(args.length!==count){return}if(args.length===4){if(args[3].type!=="number"){return}args[3].type="alpha"}if(rgb){if(args[0].type!==args[1].type||args[0].type!==args[2].type){return}}else{if(args[0].type!=="number"||args[1].type!=="percentage"||args[2].type!=="percentage"){return}args[0].type="angle"}return args.map(function(arg,idx){var value=arg.unary==="-"?0:arg.value;switch(arg.type){case"number":value=Math.min(value,255);break;case"percentage":value=Math.min(value,100)/100;if(!rgb){return value}value=255*value;break;case"angle":return(value%360+360)%360/360;case"alpha":return Math.min(value,1)}return Math.round(value)})}function compressFunction(token,rule,parent,idx){var functionName=token[2][2];var body=token[3];var args;if(functionName==="rgba"||functionName==="hsla"){args=parseFunctionArgs(body,4,functionName==="rgba");if(!args){return}if(functionName==="hsla"){args=hslToRgb.apply(null,args);token[2][2]="rgba"}if(args[3]!==1){token[3]=body.filter(function(argToken,idx){if(idx<2){return true}var type=argToken[1];if(type==="number"||type==="percentage"){var number=packNumber(String(args.shift()));argToken[0].s=number;argToken[1]="number";argToken[2]=number;return true}return type==="operator"});return}functionName="rgb"}if(functionName==="hsl"){args=args||parseFunctionArgs(body,3,false);if(!args){return}args=hslToRgb.apply(null,args);functionName="rgb"}if(functionName==="rgb"){args=args||parseFunctionArgs(body,3,true);if(!args){return}var color=toHex(args[0])+toHex(args[1])+toHex(args[2]);var vhash=compressHex(color,{});var next=parent[idx+1];if(next&&next[1]!="s"){parent.splice(idx+1,0,[{},"s"," "])}return vhash}}function compressIdent(token,rule,parent){var parentType=parent[1];if(parentType==="value"||parentType==="functionBody"){var color=token[2].toLowerCase();var hex=NAME_TO_HEX[color];if(hex){if(hex.length+1<=color.length){return[{},"vhash",hex]}else{if(color==="grey"){color="gray"}token[2]=color}}}}function compressHex(color,info){var minColor=color.toLowerCase();if(color.length===6&&color[0]===color[1]&&color[2]===color[3]&&color[4]===color[5]){minColor=color[0]+color[2]+color[4]}if(HEX_TO_NAME[minColor]){return[info,"ident",HEX_TO_NAME[minColor]]}return[info,"vhash",minColor]}module.exports={compressFunction:compressFunction,compressIdent:compressIdent,compressHex:function(token){return compressHex(token[2],token[0])}}},{"./utils":38}],34:[function(require,module,exports){exports.nonLengthUnits={deg:1,grad:1,rad:1,turn:1,s:1,ms:1,Hz:1,kHz:1,dpi:1,dpcm:1,dppx:1};exports.cleanCfg={cleanComment:1};exports.defCCfg={cleanCharset:1,cleanImport:1,cleanWhitespace:1,cleanDecldelim:1,compressNumber:1,cleanUnary:1,compressColor:1,compressDimension:1,compressString:1,compressFontWeight:1,compressFont:1,compressBackground:1,cleanEmpty:1};exports.defRBCfg={restructureBlock:1};exports.defRJCfg={rejoinRuleset:1,cleanEmpty:1};exports.defRRCfg={restructureRuleset:1,cleanEmpty:1};exports.defFCfg={cleanEmpty:1,delimSelectors:1,delimBlocks:1};exports.preCfg={destroyDelims:1,preTranslate:1};exports.msCfg={markShorthands:1};exports.frCfg={freezeRulesets:1};exports.csCfg={cleanShorthands:1,cleanEmpty:1};exports.order=["cleanCharset","cleanImport","cleanComment","cleanWhitespace","compressNumber","cleanUnary","compressColor","compressDimension","compressString","compressFontWeight","compressFont","compressBackground","freezeRulesets","destroyDelims","preTranslate","markShorthands","cleanShorthands","restructureBlock","rejoinRuleset","restructureRuleset","cleanEmpty","delimSelectors","delimBlocks"];exports.profile={cleanCharset:{atrules:1},cleanImport:{atrules:1},cleanWhitespace:{s:1},compressNumber:{number:1},cleanUnary:{unary:1},compressColor:{vhash:1,funktion:1,ident:1},compressDimension:{dimension:1},compressString:{string:1},compressFontWeight:{declaration:1},compressFont:{declaration:1},compressBackground:{declaration:1},cleanComment:{comment:1},cleanDecldelim:{block:1},cleanEmpty:{ruleset:1,atruleb:1,atruler:1},destroyDelims:{decldelim:1,delim:1},preTranslate:{declaration:1,property:1,simpleselector:1,filter:1,value:1,number:1,percentage:1,dimension:1,ident:1},restructureBlock:{block:1},rejoinRuleset:{ruleset:1},restructureRuleset:{ruleset:1},delimSelectors:{selector:1},delimBlocks:{block:1},markShorthands:{block:1},cleanShorthands:{declaration:1},freezeRulesets:{ruleset:1}};exports.notFPClasses={link:1,visited:1,hover:1,active:1,"first-letter":1,"first-line":1};exports.notFPElements={"first-letter":1,"first-line":1};exports.dontRestructure={src:1};exports.vendorID={"-o-":"o","-moz-":"m","-webkit-":"w","-ms-":"i","-epub-":"e","-apple-":"a","-xv-":"x","-wap-":"p"};exports.nlTable={"border-width":["border"],"border-style":["border"],"border-color":["border"],"border-top":["border"],"border-right":["border"],"border-bottom":["border"],"border-left":["border"],"border-top-width":["border-top","border-width","border"],"border-right-width":["border-right","border-width","border"],"border-bottom-width":["border-bottom","border-width","border"],"border-left-width":["border-left","border-width","border"],"border-top-style":["border-top","border-style","border"],"border-right-style":["border-right","border-style","border"],"border-bottom-style":["border-bottom","border-style","border"],"border-left-style":["border-left","border-style","border"],"border-top-color":["border-top","border-color","border"],"border-right-color":["border-right","border-color","border"],"border-bottom-color":["border-bottom","border-color","border"],"border-left-color":["border-left","border-color","border"],"margin-top":["margin"],"margin-right":["margin"],"margin-bottom":["margin"],"margin-left":["margin"],"padding-top":["padding"],"padding-right":["padding"],"padding-bottom":["padding"],"padding-left":["padding"],"font-style":["font"],"font-variant":["font"],"font-weight":["font"],"font-size":["font"],"font-family":["font"],"list-style-type":["list-style"],"list-style-position":["list-style"],"list-style-image":["list-style"]};exports.allowedPClasses={after:1,before:1}},{}],35:[function(require,module,exports){var translate=require("../utils/translate");var constants=require("./const");var rules=require("./rules");var TRBL=require("./trbl");var color=require("./color");var packNumber=require("./utils").packNumber;function CSSOCompressor(){}CSSOCompressor.prototype.injectInfo=function(token){for(var i=token.length-1;i>-1;i--){var child=token[i];if(Array.isArray(child)){this.injectInfo(child);child.unshift({})}}};function readBlock(stylesheet,offset){var buffer=[];var nonSpaceTokenInBuffer=false;var protectedComment;for(var i=offset;i<stylesheet.length;i++){var token=stylesheet[i];if(token[1]==="comment"&&token[2].charAt(0)==="!"){if(nonSpaceTokenInBuffer||protectedComment){break}protectedComment=token;continue}if(token[1]!=="s"){nonSpaceTokenInBuffer=true}buffer.push(token)}return{comment:protectedComment,stylesheet:[{},"stylesheet"].concat(buffer),offset:i}}CSSOCompressor.prototype.process=function(rules,token,container,idx,path,stack){var type=token[1];var rule=rules[type];var result;if(rule){result=token;for(var i=0;i<rule.length;i++){var tmp=this[rule[i]](result,type,container,idx,path,stack);if(tmp===null){return null}if(tmp!==undefined){result=tmp}}}return result};CSSOCompressor.prototype.walk=function(rules,token,path,name,stack){if(!stack){stack=[token]}for(var i=token.length-1;i>=2;i--){var child=token[i];if(Array.isArray(child)){stack.push(child);child=this.walk(rules,child,path+"/"+i,null,stack);stack.pop();if(child===null){token.splice(i,1)}else{child=this.process(rules,child,token,i,path,stack);if(child){token[i]=child}else if(child===null){token.splice(i,1)}}}}if(this.debug&&name){console.log(name+"\n  "+translate(token,true).trim());console.log("")}return token.length?token:null};function compressBlock(ast,restructuring){this.props={};this.shorts={};this.shorts2={};this.shortGroupID=0;this.lastShortGroupID=0;this.lastShortSelector=0;ast=this.walk(rules.cleanComments,ast,"/0","cleanComments");ast=this.walk(rules.compress,ast,"/0","compress");ast=this.walk(rules.prepare,ast,"/0","prepare");ast=this.walk(rules.freezeRuleset,ast,"/0","freezeRuleset");if(restructuring){var initAst=this.copyArray(ast);var initLength=translate(initAst,true).length;ast=this.walk(rules.rejoinRuleset,ast,"/0","rejoinRuleset");this.disjoin(ast);ast=this.walk(rules.markShorthand,ast,"/0","markShorthand");ast=this.walk(rules.cleanShortcut,ast,"/0","cleanShortcut");ast=this.walk(rules.restructureBlock,ast,"/0","restructureBlock");var curLength=Infinity;var minLength;var astSnapshot;do{minLength=curLength;astSnapshot=this.copyArray(ast);ast=this.walk(rules.rejoinRuleset,ast,"/0","rejoinRuleset");ast=this.walk(rules.restructureRuleset,ast,"/0","restructureRuleset");curLength=translate(ast,true).length}while(minLength>curLength);if(initLength<minLength&&initLength<curLength){ast=initAst}else if(minLength<curLength){ast=astSnapshot}}ast=this.walk(rules.finalize,ast,"/0");return ast}CSSOCompressor.prototype.compress=function(ast,options){this.debug=Boolean(options.debug);ast=ast||[{},"stylesheet"];if(typeof ast[0]==="string"){this.injectInfo([ast])}var result=[{},"stylesheet"];var block={offset:2};var restructuring=options.restructuring||options.restructuring===undefined;var firstAtrulesAllowed=true;do{block=readBlock(ast,block.offset);block.stylesheet.firstAtrulesAllowed=firstAtrulesAllowed;block.stylesheet=compressBlock.call(this,block.stylesheet,restructuring);if(block.comment){if(result.length>2){result.push([{},"s","\n"])}result.push(block.comment);if(block.stylesheet.length>2){result.push([{},"s","\n"])}}result.push.apply(result,block.stylesheet.slice(2));if(firstAtrulesAllowed&&result.length>2){firstAtrulesAllowed=this.cleanImport(null,null,block.stylesheet,block.stylesheet.length)!==null}}while(block.offset<ast.length);return result};CSSOCompressor.prototype.disjoin=function(token){for(var i=token.length-1;i>=2;i--){var child=token[i];if(!Array.isArray(child)){continue}if(child[1]==="ruleset"){var selector=child[2];child[0].shortGroupID=this.shortGroupID++;if(selector.length>3){for(var j=selector.length-1;j>=2;j--){var selectorInfo=this.copyObject(selector[0]);var newRuleset=[this.copyObject(child[0]),"ruleset",[selectorInfo,"selector",selector[j]],this.copyArray(child[3])];selectorInfo.s=selector[j][0].s;token.splice(i+1,0,newRuleset)}token.splice(i,1)}}else{this.disjoin(child)}}if(this.debug){console.log("disjoin\n  "+translate(token,true).trim());console.log("")}};CSSOCompressor.prototype.freezeRulesets=function(token){var info=token[0];var selector=token[2];info.freeze=this.freezeNeeded(selector);info.freezeID=this.selectorSignature(selector);info.pseudoID=this.composePseudoID(selector);info.pseudoSignature=this.pseudoSelectorSignature(selector,constants.allowedPClasses,true);this.markSimplePseudo(selector);return token};CSSOCompressor.prototype.markSimplePseudo=function(selector){var hash={};for(var i=2;i<selector.length;i++){var simpleSelector=selector[i];simpleSelector[0].pseudo=this.containsPseudo(simpleSelector);simpleSelector[0].sg=hash;hash[simpleSelector[0].s]=1}};CSSOCompressor.prototype.composePseudoID=function(selector){var pseudos=[];for(var i=2;i<selector.length;i++){var simpleSelector=selector[i];if(this.containsPseudo(simpleSelector)){pseudos.push(simpleSelector[0].s)}}return pseudos.sort().join(",")};CSSOCompressor.prototype.containsPseudo=function(sselector){for(var j=2;j<sselector.length;j++){switch(sselector[j][1]){case"pseudoc":case"pseudoe":case"nthselector":if(sselector[j][2][2]in constants.notFPClasses===false){return true}}}};CSSOCompressor.prototype.selectorSignature=function(selector){var parts=[];for(var i=2;i<selector.length;i++){parts.push(translate(selector[i],true))}return parts.sort().join(",")};CSSOCompressor.prototype.pseudoSelectorSignature=function(selector,exclude,dontAppendExcludeMark){var pseudos={};var wasExclude=false;exclude=exclude||{};for(var i=2;i<selector.length;i++){var simpleSelector=selector[i];for(var j=2;j<simpleSelector.length;j++){switch(simpleSelector[j][1]){case"pseudoc":case"pseudoe":case"nthselector":if(!exclude.hasOwnProperty(simpleSelector[j][2][2])){pseudos[simpleSelector[j][2][2]]=1}else{wasExclude=true}break}}}return Object.keys(pseudos).sort().join(",")+(dontAppendExcludeMark?"":wasExclude)};CSSOCompressor.prototype.freezeNeeded=function(selector){for(var i=2;i<selector.length;i++){var simpleSelector=selector[i];for(var j=2;j<simpleSelector.length;j++){switch(simpleSelector[j][1]){case"pseudoc":if(!(simpleSelector[j][2][2]in constants.notFPClasses)){return true}break;case"pseudoe":if(!(simpleSelector[j][2][2]in constants.notFPElements)){return true}break;case"nthselector":return true}}}return false};CSSOCompressor.prototype.cleanCharset=function(token,rule,parent,i){if(token[2][2][2]==="charset"){for(i=i-1;i>1;i--){if(parent[i][1]!=="s"&&parent[i][1]!=="comment"){return null}}}};CSSOCompressor.prototype.cleanImport=function(token,rule,parent,i){if(!parent.firstAtrulesAllowed){return null}for(i=i-1;i>1;i--){var type=parent[i][1];if(type!=="s"&&type!=="comment"){if(type==="atrules"){var atrule=parent[i][2][2][2];if(atrule!=="import"&&atrule!=="charset"){return null}}else{return null}}}};CSSOCompressor.prototype.cleanComment=function(token,rule,parent,i){return null};CSSOCompressor.prototype.cleanWhitespace=function(token,rule,parent,i){var parentType=parent[1];var prevType=parentType==="braces"&&i===4||parentType!=="braces"&&i===2?null:parent[i-1][1];var nextType=i===parent.length-1?null:parent[i+1][1];if(nextType==="unknown"){token[2]="\n"}else{if(parentType==="simpleselector"){if(!prevType||prevType==="combinator"||!nextType||nextType==="combinator"){return null}}else if((parentType!=="atrulerq"||prevType)&&!this.issue16(prevType,nextType)&&!this.issue165(parent,prevType,nextType)&&!this.issue134(prevType,nextType)&&!this.issue228(prevType,nextType)){if(nextType!==null&&prevType!==null){if(prevType==="ident"&&parent[i-1][2]==="*"||nextType==="ident"&&parent[i+1][2]==="*"){return null}if(this._cleanWhitespace(nextType,false)||this._cleanWhitespace(prevType,true)){return null}}else{return null}}token[2]=" "}return token};CSSOCompressor.prototype.issue16=function(prevType,nextType){return nextType&&prevType==="uri"};CSSOCompressor.prototype.issue165=function(parent,prevType,nextType){return prevType==="braces"&&nextType==="ident"};CSSOCompressor.prototype.issue134=function(prevType,nextType){return prevType==="funktion"&&(nextType==="funktion"||nextType==="vhash")};CSSOCompressor.prototype.issue228=function(prevType,nextType){return prevType==="braces"&&nextType==="unary"};CSSOCompressor.prototype._cleanWhitespace=function(type,left){switch(type){case"s":case"operator":case"attrselector":case"block":case"decldelim":case"ruleset":case"declaration":case"atruleb":case"atrules":case"atruler":case"important":case"nth":case"combinator":return true}if(left){switch(type){case"funktion":case"braces":case"uri":return true}}};CSSOCompressor.prototype.cleanDecldelim=function(token){for(var i=token.length-1;i>1;i--){var type=token[i][1];var nextType=token[i+1][1];if(type==="decldelim"&&nextType!=="declaration"){token.splice(i,1)}}if(token[2][1]==="decldelim"){token.splice(2,1)}return token};CSSOCompressor.prototype.compressNumber=function(token){var value=packNumber(token[2]);token[2]=value;token[0].s=value;return token};CSSOCompressor.prototype.cleanUnary=function(token,rule,parent,i){var next=parent[i+1];if(next&&next[1]==="number"&&next[2]==="0"){return null}return token};CSSOCompressor.prototype.compressColor=function(token,rule,parent,i){switch(rule){case"vhash":return color.compressHex(token);case"funktion":return color.compressFunction(token,rule,parent,i);case"ident":return color.compressIdent(token,rule,parent,i)}};CSSOCompressor.prototype.compressDimension=function(token,rule,parent,i,path,stack){var value=token[2][2];var unit=token[3][2];if(value==="0"&&!constants.nonLengthUnits[unit]){if(parent[1]==="value"&&stack[stack.length-2][2][2][2]==="flex"){return}var i=stack.length-1;while(i>0&&(stack[i][1]==="braces"||stack[i][1]==="functionBody")){i--;if(stack[i][1]==="funktion"&&stack[i][2][2]==="calc"){return}}return token[2]}};CSSOCompressor.prototype.compressString=function(token){token[2]=token[2].replace(/\\\n/g,"")};CSSOCompressor.prototype.compressFontWeight=function(token){var property=token[2];var value=token[3];if(/font-weight$/.test(property[2][2])&&value[2][1]==="ident"){switch(value[2][2]){case"normal":value[2]=[{},"number","400"];break;case"bold":value[2]=[{},"number","700"];break}}};CSSOCompressor.prototype.compressFont=function(token){var property=token[2];var value=token[3];if(/font$/.test(property[2][2])&&value.length){value.splice(2,0,[{},"s",""]);for(var i=value.length-1;i>2;i--){if(value[i][1]==="ident"){var ident=value[i][2];if(ident==="bold"){value[i]=[{},"number","700"]}else if(ident==="normal"){var t=value[i-1];if(t[1]==="operator"&&t[2]==="/"){value.splice(--i,2)}else{value.splice(i,1)}if(value[i-1][1]==="s"){value.splice(--i,1)}}else if(ident==="medium"&&value[i+1]&&value[i+1][2]!=="/"){value.splice(i,1);if(value[i-1][1]==="s"){value.splice(--i,1)}}}}if(value.length>2&&value[2][1]==="s"){value.splice(2,1)}if(value.length===2){value.push([{},"ident","normal"])}return token}};CSSOCompressor.prototype.compressBackground=function(token){function lastType(){if(sequence.length){return sequence[sequence.length-1][1]}}function flush(){if(lastType()==="s"){sequence.pop()}if(!sequence.length||sequence.length===1&&sequence[0][1]==="important"){value.push([{},"number","0"],[{},"s"," "],[{},"number","0"])}value.push.apply(value,sequence);sequence=[]}var property=token[2];var value=token[3];if(/background$/.test(property[2][2])&&value.length){var current=value.splice(2);var sequence=[];for(var i=0;i<current.length;i++){var node=current[i];var type=node[1];var val=node[2];if(type==="operator"&&val===","){flush();value.push(node);continue}if(type==="ident"){if(val==="transparent"||val==="none"||val==="repeat"||val==="scroll"){continue}}if(type==="s"&&(!sequence.length||lastType()==="s")){continue}sequence.push(node)}flush();return token}};CSSOCompressor.prototype.cleanEmpty=function(token,rule){switch(rule){case"ruleset":if(!token[3]||token[3].length===2){return null}break;case"atruleb":if(token[token.length-1].length<3){return null}break;case"atruler":if(token[4].length<3){return null}break}};CSSOCompressor.prototype.destroyDelims=function(){return null};CSSOCompressor.prototype.preTranslate=function(token){token[0].s=translate(token,true);return token};CSSOCompressor.prototype.markShorthands=function(token,rule,parent,j,path){var selector="";var freeze=false;var freezeID="fake";var shortGroupID=parent[0].shortGroupID;var pre;var sh;if(parent[1]==="ruleset"){selector=parent[2][2][0].s,freeze=parent[0].freeze,freezeID=parent[0].freezeID}pre=this.pathUp(path)+"/"+(freeze?"&"+freezeID+"&":"")+selector+"/";for(var i=token.length-1;i>-1;i--){var createNew=true;var child=token[i];if(child[1]==="declaration"){var childInfo=child[0];var property=child[2][0].s;var value=child[3];var important=value[value.length-1][1]==="important";childInfo.id=path+"/"+i;if(property in TRBL.props){var key=pre+TRBL.extractMain(property);var shorts=this.shorts2[key]||[];if(!this.lastShortSelector||selector===this.lastShortSelector||shortGroupID===this.lastShortGroupID){if(shorts.length){sh=shorts[shorts.length-1];createNew=false}}if(createNew){sh=new TRBL(property,important);shorts.push(sh);childInfo.replaceByShort=true}else{childInfo.removeByShort=true}childInfo.shorthandKey={key:key,i:shorts.length-1};sh.add(property,value[0].s,value.slice(2),important);this.shorts2[key]=shorts;this.lastShortSelector=selector;this.lastShortGroupID=shortGroupID}}}return token};CSSOCompressor.prototype.cleanShorthands=function(token){var info=token[0];if(info.removeByShort||info.replaceByShort){var sKey=info.shorthandKey;var shorthand=this.shorts2[sKey.key][sKey.i];if(shorthand.isOkToMinimize()){if(info.replaceByShort){var shorterToken=[{},"declaration",shorthand.getProperty(),shorthand.getValue()];shorterToken[0].s=translate(shorterToken,true);return shorterToken}else{return null}}}};CSSOCompressor.prototype.restructureBlock=function(token,rule,parent,j,path){var props={};var isPseudo=false;var selector="";var freeze=false;var freezeID="fake";var pseudoID="fake";var sg={};if(parent[1]==="ruleset"){var parentInfo=parent[0];var parentSelectorInfo=parent[2][2][0];props=this.props;isPseudo=parentSelectorInfo.pseudo;selector=parentSelectorInfo.s;freeze=parentInfo.freeze;freezeID=parentInfo.freezeID;pseudoID=parentInfo.pseudoID;sg=parentSelectorInfo.sg}for(var i=token.length-1;i>-1;i--){var child=token[i];if(child[1]==="declaration"){var value=child[3];var important=value[value.length-1][1]==="important";var property=child[2][0].s;var pre=this.pathUp(path)+"/"+selector+"/";var ppre=this.buildPPre(pre,property,value,child,freeze);var ppreProps=props[ppre];var id=path+"/"+i;child[0].id=id;if(!constants.dontRestructure[property]&&ppreProps){if(isPseudo&&freezeID===ppreProps.freezeID||!isPseudo&&pseudoID===ppreProps.pseudoID||isPseudo&&pseudoID===ppreProps.pseudoID&&this.hashInHash(sg,ppreProps.sg)){if(important&&!ppreProps.important){props[ppre]={block:token,important:important,id:id,sg:sg,freeze:freeze,path:path,freezeID:freezeID,pseudoID:pseudoID};this.deleteProperty(ppreProps.block,ppreProps.id)}else{token.splice(i,1)}}}else if(this.needless(property,props,pre,important,value,child,freeze)){token.splice(i,1)}else{props[ppre]={block:token,important:important,id:id,sg:sg,freeze:freeze,path:path,freezeID:freezeID,pseudoID:pseudoID}}}}return token};CSSOCompressor.prototype.buildPPre=function(pre,property,value,d,freeze){var fp=freeze?"ft:":"ff:";if(property.indexOf("background")!==-1){return fp+pre+d[0].s}var vendorId="";var hack9=0;var functions={};var units={};for(var i=2;i<value.length;i++){if(!vendorId){vendorId=this.getVendorIDFromToken(value[i])}switch(value[i][1]){case"ident":if(value[i][2]==="\\9"){hack9=1}break;case"funktion":var name=value[i][2][2];if(name==="rect"){if(value[i][3].slice(2).some(function(token){return token[1]==="operator"&&token[2]===","})){name="rect-backward"}}functions[name]=true;break;case"dimension":var unit=value[i][3][2];switch(unit){case"rem":case"vw":case"vh":case"vmin":case"vmax":case"vm":units[unit]=true;break}break}}return fp+pre+property+"["+Object.keys(functions)+"]"+Object.keys(units)+hack9+vendorId};CSSOCompressor.prototype.getVendorIDFromToken=function(token){var vendorId;switch(token[1]){case"ident":vendorId=this.getVendorFromString(token[2]);break;case"funktion":vendorId=this.getVendorFromString(token[2][2]);break}if(vendorId){return constants.vendorID[vendorId]||""}return""};CSSOCompressor.prototype.getVendorFromString=function(string){if(string[0]==="-"){var secondDashIndex=string.indexOf("-",2);if(secondDashIndex!==-1){return string.substr(0,secondDashIndex+1)}}return""};CSSOCompressor.prototype.deleteProperty=function(block,id){for(var i=block.length-1;i>1;i--){var child=block[i];if(Array.isArray(child)&&child[1]==="declaration"&&child[0].id===id){block.splice(i,1);return}}};CSSOCompressor.prototype.needless=function(name,props,pre,important,v,d,freeze){var hack=name[0];if(hack==="*"||hack==="_"||hack==="$"){name=name.substr(1)}else if(hack==="/"&&name[1]==="/"){hack="//";name=name.substr(2)}else{hack=""}var vendor=this.getVendorFromString(name);var table=constants.nlTable[name.substr(vendor.length)];if(table){for(var i=0;i<table.length;i++){var ppre=this.buildPPre(pre,hack+vendor+table[i],v,d,freeze);var property=props[ppre];if(property){return!important||property.important}}}};CSSOCompressor.prototype.rejoinRuleset=function(token,rule,container,i){var prev=i===2||container[i-1][1]==="unknown"?null:container[i-1];var prevSelector=prev?prev[2]:[];var prevBlock=prev?prev[3]:[];var selector=token[2];var block=token[3];if(block.length===2){return null}if(prevSelector.length>2&&prevBlock.length>2&&token[0].pseudoSignature==prev[0].pseudoSignature){if(token[1]!==prev[1]){return}var prevHash=this.getHash(prevSelector);var hash=this.getHash(selector);if(this.equalHash(hash,prevHash)){prev[3]=prev[3].concat(token[3].splice(2));return null}if(this.okToJoinByProperties(token,prev)){var r=this.analyze(token,prev);if(!r.ne1.length&&!r.ne2.length){prev[2]=this.cleanSelector(prev[2].concat(token[2].splice(2)));prev[2][0].s=translate(prev[2],true);return null}}}};CSSOCompressor.prototype.okToJoinByProperties=function(token1,token2){var info1=token1[0];var info2=token2[0];if(info1.freezeID===info2.freezeID){return true}if(info1.pseudoID===info2.pseudoID){return true}if(info1.freeze&&info2.freeze){var signature1=this.pseudoSelectorSignature(token1[2],constants.allowedPClasses);var signature2=this.pseudoSelectorSignature(token2[2],constants.allowedPClasses);return signature1===signature2}return!info1.freeze&&!info2.freeze};CSSOCompressor.prototype.containsOnlyAllowedPClasses=function(selector){for(var i=2;i<selector.length;i++){var simpleSelector=selector[i];for(var j=2;j<simpleSelector.length;j++){if(simpleSelector[j][1]=="pseudoc"||simpleSelector[j][1]=="pseudoe"){if(!constants.allowedPClasses[simpleSelector[j][2][2]]){return false}}}}return true};CSSOCompressor.prototype.restructureRuleset=function(token,rule,parent,i){var prevToken=i===2||parent[i-1][1]==="unknown"?null:parent[i-1];var prevSelector=prevToken?prevToken[2]:[];var prevBlock=prevToken?prevToken[3]:[];var selector=token[2];var block=token[3];if(block.length<3){return null}if(prevSelector.length>2&&prevBlock.length>2&&token[0].pseudoSignature==prevToken[0].pseudoSignature){if(token[1]!==prevToken[1]){return}var analyzeInfo=this.analyze(token,prevToken);if(analyzeInfo.eq.length&&(analyzeInfo.ne1.length||analyzeInfo.ne2.length)){if(analyzeInfo.ne1.length&&!analyzeInfo.ne2.length){var simpleSelectorCount=selector.length-2;var selectorStr=translate(selector,true);var selectorLength=selectorStr.length+simpleSelectorCount-1;var blockLength=this.calcLength(analyzeInfo.eq)+analyzeInfo.eq.length-1;if(selectorLength<blockLength){prevToken[2]=this.cleanSelector(prevSelector.concat(selector.slice(2)));token[3]=[block[0],block[1]].concat(analyzeInfo.ne1);
return token}}else if(analyzeInfo.ne2.length&&!analyzeInfo.ne1.length){var simpleSelectorCount=prevSelector.length-2;var selectorStr=translate(prevSelector,true);var selectorLength=selectorStr.length+simpleSelectorCount-1;var blockLength=this.calcLength(analyzeInfo.eq)+analyzeInfo.eq.length-1;if(selectorLength<blockLength){token[2]=this.cleanSelector(prevSelector.concat(selector.slice(2)));prevToken[3]=[prevBlock[0],prevBlock[1]].concat(analyzeInfo.ne2);return token}}else{var newSelector=this.cleanSelector(prevSelector.concat(selector.slice(2)));var newSelectorStr=translate(newSelector,true);var newSelectorLength=newSelectorStr.length+newSelector.length-1+2;var blockLength=this.calcLength(analyzeInfo.eq)+analyzeInfo.eq.length-1;if(blockLength>=newSelectorLength){var newRuleset=[{},"ruleset",newSelector,[{},"block"].concat(analyzeInfo.eq)];newSelector[0].s=newSelectorStr;token[3]=[block[0],block[1]].concat(analyzeInfo.ne1);prevToken[3]=[prevBlock[0],prevBlock[1]].concat(analyzeInfo.ne2);parent.splice(i,0,newRuleset);return newRuleset}}}}};CSSOCompressor.prototype.calcLength=function(tokens){var length=0;for(var i=0;i<tokens.length;i++){length+=tokens[i][0].s.length}return length};CSSOCompressor.prototype.cleanSelector=function(token){if(token.length===2){return null}var saw={};for(var i=2;i<token.length;i++){var selector=token[i][0].s;if(saw.hasOwnProperty(selector)){token.splice(i,1);i--}else{saw[selector]=true}}return token};CSSOCompressor.prototype.analyze=function(token1,token2){var result={eq:[],ne1:[],ne2:[]};if(token1[1]!==token2[1]){return result}var items1=token1[3];var items2=token2[3];var hash1=this.getHash(items1);var hash2=this.getHash(items2);for(var i=2;i<items1.length;i++){var item=items1[i];if(item[0].s in hash2){result.eq.push(item)}else{result.ne1.push(item)}}for(var i=2;i<items2.length;i++){var item=items2[i];if(item[0].s in hash1===false){result.ne2.push(item)}}return result};CSSOCompressor.prototype.equalHash=function(h0,h1){for(var key in h0){if(key in h1===false){return false}}for(var key in h1){if(key in h0===false){return false}}return true};CSSOCompressor.prototype.getHash=function(tokens){var hash={};for(var i=2;i<tokens.length;i++){hash[tokens[i][0].s]=true}return hash};CSSOCompressor.prototype.hashInHash=function(hash1,hash2){for(var key in hash1){if(key in hash2===false){return false}}return true};CSSOCompressor.prototype.delimSelectors=function(token){for(var i=token.length-1;i>2;i--){token.splice(i,0,[{},"delim"])}};CSSOCompressor.prototype.delimBlocks=function(token){for(var i=token.length-1;i>2;i--){token.splice(i,0,[{},"decldelim"])}};CSSOCompressor.prototype.copyObject=function(obj){var result={};for(var key in obj){result[key]=obj[key]}return result};CSSOCompressor.prototype.copyArray=function(token){var result=token.slice();var oldInfo=token[0];var newInfo={};for(var key in oldInfo){newInfo[key]=oldInfo[key]}result[0]=newInfo;for(var i=2;i<token.length;i++){if(Array.isArray(token[i])){result[i]=this.copyArray(token[i])}}return result};CSSOCompressor.prototype.pathUp=function(path){return path.substr(0,path.lastIndexOf("/"))};module.exports=function(tree,options){return(new CSSOCompressor).compress(tree,options||{})}},{"../utils/translate":45,"./color":33,"./const":34,"./rules":36,"./trbl":37,"./utils":38}],36:[function(require,module,exports){var constants=require("./const.js");function initRules(config){var store={};var order=constants.order;var profile=constants.profile;var rules=order.filter(function(key){return key in config});if(!rules.length){rules=order}rules.forEach(function(rule){Object.keys(profile[rule]).forEach(function(key){if(store[key]){store[key].push(rule)}else{store[key]=[rule]}})});return store}module.exports={cleanComments:initRules(constants.cleanCfg),compress:initRules(constants.defCCfg),prepare:initRules(constants.preCfg),freezeRuleset:initRules(constants.frCfg),markShorthand:initRules(constants.msCfg),cleanShortcut:initRules(constants.csCfg),restructureBlock:initRules(constants.defRBCfg),rejoinRuleset:initRules(constants.defRJCfg),restructureRuleset:initRules(constants.defRRCfg),finalize:initRules(constants.defFCfg)}},{"./const.js":34}],37:[function(require,module,exports){var unsafeToMerge=/vh|vw|vmin|vmax|vm|rem|\\9/;var TOP=0;var RIGHT=1;var BOTTOM=2;var LEFT=3;var SIDES=["top","right","bottom","left"];var SIDE={"margin-top":"top","margin-right":"right","margin-bottom":"bottom","margin-left":"left","padding-top":"top","padding-right":"right","padding-bottom":"bottom","padding-left":"left"};var MAIN_PROPERTY={margin:"margin","margin-top":"margin","margin-right":"margin","margin-bottom":"margin","margin-left":"margin",padding:"padding","padding-top":"padding","padding-right":"padding","padding-bottom":"padding","padding-left":"padding"};function TRBL(name,important){this.name=TRBL.extractMain(name);this.important=important?4:0;this.sides={top:null,right:null,bottom:null,left:null}}TRBL.props=MAIN_PROPERTY;TRBL.extractMain=function(name){return MAIN_PROPERTY[name]};TRBL.prototype.impSum=function(){var sideCount=0;var important=0;for(var side in this.sides){if(this.sides[side]){sideCount++;if(this.sides[side].important){important++}}}return important===sideCount?important:0};TRBL.prototype.add=function(name,sValue,tValue,important){function add(token,str){if(wasUnary){var last=values[values.length-1];last.t.push(token);last.s+=str;wasUnary=false}else{values.push({s:str,t:[token],important:important})}}var sides=this.sides;var side=SIDE[name];var wasUnary=false;var values=[];important=important?1:0;if(side){if(side in sides){var currentValue=sides[side];if(!currentValue||important&&!currentValue.important){sides[side]={s:important?sValue.substring(0,sValue.length-10):sValue,t:tValue[0][1]==="unary"?[tValue[0],tValue[1]]:[tValue[0]],important:important}}return true}}else if(name===this.name){for(var i=0;i<tValue.length;i++){var child=tValue[i];switch(child[1]){case"unary":add(child,child[2]);wasUnary=true;break;case"number":case"ident":add(child,child[2]);break;case"percentage":add(child,child[2][2]+"%");break;case"dimension":add(child,child[2][2]+child[3][2]);break;case"s":case"comment":case"important":break;default:return false}}if(values.length>4){return false}if(!values[RIGHT]){values[RIGHT]=values[TOP]}if(!values[BOTTOM]){values[BOTTOM]=values[TOP]}if(!values[LEFT]){values[LEFT]=values[RIGHT]}for(var i=0;i<4;i++){if(!sides[SIDES[i]]||important&&!sides[SIDES[i]].important){sides[SIDES[i]]=values[i]}}return true}};TRBL.prototype.isOkToMinimize=function(){var top=this.sides.top;var right=this.sides.right;var bottom=this.sides.bottom;var left=this.sides.left;if(top&&right&&bottom&&left){if(unsafeToMerge.test([top.s,right.s,bottom.s,left.s].join(" "))){return false}var important=top.important+right.important+bottom.important+left.important;return important===0||important===4||important===this.important}return false};TRBL.prototype.getValue=function(){var result=[{},"value"];var sides=this.sides;var values=[sides.top,sides.right,sides.bottom,sides.left];if(sides.left.s===sides.right.s){values.pop();if(sides.bottom.s===sides.top.s){values.pop();if(sides.right.s===sides.top.s){values.pop()}}}result=result.concat(values[TOP].t);for(var i=1;i<values.length;i++){result.push([{s:" "},"s"," "]);result=result.concat(values[i].t)}if(this.impSum()){result.push([{s:"!important"},"important"])}return result};TRBL.prototype.getProperty=function(){return[{s:this.name},"property",[{s:this.name},"ident",this.name]]};module.exports=TRBL},{}],38:[function(require,module,exports){function packNumber(value){value=value.replace(/^0+/,"").replace(/\.0*$/,"").replace(/(\..*\d+)0+$/,"$1");return value==="."||value===""?"0":value}module.exports={packNumber:packNumber}},{}],39:[function(require,module,exports){var parse=require("./parser");var compress=require("./compressor");var translate=require("./utils/translate");var stringify=require("./utils/stringify");var cleanInfo=require("./utils/cleanInfo");var justDoIt=function(src,noStructureOptimizations,needInfo){console.warn("`csso.justDoIt()` method is deprecated, use `csso.minify()` instead");var ast=parse(src,"stylesheet",needInfo);var compressed=compress(ast,{restructuring:!noStructureOptimizations});return translate(compressed,true)};var minify=function(src,options){var ast=parse(src,"stylesheet",true);var compressed=compress(ast,options);return translate(compressed,true)};module.exports={minify:minify,parse:parse,compress:compress,translate:translate,stringify:stringify,cleanInfo:cleanInfo,justDoIt:justDoIt}},{"./compressor":35,"./parser":41,"./utils/cleanInfo":43,"./utils/stringify":44,"./utils/translate":45}],40:[function(require,module,exports){module.exports={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"}},{}],41:[function(require,module,exports){var TokenType=require("./const.js");var tokenize=require("./tokenize.js");var tokens;var needInfo;var pos;var failLN;var currentBlockLN;var NodeType={IdentType:"ident",AtkeywordType:"atkeyword",StringType:"string",ShashType:"shash",VhashType:"vhash",NumberType:"number",PercentageType:"percentage",DimensionType:"dimension",DecldelimType:"decldelim",SType:"s",AttrselectorType:"attrselector",AttribType:"attrib",NthType:"nth",NthselectorType:"nthselector",NamespaceType:"namespace",ClazzType:"clazz",PseudoeType:"pseudoe",PseudocType:"pseudoc",DelimType:"delim",StylesheetType:"stylesheet",AtrulebType:"atruleb",AtrulesType:"atrules",AtrulerqType:"atrulerq",AtrulersType:"atrulers",AtrulerType:"atruler",BlockType:"block",RulesetType:"ruleset",CombinatorType:"combinator",SimpleselectorType:"simpleselector",SelectorType:"selector",DeclarationType:"declaration",PropertyType:"property",ImportantType:"important",UnaryType:"unary",OperatorType:"operator",BracesType:"braces",ValueType:"value",ProgidType:"progid",FiltervType:"filterv",FilterType:"filter",CommentType:"comment",UriType:"uri",RawType:"raw",FunctionBodyType:"functionBody",FunktionType:"funktion",FunctionExpressionType:"functionExpression",UnknownType:"unknown"};var CSSPRules={ident:function(){if(checkIdent(pos))return getIdent()},atkeyword:function(){if(checkAtkeyword(pos))return getAtkeyword()},string:function(){if(checkString(pos))return getString()},shash:function(){if(checkShash(pos))return getShash()},vhash:function(){if(checkVhash(pos))return getVhash()},number:function(){if(checkNumber(pos))return getNumber()},percentage:function(){if(checkPercentage(pos))return getPercentage()},dimension:function(){if(checkDimension(pos))return getDimension()},decldelim:function(){if(checkDecldelim(pos))return getDecldelim()},s:function(){if(checkS(pos))return getS()},attrselector:function(){if(checkAttrselector(pos))return getAttrselector()},attrib:function(){if(checkAttrib(pos))return getAttrib()},nth:function(){if(checkNth(pos))return getNth()},nthselector:function(){if(checkNthselector(pos))return getNthselector()},namespace:function(){if(checkNamespace(pos))return getNamespace()},clazz:function(){if(checkClazz(pos))return getClazz()},pseudoe:function(){if(checkPseudoe(pos))return getPseudoe()},pseudoc:function(){if(checkPseudoc(pos))return getPseudoc()},delim:function(){if(checkDelim(pos))return getDelim()},stylesheet:function(){if(checkStylesheet(pos))return getStylesheet()},atruleb:function(){if(checkAtruleb(pos))return getAtruleb()},atrules:function(){if(checkAtrules(pos))return getAtrules()},atrulerq:function(){if(checkAtrulerq(pos))return getAtrulerq()},atrulers:function(){if(checkAtrulers(pos))return getAtrulers()},atruler:function(){if(checkAtruler(pos))return getAtruler()},block:function(){if(checkBlock(pos))return getBlock()},ruleset:function(){if(checkRuleset(pos))return getRuleset()},combinator:function(){if(checkCombinator(pos))return getCombinator()},simpleselector:function(){if(checkSimpleselector(pos))return getSimpleSelector()},selector:function(){if(checkSelector(pos))return getSelector()},declaration:function(){if(checkDeclaration(pos))return getDeclaration()},property:function(){if(checkProperty(pos))return getProperty()},important:function(){if(checkImportant(pos))return getImportant()},unary:function(){if(checkUnary(pos))return getUnary()},operator:function(){if(checkOperator(pos))return getOperator()},braces:function(){if(checkBraces(pos))return getBraces()},value:function(){if(checkValue(pos))return getValue()},progid:function(){if(checkProgid(pos))return getProgid()},filterv:function(){if(checkFilterv(pos))return getFilterv()},filter:function(){if(checkFilter(pos))return getFilter()},comment:function(){if(checkComment(pos))return getComment()},uri:function(){if(checkUri(pos))return getUri()},funktion:function(){if(checkFunktion(pos))return getFunktion()},functionExpression:function(){if(checkFunctionExpression(pos))return getFunctionExpression()},unknown:function(){if(checkUnknown(pos))return getUnknown()}};function fail(token){if(token&&token.line>failLN){failLN=token.line}}function throwError(){throw new Error("Please check the validity of the CSS block starting from the line #"+currentBlockLN)}function getInfo(idx){var token=tokens[idx];return{offset:token.offset,line:token.line,column:token.column}}function createToken(type){var result;if(needInfo){result=[getInfo(pos),type]}else{result=[type]}return result}function checkAny(_i){return checkBraces(_i)||checkString(_i)||checkPercentage(_i)||checkDimension(_i)||checkNumber(_i)||checkUri(_i)||checkFunctionExpression(_i)||checkFunktion(_i)||checkIdent(_i)||checkUnary(_i)}function getAny(){if(checkBraces(pos))return getBraces();else if(checkString(pos))return getString();else if(checkPercentage(pos))return getPercentage();else if(checkDimension(pos))return getDimension();else if(checkNumber(pos))return getNumber();else if(checkUri(pos))return getUri();else if(checkFunctionExpression(pos))return getFunctionExpression();else if(checkFunktion(pos))return getFunktion();else if(checkIdent(pos))return getIdent();else if(checkUnary(pos))return getUnary()}function checkAtkeyword(_i){var l;if(tokens[_i++].type!==TokenType.CommercialAt)return fail(tokens[_i-1]);if(l=checkIdent(_i))return l+1;return fail(tokens[_i])}function getAtkeyword(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.AtkeywordType,getIdent()]:[NodeType.AtkeywordType,getIdent()]}function checkAttrib(_i){if(tokens[_i].type!==TokenType.LeftSquareBracket)return fail(tokens[_i]);if(!tokens[_i].right)return fail(tokens[_i]);return tokens[_i].right-_i+1}function checkAttrib1(_i){var start=_i;_i++;var l=checkSC(_i);if(l)_i+=l;if(l=checkIdent(_i,true))_i+=l;else return fail(tokens[_i]);if(tokens[_i].type===TokenType.VerticalLine&&tokens[_i+1].type!==TokenType.EqualsSign){_i++;if(l=checkIdent(_i,true))_i+=l;else return fail(tokens[_i])}if(l=checkSC(_i))_i+=l;if(l=checkAttrselector(_i))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;if((l=checkIdent(_i))||(l=checkString(_i)))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;if(tokens[_i].type===TokenType.RightSquareBracket)return _i-start;return fail(tokens[_i])}function getAttrib1(){var startPos=pos;pos++;var a=needInfo?[getInfo(startPos),NodeType.AttribType]:[NodeType.AttribType];a=a.concat(getSC(),[getIdent()]);if(tokens[pos].type===TokenType.VerticalLine&&tokens[pos+1].type!==TokenType.EqualsSign){a.push(getNamespace(),getIdent())}a=a.concat(getSC(),[getAttrselector()],getSC(),[checkString(pos)?getString():getIdent()],getSC());pos++;return a}function checkAttrib2(_i){var start=_i;_i++;var l=checkSC(_i);if(l)_i+=l;if(l=checkIdent(_i,true))_i+=l;if(tokens[_i].type===TokenType.VerticalLine&&tokens[_i+1].type!==TokenType.EqualsSign){_i++;if(l=checkIdent(_i,true))_i+=l;else return fail(tokens[_i])}if(l=checkSC(_i))_i+=l;if(tokens[_i].type===TokenType.RightSquareBracket)return _i-start;return fail(tokens[_i])}function getAttrib2(){var startPos=pos;pos++;var a=(needInfo?[getInfo(startPos),NodeType.AttribType]:[NodeType.AttribType]).concat(getSC(),[getIdent()]);if(tokens[pos].type===TokenType.VerticalLine&&tokens[pos+1].type!==TokenType.EqualsSign){a.push(getNamespace(),getIdent())}a=a.concat(getSC());pos++;return a}function getAttrib(){if(checkAttrib1(pos))return getAttrib1();if(checkAttrib2(pos))return getAttrib2()}function checkAttrselector(_i){if(tokens[_i].type===TokenType.EqualsSign)return 1;if(tokens[_i].type===TokenType.VerticalLine&&(!tokens[_i+1]||tokens[_i+1].type!==TokenType.EqualsSign))return 1;if(!tokens[_i+1]||tokens[_i+1].type!==TokenType.EqualsSign)return fail(tokens[_i]);switch(tokens[_i].type){case TokenType.Tilde:case TokenType.CircumflexAccent:case TokenType.DollarSign:case TokenType.Asterisk:case TokenType.VerticalLine:return 2}return fail(tokens[_i])}function getAttrselector(){var startPos=pos,s=tokens[pos++].value;if(tokens[pos]&&tokens[pos].type===TokenType.EqualsSign)s+=tokens[pos++].value;return needInfo?[getInfo(startPos),NodeType.AttrselectorType,s]:[NodeType.AttrselectorType,s]}function checkAtrule(_i){var start=_i,l;if(tokens[start].atrule_l!==undefined)return tokens[start].atrule_l;if(l=checkAtruler(_i))tokens[_i].atrule_type=1;else if(l=checkAtruleb(_i))tokens[_i].atrule_type=2;else if(l=checkAtrules(_i))tokens[_i].atrule_type=3;else return fail(tokens[start]);tokens[start].atrule_l=l;return l}function getAtrule(){switch(tokens[pos].atrule_type){case 1:return getAtruler();case 2:return getAtruleb();case 3:return getAtrules()}}function checkAtruleb(_i){var start=_i,l;if(l=checkAtkeyword(_i))_i+=l;else return fail(tokens[_i]);if(l=checkTsets(_i))_i+=l;if(l=checkBlock(_i))_i+=l;else return fail(tokens[_i]);return _i-start}function getAtruleb(){return(needInfo?[getInfo(pos),NodeType.AtrulebType,getAtkeyword()]:[NodeType.AtrulebType,getAtkeyword()]).concat(getTsets()).concat([getBlock()])}function checkAtruler(_i){var start=_i,l;if(l=checkAtkeyword(_i))_i+=l;else return fail(tokens[_i]);if(l=checkAtrulerq(_i))_i+=l;if(_i<tokens.length&&tokens[_i].type===TokenType.LeftCurlyBracket)_i++;else return fail(tokens[_i]);if(l=checkAtrulers(_i))_i+=l;if(_i<tokens.length&&tokens[_i].type===TokenType.RightCurlyBracket)_i++;else return fail(tokens[_i]);return _i-start}function getAtruler(){var atruler=needInfo?[getInfo(pos),NodeType.AtrulerType,getAtkeyword(),getAtrulerq()]:[NodeType.AtrulerType,getAtkeyword(),getAtrulerq()];pos++;atruler.push(getAtrulers());pos++;return atruler}function checkAtrulerq(_i){return checkTsets(_i)}function getAtrulerq(){return createToken(NodeType.AtrulerqType).concat(getTsets())}function checkAtrulers(_i){var start=_i,l;if(l=checkSC(_i))_i+=l;while((l=checkRuleset(_i))||(l=checkAtrule(_i))||(l=checkSC(_i))){_i+=l}tokens[_i].atrulers_end=1;if(l=checkSC(_i))_i+=l;return _i-start}function getAtrulers(){var atrulers=createToken(NodeType.AtrulersType).concat(getSC());while(!tokens[pos].atrulers_end){if(checkSC(pos)){atrulers=atrulers.concat(getSC())}else if(checkRuleset(pos)){atrulers.push(getRuleset())}else{atrulers.push(getAtrule())}}return atrulers.concat(getSC())}function checkAtrules(_i){var start=_i,l;if(l=checkAtkeyword(_i))_i+=l;else return fail(tokens[_i]);if(l=checkTsets(_i))_i+=l;if(_i>=tokens.length)return _i-start;if(tokens[_i].type===TokenType.Semicolon)_i++;else return fail(tokens[_i]);return _i-start}function getAtrules(){var atrules=(needInfo?[getInfo(pos),NodeType.AtrulesType,getAtkeyword()]:[NodeType.AtrulesType,getAtkeyword()]).concat(getTsets());pos++;return atrules}function checkBlock(_i){if(_i<tokens.length&&tokens[_i].type===TokenType.LeftCurlyBracket)return tokens[_i].right-_i+1;return fail(tokens[_i])}function getBlock(){var block=createToken(NodeType.BlockType);var end=tokens[pos].right;pos++;while(pos<end){if(checkBlockdecl(pos))block=block.concat(getBlockdecl());else throwError()}pos=end+1;return block}function checkBlockdecl(_i){var l;if(l=_checkBlockdecl0(_i))tokens[_i].bd_type=1;else if(l=_checkBlockdecl1(_i))tokens[_i].bd_type=2;else if(l=_checkBlockdecl2(_i))tokens[_i].bd_type=3;else if(l=_checkBlockdecl3(_i))tokens[_i].bd_type=4;else return fail(tokens[_i]);return l}function getBlockdecl(){switch(tokens[pos].bd_type){case 1:return _getBlockdecl0();case 2:return _getBlockdecl1();case 3:return _getBlockdecl2();case 4:return _getBlockdecl3()}}function _checkBlockdecl0(_i){var start=_i,l;if(l=checkSC(_i))_i+=l;if(l=checkFilter(_i)){tokens[_i].bd_filter=1;_i+=l}else if(l=checkDeclaration(_i)){tokens[_i].bd_decl=1;_i+=l}else return fail(tokens[_i]);if(_i<tokens.length&&(l=checkDecldelim(_i)))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;return _i-start}function _getBlockdecl0(){return getSC().concat([tokens[pos].bd_filter?getFilter():getDeclaration()]).concat([getDecldelim()]).concat(getSC())}function _checkBlockdecl1(_i){var start=_i,l;if(l=checkSC(_i))_i+=l;if(l=checkFilter(_i)){tokens[_i].bd_filter=1;_i+=l}else if(l=checkDeclaration(_i)){tokens[_i].bd_decl=1;_i+=l}else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;return _i-start}function _getBlockdecl1(){return getSC().concat([tokens[pos].bd_filter?getFilter():getDeclaration()]).concat(getSC())}function _checkBlockdecl2(_i){var start=_i,l;if(l=checkSC(_i))_i+=l;if(l=checkDecldelim(_i))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;return _i-start}function _getBlockdecl2(){return getSC().concat([getDecldelim()]).concat(getSC())}function _checkBlockdecl3(_i){return checkSC(_i)}function _getBlockdecl3(){return getSC()}function checkBraces(_i){if(_i>=tokens.length||tokens[_i].type!==TokenType.LeftParenthesis&&tokens[_i].type!==TokenType.LeftSquareBracket)return fail(tokens[_i]);return tokens[_i].right-_i+1}function getBraces(){var startPos=pos,left=pos,right=tokens[pos].right;pos++;var tsets=getTsets();pos++;return needInfo?[getInfo(startPos),NodeType.BracesType,tokens[left].value,tokens[right].value].concat(tsets):[NodeType.BracesType,tokens[left].value,tokens[right].value].concat(tsets)}function checkClazz(_i){var token=tokens[_i];var l;if(token.clazz_l)return token.clazz_l;if(token.type===TokenType.FullStop){if(tokens[_i+1].type==="DecimalNumber"&&!/\D/.test(tokens[_i+1].value)){_i++}if(l=checkIdent(_i+1)){token.clazz_l=l+1;return l+1}}return fail(token)}function getClazz(){var startPos=pos;var clazz_l=pos+tokens[pos].clazz_l;pos++;var ident=createToken(NodeType.IdentType).concat(joinValues(pos,clazz_l-1));pos=clazz_l;return needInfo?[getInfo(startPos),NodeType.ClazzType,ident]:[NodeType.ClazzType,ident]}function checkCombinator(_i){if(tokens[_i].type===TokenType.PlusSign||tokens[_i].type===TokenType.GreaterThanSign||tokens[_i].type===TokenType.Tilde){return 1}if(tokens[_i+0].type===TokenType.Solidus&&tokens[_i+1].type===TokenType.Identifier&&tokens[_i+1].value==="deep"&&tokens[_i+2].type===TokenType.Solidus){return 3}return fail(tokens[_i])}function getCombinator(){var combinator=tokens[pos].value;if(tokens[pos].type===TokenType.Solidus){combinator="/deep/";pos+=3}else{pos+=1}return needInfo?[getInfo(pos),NodeType.CombinatorType,combinator]:[NodeType.CombinatorType,combinator]}function checkComment(_i){if(tokens[_i].type===TokenType.CommentML)return 1;return fail(tokens[_i])}function getComment(){var startPos=pos,s=tokens[pos].value.substring(2),l=s.length;if(s.charAt(l-2)==="*"&&s.charAt(l-1)==="/")s=s.substring(0,l-2);pos++;return needInfo?[getInfo(startPos),NodeType.CommentType,s]:[NodeType.CommentType,s]}function checkDeclaration(_i){var start=_i,l;if(l=checkProperty(_i))_i+=l;else return fail(tokens[_i]);if(_i<tokens.length&&tokens[_i].type===TokenType.Colon)_i++;else return fail(tokens[_i]);if(l=checkValue(_i))_i+=l;else return fail(tokens[_i]);return _i-start}function getDeclaration(){var declaration=needInfo?[getInfo(pos),NodeType.DeclarationType,getProperty()]:[NodeType.DeclarationType,getProperty()];pos++;declaration.push(getValue());return declaration}function checkDecldelim(_i){if(_i<tokens.length&&tokens[_i].type===TokenType.Semicolon)return 1;return fail(tokens[_i])}function getDecldelim(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.DecldelimType]:[NodeType.DecldelimType]}function checkDelim(_i){if(_i<tokens.length&&tokens[_i].type===TokenType.Comma)return 1;if(_i>=tokens.length)return fail(tokens[tokens.length-1]);return fail(tokens[_i])}function getDelim(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.DelimType]:[NodeType.DelimType]}function checkDimension(_i){var ln=checkNumber(_i),li;if(!ln||ln&&_i+ln>=tokens.length)return fail(tokens[_i]);if(li=checkNmName2(_i+ln))return ln+li;return fail(tokens[_i])}function getDimension(){var startPos=pos,n=getNumber(),dimension=needInfo?[getInfo(pos),NodeType.IdentType,getNmName2()]:[NodeType.IdentType,getNmName2()];return needInfo?[getInfo(startPos),NodeType.DimensionType,n,dimension]:[NodeType.DimensionType,n,dimension]}function checkFilter(_i){var start=_i,l;if(l=checkFilterp(_i))_i+=l;else return fail(tokens[_i]);if(tokens[_i].type===TokenType.Colon)_i++;else return fail(tokens[_i]);if(l=checkFilterv(_i))_i+=l;else return fail(tokens[_i]);return _i-start}function getFilter(){var filter=needInfo?[getInfo(pos),NodeType.FilterType,getFilterp()]:[NodeType.FilterType,getFilterp()];pos++;filter.push(getFilterv());return filter}function checkFilterp(_i){var start=_i,l,x;if(_i<tokens.length){if(tokens[_i].value==="filter")l=1;else{x=joinValues2(_i,2);if(x==="-filter"||x==="_filter"||x==="*filter")l=2;else{x=joinValues2(_i,4);if(x==="-ms-filter")l=4;else return fail(tokens[_i])}}tokens[start].filterp_l=l;_i+=l;if(checkSC(_i))_i+=l;return _i-start}return fail(tokens[_i])}function getFilterp(){var startPos=pos,x=joinValues2(pos,tokens[pos].filterp_l),ident=needInfo?[getInfo(startPos),NodeType.IdentType,x]:[NodeType.IdentType,x];pos+=tokens[pos].filterp_l;return(needInfo?[getInfo(startPos),NodeType.PropertyType,ident]:[NodeType.PropertyType,ident]).concat(getSC())}function checkFilterv(_i){var start=_i,l;if(l=checkProgid(_i))_i+=l;else return fail(tokens[_i]);while(l=checkProgid(_i)){_i+=l}tokens[start].last_progid=_i;if(_i<tokens.length&&(l=checkSC(_i)))_i+=l;if(_i<tokens.length&&(l=checkImportant(_i)))_i+=l;return _i-start}function getFilterv(){var filterv=createToken(NodeType.FiltervType);var last_progid=tokens[pos].last_progid;while(pos<last_progid){filterv.push(getProgid())}filterv=filterv.concat(checkSC(pos)?getSC():[]);if(pos<tokens.length&&checkImportant(pos))filterv.push(getImportant());return filterv}function checkFunctionExpression(_i){var start=_i;if(!tokens[_i]||tokens[_i++].value!=="expression")return fail(tokens[_i-1]);if(!tokens[_i]||tokens[_i].type!==TokenType.LeftParenthesis)return fail(tokens[_i]);return tokens[_i].right-start+1}function getFunctionExpression(){var startPos=pos;pos++;var e=joinValues(pos+1,tokens[pos].right-1);pos=tokens[pos].right+1;return needInfo?[getInfo(startPos),NodeType.FunctionExpressionType,e]:[NodeType.FunctionExpressionType,e]}function checkFunktion(_i){var start=_i,l=checkIdent(_i);if(!l)return fail(tokens[_i]);_i+=l;if(_i>=tokens.length||tokens[_i].type!==TokenType.LeftParenthesis)return fail(tokens[_i-1]);return tokens[_i].right-start+1}function getFunktion(){var startPos=pos,ident=getIdent();pos++;var body=ident[needInfo?2:1]!=="not"?getFunctionBody():getNotFunctionBody();return needInfo?[getInfo(startPos),NodeType.FunktionType,ident,body]:[NodeType.FunktionType,ident,body]}function getFunctionBody(){var startPos=pos,body=[],x;while(tokens[pos].type!==TokenType.RightParenthesis){if(checkTset(pos)){x=getTset();if(needInfo&&typeof x[1]==="string"||typeof x[0]==="string")body.push(x);else body=body.concat(x)}else if(checkClazz(pos)){body.push(getClazz())}else{throwError()}}pos++;return(needInfo?[getInfo(startPos),NodeType.FunctionBodyType]:[NodeType.FunctionBodyType]).concat(body)}function getNotFunctionBody(){var startPos=pos,body=[];while(tokens[pos].type!==TokenType.RightParenthesis){if(checkSimpleselector(pos)){body.push(getSimpleSelector())}else{throwError()}}pos++;return(needInfo?[getInfo(startPos),NodeType.FunctionBodyType]:[NodeType.FunctionBodyType]).concat(body)}function getUnicodeRange(i,tryNext){var hex="";for(;i<tokens.length;i++){if(tokens[i].type!==TokenType.DecimalNumber&&tokens[i].type!==TokenType.Identifier){break}hex+=tokens[i].value}if(/^[0-9a-f]{1,6}$/i.test(hex)){if(tryNext){for(;hex.length<6&&i<tokens.length;i++){if(tokens[i].type!==TokenType.QuestionMark){break}hex+=tokens[i].value;tryNext=false}}if(tryNext){if(tokens[i]&&tokens[i].type===TokenType.HyphenMinus){var next=getUnicodeRange(i+1);if(next){return next}}}return i}}function checkIdent(_i,attribute){if(_i>=tokens.length)return fail(tokens[_i]);var start=_i,wasIdent=false;if(tokens[_i].type===TokenType.Identifier&&(tokens[_i].value==="U"||tokens[_i].value==="u")&&tokens[_i+1].type===TokenType.PlusSign){var unicodeRange=getUnicodeRange(_i+2,true);if(unicodeRange){tokens[start].ident_last=unicodeRange-1;return unicodeRange-start}}if(tokens[_i].type===TokenType.LowLine)return checkIdentLowLine(_i,attribute);if(tokens[_i].type===TokenType.HyphenMinus||tokens[_i].type===TokenType.Identifier||tokens[_i].type===TokenType.DollarSign||tokens[_i].type===TokenType.Asterisk)_i++;else return fail(tokens[_i]);wasIdent=tokens[_i-1].type===TokenType.Identifier;for(;_i<tokens.length;_i++){if(tokens[_i].type!==TokenType.HyphenMinus&&tokens[_i].type!==TokenType.LowLine){if(tokens[_i].type!==TokenType.Identifier&&(!attribute||tokens[_i].type!==TokenType.Colon)&&(!wasIdent||tokens[_i].type!==TokenType.DecimalNumber))break;else wasIdent=true}}if(!wasIdent&&tokens[start].type!==TokenType.Asterisk)return fail(tokens[_i]);tokens[start].ident_last=_i-1;return _i-start}function checkIdentLowLine(_i,attribute){var start=_i;_i++;for(;_i<tokens.length;_i++){if(tokens[_i].type!==TokenType.HyphenMinus&&tokens[_i].type!==TokenType.DecimalNumber&&tokens[_i].type!==TokenType.LowLine&&tokens[_i].type!==TokenType.Identifier&&(!attribute||tokens[_i].type!==TokenType.Colon))break}tokens[start].ident_last=_i-1;return _i-start}function getIdent(){var startPos=pos,s=joinValues(pos,tokens[pos].ident_last);pos=tokens[pos].ident_last+1;return needInfo?[getInfo(startPos),NodeType.IdentType,s]:[NodeType.IdentType,s]}function checkImportant(_i){var start=_i,l;if(tokens[_i++].type!==TokenType.ExclamationMark)return fail(tokens[_i-1]);if(l=checkSC(_i))_i+=l;if(tokens[_i].value.toLowerCase()!=="important")return fail(tokens[_i]);return _i-start+1}function getImportant(){var startPos=pos;pos++;var sc=getSC();pos++;return(needInfo?[getInfo(startPos),NodeType.ImportantType]:[NodeType.ImportantType]).concat(sc)}function checkNamespace(_i){if(tokens[_i].type===TokenType.VerticalLine)return 1;return fail(tokens[_i])}function getNamespace(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.NamespaceType]:[NodeType.NamespaceType]}function checkNth(_i){return checkNth1(_i)||checkNth2(_i)}function checkNth1(_i){var start=_i;for(;_i<tokens.length;_i++){if(tokens[_i].type!==TokenType.DecimalNumber&&tokens[_i].value!=="n")break}if(_i!==start){tokens[start].nth_last=_i-1;return _i-start}return fail(tokens[_i])}function getNth(){var startPos=pos;

if(tokens[pos].nth_last){var n=needInfo?[getInfo(startPos),NodeType.NthType,joinValues(pos,tokens[pos].nth_last)]:[NodeType.NthType,joinValues(pos,tokens[pos].nth_last)];pos=tokens[pos].nth_last+1;return n}return needInfo?[getInfo(startPos),NodeType.NthType,tokens[pos++].value]:[NodeType.NthType,tokens[pos++].value]}function checkNth2(_i){if(tokens[_i].value==="even"||tokens[_i].value==="odd")return 1;return fail(tokens[_i])}function checkNthf(_i){var start=_i,l=0;if(tokens[_i++].type!==TokenType.Colon)return fail(tokens[_i-1]);l++;if(tokens[_i++].value!=="nth"||tokens[_i++].value!=="-")return fail(tokens[_i-1]);l+=2;if("child"===tokens[_i].value){l+=1}else if("last-child"===tokens[_i].value+tokens[_i+1].value+tokens[_i+2].value){l+=3}else if("of-type"===tokens[_i].value+tokens[_i+1].value+tokens[_i+2].value){l+=3}else if("last-of-type"===tokens[_i].value+tokens[_i+1].value+tokens[_i+2].value+tokens[_i+3].value+tokens[_i+4].value){l+=5}else return fail(tokens[_i]);tokens[start+1].nthf_last=start+l-1;return l}function getNthf(){pos++;var s=joinValues(pos,tokens[pos].nthf_last);pos=tokens[pos].nthf_last+1;return s}function checkNthselector(_i){var start=_i,l;if(l=checkNthf(_i))_i+=l;else return fail(tokens[_i]);if(tokens[_i].type!==TokenType.LeftParenthesis||!tokens[_i].right)return fail(tokens[_i]);l++;var rp=tokens[_i++].right;while(_i<rp){if(l=checkSC(_i))_i+=l;else if(l=checkUnary(_i))_i+=l;else if(l=checkNth(_i))_i+=l;else return fail(tokens[_i])}return rp-start+1}function getNthselector(){var nthf=needInfo?[getInfo(pos),NodeType.IdentType,getNthf()]:[NodeType.IdentType,getNthf()],ns=needInfo?[getInfo(pos),NodeType.NthselectorType,nthf]:[NodeType.NthselectorType,nthf];pos++;while(tokens[pos].type!==TokenType.RightParenthesis){if(checkSC(pos))ns=ns.concat(getSC());else if(checkUnary(pos))ns.push(getUnary());else if(checkNth(pos))ns.push(getNth())}pos++;return ns}function checkNumber(_i){if(_i<tokens.length&&tokens[_i].number_l)return tokens[_i].number_l;if(_i<tokens.length&&tokens[_i].type===TokenType.DecimalNumber&&(!tokens[_i+1]||tokens[_i+1]&&tokens[_i+1].type!==TokenType.FullStop))return tokens[_i].number_l=1,tokens[_i].number_l;if(_i<tokens.length&&tokens[_i].type===TokenType.DecimalNumber&&tokens[_i+1]&&tokens[_i+1].type===TokenType.FullStop&&(!tokens[_i+2]||tokens[_i+2].type!==TokenType.DecimalNumber))return tokens[_i].number_l=2,tokens[_i].number_l;if(_i<tokens.length&&tokens[_i].type===TokenType.FullStop&&tokens[_i+1].type===TokenType.DecimalNumber)return tokens[_i].number_l=2,tokens[_i].number_l;if(_i<tokens.length&&tokens[_i].type===TokenType.DecimalNumber&&tokens[_i+1]&&tokens[_i+1].type===TokenType.FullStop&&tokens[_i+2]&&tokens[_i+2].type===TokenType.DecimalNumber)return tokens[_i].number_l=3,tokens[_i].number_l;return fail(tokens[_i])}function getNumber(){var s="",startPos=pos,l=tokens[pos].number_l;for(var i=0;i<l;i++){s+=tokens[pos+i].value}pos+=l;return needInfo?[getInfo(startPos),NodeType.NumberType,s]:[NodeType.NumberType,s]}function checkOperator(_i){if(_i<tokens.length&&(tokens[_i].type===TokenType.Solidus||tokens[_i].type===TokenType.Comma||tokens[_i].type===TokenType.Colon||tokens[_i].type===TokenType.EqualsSign))return 1;return fail(tokens[_i])}function getOperator(){return needInfo?[getInfo(pos),NodeType.OperatorType,tokens[pos++].value]:[NodeType.OperatorType,tokens[pos++].value]}function checkPercentage(_i){var x=checkNumber(_i);if(!x||x&&_i+x>=tokens.length)return fail(tokens[_i]);if(tokens[_i+x].type===TokenType.PercentSign)return x+1;return fail(tokens[_i])}function getPercentage(){var startPos=pos,n=getNumber();pos++;return needInfo?[getInfo(startPos),NodeType.PercentageType,n]:[NodeType.PercentageType,n]}function checkProgid(_i){var start=_i,l,x;if(l=checkSC(_i))_i+=l;if(_i<tokens.length-1&&tokens[_i].value==="progid"&&tokens[_i+1].type===TokenType.Colon){_i+=2}else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;if((x=joinValues2(_i,4))==="DXImageTransform.Microsoft."){_i+=4}else return fail(tokens[_i-1]);if(l=checkIdent(_i))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;if(tokens[_i].type===TokenType.LeftParenthesis){tokens[start].progid_end=tokens[_i].right;_i=tokens[_i].right+1}else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;return _i-start}function getProgid(){var startPos=pos,progid_end=tokens[pos].progid_end;return(needInfo?[getInfo(startPos),NodeType.ProgidType]:[NodeType.ProgidType]).concat(getSC()).concat([_getProgid(progid_end)]).concat(getSC())}function _getProgid(progid_end){var startPos=pos,x=joinValues(pos,progid_end);pos=progid_end+1;return needInfo?[getInfo(startPos),NodeType.RawType,x]:[NodeType.RawType,x]}function checkProperty(_i){var start=_i,l;if(l=checkIdent(_i))_i+=l;else return fail(tokens[_i]);if(l=checkSC(_i))_i+=l;return _i-start}function getProperty(){var startPos=pos;return(needInfo?[getInfo(startPos),NodeType.PropertyType,getIdent()]:[NodeType.PropertyType,getIdent()]).concat(getSC())}function checkPseudo(_i){return checkPseudoe(_i)||checkPseudoc(_i)}function getPseudo(){if(checkPseudoe(pos))return getPseudoe();if(checkPseudoc(pos))return getPseudoc()}function checkPseudoe(_i){var l;if(tokens[_i++].type!==TokenType.Colon)return fail(tokens[_i-1]);if(tokens[_i++].type!==TokenType.Colon)return fail(tokens[_i-1]);if(l=checkIdent(_i))return l+2;return fail(tokens[_i])}function getPseudoe(){var startPos=pos;pos+=2;return needInfo?[getInfo(startPos),NodeType.PseudoeType,getIdent()]:[NodeType.PseudoeType,getIdent()]}function checkPseudoc(_i){var l;if(tokens[_i++].type!==TokenType.Colon)return fail(tokens[_i-1]);if((l=checkFunktion(_i))||(l=checkIdent(_i)))return l+1;return fail(tokens[_i])}function getPseudoc(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.PseudocType,checkFunktion(pos)?getFunktion():getIdent()]:[NodeType.PseudocType,checkFunktion(pos)?getFunktion():getIdent()]}function checkRuleset(_i){var start=_i,l;if(tokens[start].ruleset_l!==undefined)return tokens[start].ruleset_l;while(l=checkSelector(_i)){_i+=l}if(l=checkBlock(_i))_i+=l;else return fail(tokens[_i]);tokens[start].ruleset_l=_i-start;return _i-start}function getRuleset(){var ruleset=createToken(NodeType.RulesetType);while(!checkBlock(pos)){ruleset.push(getSelector())}ruleset.push(getBlock());return ruleset}function checkS(_i){if(tokens[_i].type===TokenType.Space){return 1}return fail(tokens[_i])}function getS(){var startPos=pos,s=tokens[pos].value;pos++;return needInfo?[getInfo(startPos),NodeType.SType,s]:[NodeType.SType,s]}function checkSC(_i){var l,lsc=0;while(_i<tokens.length){if(!(l=checkS(_i))&&!(l=checkComment(_i)))break;_i+=l;lsc+=l}if(lsc)return lsc;if(_i>=tokens.length)return fail(tokens[tokens.length-1]);return fail(tokens[_i])}function getSC(){var sc=[];while(pos<tokens.length){if(checkS(pos))sc.push(getS());else if(checkComment(pos))sc.push(getComment());else break}return sc}function checkSelector(_i){var start=_i,l;if(_i<tokens.length){while(l=checkSimpleselector(_i)||checkDelim(_i)){_i+=l}tokens[start].selector_end=_i-1;return _i-start}}function getSelector(){var selector=createToken(NodeType.SelectorType);var selector_end=tokens[pos].selector_end;while(pos<=selector_end){selector.push(checkDelim(pos)?getDelim():getSimpleSelector())}return selector}function checkShash(_i){if(tokens[_i].type!==TokenType.NumberSign)return fail(tokens[_i]);var l=checkNmName(_i+1);if(l)return l+1;return fail(tokens[_i])}function getShash(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.ShashType,getNmName()]:[NodeType.ShashType,getNmName()]}function checkSimpleselector(_i){var start=_i,l;while(_i<tokens.length){if(l=_checkSimpleSelector(_i))_i+=l;else break}if(_i-start)return _i-start;if(_i>=tokens.length)return fail(tokens[tokens.length-1]);return fail(tokens[_i])}function _checkSimpleSelector(_i){return checkNthselector(_i)||checkCombinator(_i)||checkAttrib(_i)||checkPseudo(_i)||checkClazz(_i)||checkShash(_i)||checkAny(_i)||checkSC(_i)||checkNamespace(_i)}function getSimpleSelector(){var ss=createToken(NodeType.SimpleselectorType);var t;while(pos<tokens.length&&_checkSimpleSelector(pos)){t=_getSimpleSelector();if(needInfo&&typeof t[1]==="string"||typeof t[0]==="string")ss.push(t);else ss=ss.concat(t)}return ss}function _getSimpleSelector(){if(checkNthselector(pos))return getNthselector();else if(checkCombinator(pos))return getCombinator();else if(checkAttrib(pos))return getAttrib();else if(checkPseudo(pos))return getPseudo();else if(checkClazz(pos))return getClazz();else if(checkShash(pos))return getShash();else if(checkAny(pos))return getAny();else if(checkSC(pos))return getSC();else if(checkNamespace(pos))return getNamespace()}function checkString(_i){if(_i<tokens.length&&(tokens[_i].type===TokenType.StringSQ||tokens[_i].type===TokenType.StringDQ))return 1;return fail(tokens[_i])}function getString(){var startPos=pos;return needInfo?[getInfo(startPos),NodeType.StringType,tokens[pos++].value]:[NodeType.StringType,tokens[pos++].value]}function checkStylesheet(_i){var start=_i,l;while(_i<tokens.length){if(l=checkSC(_i))_i+=l;else{currentBlockLN=tokens[_i].line;if(l=checkAtrule(_i))_i+=l;else if(l=checkRuleset(_i))_i+=l;else if(l=checkUnknown(_i))_i+=l;else throwError()}}return _i-start}function getStylesheet(){var stylesheet=createToken(NodeType.StylesheetType);while(pos<tokens.length){if(checkSC(pos))stylesheet=stylesheet.concat(getSC());else{currentBlockLN=tokens[pos].line;if(checkRuleset(pos))stylesheet.push(getRuleset());else if(checkAtrule(pos))stylesheet.push(getAtrule());else if(checkUnknown(pos))stylesheet.push(getUnknown());else throwError()}}return stylesheet}function checkTset(_i){return checkVhash(_i)||checkAny(_i)||checkSC(_i)||checkOperator(_i)}function getTset(){if(checkVhash(pos))return getVhash();else if(checkAny(pos))return getAny();else if(checkSC(pos))return getSC();else if(checkOperator(pos))return getOperator()}function checkTsets(_i){var start=_i,l;while(l=checkTset(_i)){_i+=l}return _i-start}function getTsets(){var tsets=[],x;while(x=getTset()){if(needInfo&&typeof x[1]==="string"||typeof x[0]==="string")tsets.push(x);else tsets=tsets.concat(x)}return tsets}function checkUnary(_i){if(_i<tokens.length&&(tokens[_i].type===TokenType.HyphenMinus||tokens[_i].type===TokenType.PlusSign))return 1;return fail(tokens[_i])}function getUnary(){var startPos=pos;return needInfo?[getInfo(startPos),NodeType.UnaryType,tokens[pos++].value]:[NodeType.UnaryType,tokens[pos++].value]}function checkUnknown(_i){if(_i<tokens.length&&tokens[_i].type===TokenType.CommentSL)return 1;return fail(tokens[_i])}function getUnknown(){var startPos=pos;return needInfo?[getInfo(startPos),NodeType.UnknownType,tokens[pos++].value]:[NodeType.UnknownType,tokens[pos++].value]}function checkUri(_i){var start=_i;if(_i<tokens.length&&tokens[_i++].value!=="url")return fail(tokens[_i-1]);if(!tokens[_i]||tokens[_i].type!==TokenType.LeftParenthesis)return fail(tokens[_i]);return tokens[_i].right-start+1}function getUri(){var startPos=pos;pos+=2;if(checkUri1(pos)){var uri=(needInfo?[getInfo(startPos),NodeType.UriType]:[NodeType.UriType]).concat(getSC()).concat([getString()]).concat(getSC());pos++;return uri}else{var uri=(needInfo?[getInfo(startPos),NodeType.UriType]:[NodeType.UriType]).concat(getSC()),l=checkExcluding(pos),raw=needInfo?[getInfo(pos),NodeType.RawType,joinValues(pos,pos+l)]:[NodeType.RawType,joinValues(pos,pos+l)];uri.push(raw);pos+=l+1;uri=uri.concat(getSC());pos++;return uri}}function checkUri1(_i){var start=_i,l=checkSC(_i);if(l)_i+=l;if(tokens[_i].type!==TokenType.StringDQ&&tokens[_i].type!==TokenType.StringSQ)return fail(tokens[_i]);_i++;if(l=checkSC(_i))_i+=l;return _i-start}function checkValue(_i){var start=_i,l;while(_i<tokens.length){if(l=_checkValue(_i))_i+=l;else break}if(_i-start)return _i-start;return fail(tokens[_i])}function _checkValue(_i){return checkSC(_i)||checkVhash(_i)||checkAny(_i)||checkBlock(_i)||checkAtkeyword(_i)||checkOperator(_i)||checkImportant(_i)}function getValue(){var ss=createToken(NodeType.ValueType);var t;while(pos<tokens.length&&_checkValue(pos)){t=_getValue();if(needInfo&&typeof t[1]==="string"||typeof t[0]==="string")ss.push(t);else ss=ss.concat(t)}return ss}function _getValue(){if(checkSC(pos))return getSC();else if(checkVhash(pos))return getVhash();else if(checkAny(pos))return getAny();else if(checkBlock(pos))return getBlock();else if(checkAtkeyword(pos))return getAtkeyword();else if(checkOperator(pos))return getOperator();else if(checkImportant(pos))return getImportant()}function checkVhash(_i){if(_i>=tokens.length||tokens[_i].type!==TokenType.NumberSign)return fail(tokens[_i]);var l=checkNmName2(_i+1);if(l)return l+1;return fail(tokens[_i])}function getVhash(){var startPos=pos;pos++;return needInfo?[getInfo(startPos),NodeType.VhashType,getNmName2()]:[NodeType.VhashType,getNmName2()]}function checkNmName(_i){var start=_i;if(tokens[_i].type===TokenType.HyphenMinus||tokens[_i].type===TokenType.LowLine||tokens[_i].type===TokenType.Identifier||tokens[_i].type===TokenType.DecimalNumber)_i++;else return fail(tokens[_i]);for(;_i<tokens.length;_i++){if(tokens[_i].type!==TokenType.HyphenMinus&&tokens[_i].type!==TokenType.LowLine&&tokens[_i].type!==TokenType.Identifier&&tokens[_i].type!==TokenType.DecimalNumber)break}tokens[start].nm_name_last=_i-1;return _i-start}function getNmName(){var s=joinValues(pos,tokens[pos].nm_name_last);pos=tokens[pos].nm_name_last+1;return s}function checkNmName2(_i){if(tokens[_i].type===TokenType.Identifier)return 1;else if(tokens[_i].type!==TokenType.DecimalNumber)return fail(tokens[_i]);_i++;if(!tokens[_i]||tokens[_i].type!==TokenType.Identifier)return 1;return 2}function getNmName2(){var s=tokens[pos].value;if(tokens[pos++].type===TokenType.DecimalNumber&&pos<tokens.length&&tokens[pos].type===TokenType.Identifier)s+=tokens[pos++].value;return s}function checkExcluding(_i){var start=_i;while(_i<tokens.length){var type=tokens[_i++].type;if(type===TokenType.Space||type===TokenType.LeftParenthesis||type===TokenType.RightParenthesis){break}}return _i-start-2}function joinValues(start,finish){var s="";for(var i=start;i<=finish;i++){s+=tokens[i].value}return s}function joinValues2(start,num){if(start+num-1>=tokens.length){return}var s="";for(var i=0;i<num;i++){s+=tokens[start+i].value}return s}module.exports=function parse(source,rule,_needInfo){tokens=tokenize(source);rule=rule||"stylesheet";needInfo=_needInfo;pos=0;failLN=0;var ast=CSSPRules[rule]();return ast}},{"./const.js":40,"./tokenize.js":42}],42:[function(require,module,exports){var TokenType=require("./const.js");var pos;var lineStartPos;var ln;var Punctuation={" ":TokenType.Space,"\n":TokenType.Newline,"\r":TokenType.Newline,"	":TokenType.Tab,"!":TokenType.ExclamationMark,'"':TokenType.QuotationMark,"#":TokenType.NumberSign,$:TokenType.DollarSign,"%":TokenType.PercentSign,"&":TokenType.Ampersand,"'":TokenType.Apostrophe,"(":TokenType.LeftParenthesis,")":TokenType.RightParenthesis,"*":TokenType.Asterisk,"+":TokenType.PlusSign,",":TokenType.Comma,"-":TokenType.HyphenMinus,".":TokenType.FullStop,"/":TokenType.Solidus,":":TokenType.Colon,";":TokenType.Semicolon,"<":TokenType.LessThanSign,"=":TokenType.EqualsSign,">":TokenType.GreaterThanSign,"?":TokenType.QuestionMark,"@":TokenType.CommercialAt,"[":TokenType.LeftSquareBracket,"]":TokenType.RightSquareBracket,"^":TokenType.CircumflexAccent,_:TokenType.LowLine,"{":TokenType.LeftCurlyBracket,"|":TokenType.VerticalLine,"}":TokenType.RightCurlyBracket,"~":TokenType.Tilde};function isDecimalDigit(c){return"0123456789".indexOf(c)!==-1}function tokenize(s){function pushToken(type,ln,column,value){tokens.push({type:type,value:value,offset:lastPos,line:ln,column:column});lastPos=pos}if(!s){return[]}var tokens=[];var urlMode=false;pos=s.charCodeAt(0)===65279?1:0;var lastPos=pos;ln=1;lineStartPos=-1;var blockMode=0;var c;var cn;var ident;for(;pos<s.length;pos++){c=s.charAt(pos);cn=s.charAt(pos+1);if(c==="/"&&cn==="*"){pushToken(TokenType.CommentML,ln,pos-lineStartPos,parseMLComment(s))}else if(!urlMode&&c==="/"&&cn==="/"){if(blockMode>0){pushToken(TokenType.Identifier,ln,pos-lineStartPos,ident=parseIdentifier(s));urlMode=urlMode||ident==="url"}else{pushToken(TokenType.CommentSL,ln,pos-lineStartPos,parseSLComment(s))}}else if(c==='"'||c==="'"){pushToken(c==='"'?TokenType.StringDQ:TokenType.StringSQ,ln,pos-lineStartPos,parseString(s,c))}else if(c===" "||c==="\n"||c==="\r"||c==="	"||c==="\f"){pushToken(TokenType.Space,ln,pos-lineStartPos,parseSpaces(s))}else if(c in Punctuation){pushToken(Punctuation[c],ln,pos-lineStartPos,c);if(c===")"){urlMode=false}if(c==="{"){blockMode++}if(c==="}"){blockMode--}}else if(isDecimalDigit(c)){pushToken(TokenType.DecimalNumber,ln,pos-lineStartPos,parseDecimalNumber(s))}else{pushToken(TokenType.Identifier,ln,pos-lineStartPos,ident=parseIdentifier(s));urlMode=urlMode||ident==="url"}}mark(tokens);return tokens}function parseSpaces(s){var start=pos;for(;pos<s.length;pos++){var c=s.charAt(pos);if(c==="\n"||c==="\f"){ln++;lineStartPos=pos}else if(c==="\r"){ln++;if(s.charAt(pos+1)==="\n"){pos++}lineStartPos=pos}else if(c!==" "&&c!=="	"){break}}pos--;return s.substring(start,pos+1)}function parseMLComment(s){var start=pos;for(pos=pos+2;pos<s.length;pos++){if(s.charAt(pos)==="*"){if(s.charAt(pos+1)==="/"){pos++;break}}if(s.charAt(pos)==="\n"){ln++;lineStartPos=pos}}return s.substring(start,pos+1)}function parseSLComment(s){var start=pos;for(pos=pos+2;pos<s.length;pos++){if(s.charAt(pos)==="\n"||s.charAt(pos)==="\r"){break}}return s.substring(start,pos+1)}function parseString(s,q){var start=pos;var res="";for(pos=pos+1;pos<s.length;pos++){if(s.charAt(pos)==="\\"){var next=s.charAt(pos+1);if(next==="\n"||next==="\f"){res+=s.substring(start,pos);start=pos+2;pos++}else if(next==="\r"){res+=s.substring(start,pos);if(s.charAt(pos+2)==="\n"){pos++}start=pos+2;pos++}else{pos++}}else if(s.charAt(pos)===q){break}}return res+s.substring(start,pos+1)}function parseDecimalNumber(s){var start=pos;for(;pos<s.length;pos++){if(!isDecimalDigit(s.charAt(pos))){break}}pos--;return s.substring(start,pos+1)}function parseIdentifier(s){var start=pos;while(s.charAt(pos)==="/"){pos++}for(;pos<s.length;pos++){var c=s.charAt(pos);if(c==="\\"){pos++}else if(c in Punctuation&&c!=="_"){break}}pos--;return s.substring(start,pos+1)}function mark(tokens){var ps=[];var sbs=[];var cbs=[];for(var i=0,t;i<tokens.length;i++){t=tokens[i];switch(t.type){case TokenType.LeftParenthesis:ps.push(i);break;case TokenType.RightParenthesis:if(ps.length){tokens[ps.pop()].right=i}break;case TokenType.LeftSquareBracket:sbs.push(i);break;case TokenType.RightSquareBracket:if(sbs.length){tokens[sbs.pop()].right=i}break;case TokenType.LeftCurlyBracket:cbs.push(i);break;case TokenType.RightCurlyBracket:if(cbs.length){tokens[cbs.pop()].right=i}break}}}module.exports=tokenize},{"./const.js":40}],43:[function(require,module,exports){module.exports=function cleanInfo(tree){var res=tree.slice(1);for(var i=1,token;token=res[i];i++){if(Array.isArray(token)){res[i]=cleanInfo(token)}}return res}},{}],44:[function(require,module,exports){function indent(num){return new Array(num+1).join("  ")}function escape(str){return str.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/"/g,'\\"')}module.exports=function stringify(val,level){level=level||0;if(typeof val=="string"){return'"'+escape(val)+'"'}if(val&&val.constructor===Object){var body=Object.keys(val).map(function(k){return indent(level+1)+'"'+escape(k)+'": '+stringify(val[k],level+1)}).join(",\n");return"{"+(body?"\n"+body+"\n"+indent(level):"")+"}"}if(Array.isArray(val)){var join=true;var body=val.map(function(item,idx){var prefix=idx?" ":"";if(Array.isArray(item)&&(!join||!item.some(Array.isArray))){prefix="\n"+indent(level+1);join=false}return prefix+stringify(item,level+1)}).join(",");if(/\n/.test(body)){body="\n"+indent(level+1)+body+"\n"+indent(level)}return"["+body+"]"}return String(val)}},{}],45:[function(require,module,exports){var useInfo;var buffer;var typeHandlers={unary:simple,nth:simple,combinator:simple,ident:simple,number:simple,s:simple,string:simple,attrselector:simple,operator:simple,raw:simple,unknown:simple,simpleselector:composite,dimension:composite,selector:composite,property:composite,value:composite,filterv:composite,progid:composite,ruleset:composite,atruleb:composite,atrulerq:composite,atrulers:composite,stylesheet:composite,percentage:percentage,comment:comment,clazz:clazz,atkeyword:atkeyword,shash:shash,vhash:vhash,attrib:attrib,important:important,nthselector:nthselector,funktion:funktion,declaration:declaration,filter:filter,block:block,braces:braces,atrules:atrules,atruler:atruler,pseudoe:pseudoe,pseudoc:pseudoc,uri:uri,functionExpression:functionExpression,cdo:function(){buffer.push("cdo")},cdc:function(){buffer.push("cdc")},decldelim:function(){buffer.push(";")},namespace:function(){buffer.push("|")},delim:function(){buffer.push(",")}};function simple(token){buffer.push(token[useInfo+1])}function composite(token){for(var i=useInfo+1;i<token.length;i++){translate(token[i])}}function compositeFrom(token,i){for(;i<token.length;i++){translate(token[i])}}function percentage(token){translate(token[useInfo+1]);buffer.push("%")}function comment(token){buffer.push("/*",token[useInfo+1],"*/")}function clazz(token){buffer.push(".");translate(token[useInfo+1])}function atkeyword(token){buffer.push("@");translate(token[useInfo+1])}function shash(token){buffer.push("#",token[useInfo+1])}function vhash(token){buffer.push("#",token[useInfo+1])}function attrib(token){buffer.push("[");composite(token);buffer.push("]")}function important(token){buffer.push("!");composite(token);buffer.push("important")}function nthselector(token){buffer.push(":");simple(token[useInfo+1]);buffer.push("(");compositeFrom(token,useInfo+2);buffer.push(")")}function funktion(token){simple(token[useInfo+1]);buffer.push("(");composite(token[useInfo+2]);buffer.push(")")}function declaration(token){translate(token[useInfo+1]);buffer.push(":");translate(token[useInfo+2])}function filter(token){translate(token[useInfo+1]);buffer.push(":");translate(token[useInfo+2])}function block(token){buffer.push("{");composite(token);buffer.push("}")}function braces(token){buffer.push(token[useInfo+1]);compositeFrom(token,useInfo+3);buffer.push(token[useInfo+2])}function atrules(token){composite(token);buffer.push(";")}function atruler(token){translate(token[useInfo+1]);translate(token[useInfo+2]);buffer.push("{");translate(token[useInfo+3]);buffer.push("}")}function pseudoe(token){buffer.push("::");translate(token[useInfo+1])}function pseudoc(token){buffer.push(":");translate(token[useInfo+1])}function uri(token){buffer.push("url(");composite(token);buffer.push(")")}function functionExpression(token){buffer.push("expression(",token[useInfo+1],")")}function translate(token){typeHandlers[token[useInfo]](token)}module.exports=function(tree,hasInfo){useInfo=hasInfo?1:0;buffer=[];translate(tree);return buffer.join("")}},{}],46:[function(require,module,exports){"use strict";var yaml=require("./lib/js-yaml.js");module.exports=yaml},{"./lib/js-yaml.js":47}],47:[function(require,module,exports){"use strict";var loader=require("./js-yaml/loader");var dumper=require("./js-yaml/dumper");function deprecated(name){return function(){throw new Error("Function "+name+" is deprecated and cannot be used.")}}module.exports.Type=require("./js-yaml/type");module.exports.Schema=require("./js-yaml/schema");module.exports.FAILSAFE_SCHEMA=require("./js-yaml/schema/failsafe");module.exports.JSON_SCHEMA=require("./js-yaml/schema/json");module.exports.CORE_SCHEMA=require("./js-yaml/schema/core");module.exports.DEFAULT_SAFE_SCHEMA=require("./js-yaml/schema/default_safe");module.exports.DEFAULT_FULL_SCHEMA=require("./js-yaml/schema/default_full");module.exports.load=loader.load;module.exports.loadAll=loader.loadAll;module.exports.safeLoad=loader.safeLoad;module.exports.safeLoadAll=loader.safeLoadAll;module.exports.dump=dumper.dump;module.exports.safeDump=dumper.safeDump;module.exports.YAMLException=require("./js-yaml/exception");module.exports.MINIMAL_SCHEMA=require("./js-yaml/schema/failsafe");module.exports.SAFE_SCHEMA=require("./js-yaml/schema/default_safe");module.exports.DEFAULT_SCHEMA=require("./js-yaml/schema/default_full");module.exports.scan=deprecated("scan");module.exports.parse=deprecated("parse");module.exports.compose=deprecated("compose");module.exports.addConstructor=deprecated("addConstructor")},{"./js-yaml/dumper":49,"./js-yaml/exception":50,"./js-yaml/loader":51,"./js-yaml/schema":53,"./js-yaml/schema/core":54,"./js-yaml/schema/default_full":55,"./js-yaml/schema/default_safe":56,"./js-yaml/schema/failsafe":57,"./js-yaml/schema/json":58,"./js-yaml/type":59}],48:[function(require,module,exports){"use strict";function isNothing(subject){return typeof subject==="undefined"||null===subject}function isObject(subject){return typeof subject==="object"&&null!==subject}function toArray(sequence){if(Array.isArray(sequence)){return sequence}else if(isNothing(sequence)){return[]}return[sequence]}function extend(target,source){var index,length,key,sourceKeys;if(source){sourceKeys=Object.keys(source);for(index=0,length=sourceKeys.length;index<length;index+=1){key=sourceKeys[index];target[key]=source[key]}}return target}function repeat(string,count){var result="",cycle;for(cycle=0;cycle<count;cycle+=1){result+=string}return result}function isNegativeZero(number){return 0===number&&Number.NEGATIVE_INFINITY===1/number}module.exports.isNothing=isNothing;module.exports.isObject=isObject;module.exports.toArray=toArray;module.exports.repeat=repeat;module.exports.isNegativeZero=isNegativeZero;module.exports.extend=extend},{}],49:[function(require,module,exports){"use strict";var common=require("./common");var YAMLException=require("./exception");var DEFAULT_FULL_SCHEMA=require("./schema/default_full");var DEFAULT_SAFE_SCHEMA=require("./schema/default_safe");var _toString=Object.prototype.toString;var _hasOwnProperty=Object.prototype.hasOwnProperty;var CHAR_TAB=9;var CHAR_LINE_FEED=10;var CHAR_CARRIAGE_RETURN=13;var CHAR_SPACE=32;var CHAR_EXCLAMATION=33;var CHAR_DOUBLE_QUOTE=34;var CHAR_SHARP=35;var CHAR_PERCENT=37;var CHAR_AMPERSAND=38;var CHAR_SINGLE_QUOTE=39;var CHAR_ASTERISK=42;var CHAR_COMMA=44;var CHAR_MINUS=45;var CHAR_COLON=58;var CHAR_GREATER_THAN=62;var CHAR_QUESTION=63;var CHAR_COMMERCIAL_AT=64;var CHAR_LEFT_SQUARE_BRACKET=91;var CHAR_RIGHT_SQUARE_BRACKET=93;var CHAR_GRAVE_ACCENT=96;var CHAR_LEFT_CURLY_BRACKET=123;var CHAR_VERTICAL_LINE=124;var CHAR_RIGHT_CURLY_BRACKET=125;var ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(schema,map){var result,keys,index,length,tag,style,type;if(null===map){return{}}result={};keys=Object.keys(map);for(index=0,length=keys.length;index<length;index+=1){tag=keys[index];style=String(map[tag]);if("!!"===tag.slice(0,2)){tag="tag:yaml.org,2002:"+tag.slice(2)}type=schema.compiledTypeMap[tag];if(type&&_hasOwnProperty.call(type.styleAliases,style)){style=type.styleAliases[style]}result[tag]=style}return result}function encodeHex(character){var string,handle,length;string=character.toString(16).toUpperCase();if(character<=255){handle="x";length=2}else if(character<=65535){handle="u";length=4}else if(character<=4294967295){handle="U";length=8}else{throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF")}return"\\"+handle+common.repeat("0",length-string.length)+string}function State(options){this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.indent=Math.max(1,options["indent"]||2);this.skipInvalid=options["skipInvalid"]||false;this.flowLevel=common.isNothing(options["flowLevel"])?-1:options["flowLevel"];this.styleMap=compileStyleMap(this.schema,options["styles"]||null);this.sortKeys=options["sortKeys"]||false;this.lineWidth=options["lineWidth"]||80;this.implicitTypes=this.schema.compiledImplicit;this.explicitTypes=this.schema.compiledExplicit;this.tag=null;this.result="";this.duplicates=[];this.usedDuplicates=null}function indentString(string,spaces){var ind=common.repeat(" ",spaces),position=0,next=-1,result="",line,length=string.length;while(position<length){next=string.indexOf("\n",position);if(next===-1){line=string.slice(position);position=length}else{line=string.slice(position,next+1);position=next+1}if(line.length&&line!=="\n"){result+=ind}result+=line}return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str){var index,length,type;for(index=0,length=state.implicitTypes.length;index<length;index+=1){type=state.implicitTypes[index];if(type.resolve(str)){return true}}return false}function StringBuilder(source){this.source=source;this.result="";this.checkpoint=0}StringBuilder.prototype.takeUpTo=function(position){var er;if(position<this.checkpoint){er=new Error("position should be > checkpoint");er.position=position;er.checkpoint=this.checkpoint;throw er}this.result+=this.source.slice(this.checkpoint,position);this.checkpoint=position;return this};StringBuilder.prototype.escapeChar=function(){var character,esc;character=this.source.charCodeAt(this.checkpoint);esc=ESCAPE_SEQUENCES[character]||encodeHex(character);this.result+=esc;this.checkpoint+=1;return this};StringBuilder.prototype.finish=function(){if(this.source.length>this.checkpoint){this.takeUpTo(this.source.length)}};function writeScalar(state,object,level,iskey){var simple,first,spaceWrap,folded,literal,single,double,sawLineFeed,linePosition,longestLine,indent,max,character,position,escapeSeq,hexEsc,previous,lineLength,modifier,trailingLineBreaks,result;if(0===object.length){state.dump="''";return}if(-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(object)){state.dump="'"+object+"'";return}simple=true;first=object.length?object.charCodeAt(0):0;spaceWrap=CHAR_SPACE===first||CHAR_SPACE===object.charCodeAt(object.length-1);if(CHAR_MINUS===first||CHAR_QUESTION===first||CHAR_COMMERCIAL_AT===first||CHAR_GRAVE_ACCENT===first){simple=false}if(spaceWrap){simple=false;folded=false;literal=false}else{folded=!iskey;literal=!iskey}single=true;double=new StringBuilder(object);sawLineFeed=false;linePosition=0;longestLine=0;indent=state.indent*level;max=state.lineWidth;if(max===-1){max=9007199254740991}if(indent<40){max-=indent}else{max=40}for(position=0;position<object.length;position++){character=object.charCodeAt(position);if(simple){if(!simpleChar(character)){simple=false}else{continue}}if(single&&character===CHAR_SINGLE_QUOTE){single=false}escapeSeq=ESCAPE_SEQUENCES[character];hexEsc=needsHexEscape(character);if(!escapeSeq&&!hexEsc){continue}if(character!==CHAR_LINE_FEED&&character!==CHAR_DOUBLE_QUOTE&&character!==CHAR_SINGLE_QUOTE){folded=false;literal=false}else if(character===CHAR_LINE_FEED){sawLineFeed=true;single=false;if(position>0){previous=object.charCodeAt(position-1);if(previous===CHAR_SPACE){literal=false;folded=false}}if(folded){lineLength=position-linePosition;linePosition=position;if(lineLength>longestLine){longestLine=lineLength}}}if(character!==CHAR_DOUBLE_QUOTE){single=false}double.takeUpTo(position);double.escapeChar()}if(simple&&testImplicitResolving(state,object)){simple=false}modifier="";if(folded||literal){trailingLineBreaks=0;if(object.charCodeAt(object.length-1)===CHAR_LINE_FEED){trailingLineBreaks+=1;if(object.charCodeAt(object.length-2)===CHAR_LINE_FEED){trailingLineBreaks+=1}}if(trailingLineBreaks===0){modifier="-"}else if(trailingLineBreaks===2){
modifier="+"}}if(literal&&longestLine<max){folded=false}if(!sawLineFeed){literal=false}if(simple){state.dump=object}else if(single){state.dump="'"+object+"'"}else if(folded){result=fold(object,max);state.dump=">"+modifier+"\n"+indentString(result,indent)}else if(literal){if(!modifier){object=object.replace(/\n$/,"")}state.dump="|"+modifier+"\n"+indentString(object,indent)}else if(double){double.finish();state.dump='"'+double.result+'"'}else{throw new Error("Failed to dump scalar value")}return}function fold(object,max){var result="",position=0,length=object.length,trailing=/\n+$/.exec(object),newLine;if(trailing){length=trailing.index+1}while(position<length){newLine=object.indexOf("\n",position);if(newLine>length||newLine===-1){if(result){result+="\n\n"}result+=foldLine(object.slice(position,length),max);position=length}else{if(result){result+="\n\n"}result+=foldLine(object.slice(position,newLine),max);position=newLine+1}}if(trailing&&trailing[0]!=="\n"){result+=trailing[0]}return result}function foldLine(line,max){if(line===""){return line}var foldRe=/[^\s] [^\s]/g,result="",prevMatch=0,foldStart=0,match=foldRe.exec(line),index,foldEnd,folded;while(match){index=match.index;if(index-foldStart>max){if(prevMatch!==foldStart){foldEnd=prevMatch}else{foldEnd=index}if(result){result+="\n"}folded=line.slice(foldStart,foldEnd);result+=folded;foldStart=foldEnd+1}prevMatch=index+1;match=foldRe.exec(line)}if(result){result+="\n"}if(foldStart!==prevMatch&&line.length-foldStart>max){result+=line.slice(foldStart,prevMatch)+"\n"+line.slice(prevMatch+1)}else{result+=line.slice(foldStart)}return result}function simpleChar(character){return CHAR_TAB!==character&&CHAR_LINE_FEED!==character&&CHAR_CARRIAGE_RETURN!==character&&CHAR_COMMA!==character&&CHAR_LEFT_SQUARE_BRACKET!==character&&CHAR_RIGHT_SQUARE_BRACKET!==character&&CHAR_LEFT_CURLY_BRACKET!==character&&CHAR_RIGHT_CURLY_BRACKET!==character&&CHAR_SHARP!==character&&CHAR_AMPERSAND!==character&&CHAR_ASTERISK!==character&&CHAR_EXCLAMATION!==character&&CHAR_VERTICAL_LINE!==character&&CHAR_GREATER_THAN!==character&&CHAR_SINGLE_QUOTE!==character&&CHAR_DOUBLE_QUOTE!==character&&CHAR_PERCENT!==character&&CHAR_COLON!==character&&!ESCAPE_SEQUENCES[character]&&!needsHexEscape(character)}function needsHexEscape(character){return!(32<=character&&character<=126||133===character||160<=character&&character<=55295||57344<=character&&character<=65533||65536<=character&&character<=1114111)}function writeFlowSequence(state,level,object){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level,object[index],false,false)){if(0!==index){_result+=", "}_result+=state.dump}}state.tag=_tag;state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var _result="",_tag=state.tag,index,length;for(index=0,length=object.length;index<length;index+=1){if(writeNode(state,level+1,object[index],true,true)){if(!compact||0!==index){_result+=generateNextLine(state,level)}_result+="- "+state.dump}}state.tag=_tag;state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,pairBuffer;for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";if(0!==index){pairBuffer+=", "}objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level,objectKey,false,false)){continue}if(state.dump.length>1024){pairBuffer+="? "}pairBuffer+=state.dump+": ";if(!writeNode(state,level,objectValue,false,false)){continue}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var _result="",_tag=state.tag,objectKeyList=Object.keys(object),index,length,objectKey,objectValue,explicitPair,pairBuffer;if(state.sortKeys===true){objectKeyList.sort()}else if(typeof state.sortKeys==="function"){objectKeyList.sort(state.sortKeys)}else if(state.sortKeys){throw new YAMLException("sortKeys must be a boolean or a function")}for(index=0,length=objectKeyList.length;index<length;index+=1){pairBuffer="";if(!compact||0!==index){pairBuffer+=generateNextLine(state,level)}objectKey=objectKeyList[index];objectValue=object[objectKey];if(!writeNode(state,level+1,objectKey,true,true,true)){continue}explicitPair=null!==state.tag&&"?"!==state.tag||state.dump&&state.dump.length>1024;if(explicitPair){if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+="?"}else{pairBuffer+="? "}}pairBuffer+=state.dump;if(explicitPair){pairBuffer+=generateNextLine(state,level)}if(!writeNode(state,level+1,objectValue,true,explicitPair)){continue}if(state.dump&&CHAR_LINE_FEED===state.dump.charCodeAt(0)){pairBuffer+=":"}else{pairBuffer+=": "}pairBuffer+=state.dump;_result+=pairBuffer}state.tag=_tag;state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type,style;typeList=explicit?state.explicitTypes:state.implicitTypes;for(index=0,length=typeList.length;index<length;index+=1){type=typeList[index];if((type.instanceOf||type.predicate)&&(!type.instanceOf||"object"===typeof object&&object instanceof type.instanceOf)&&(!type.predicate||type.predicate(object))){state.tag=explicit?type.tag:"?";if(type.represent){style=state.styleMap[type.tag]||type.defaultStyle;if("[object Function]"===_toString.call(type.represent)){_result=type.represent(object,style)}else if(_hasOwnProperty.call(type.represent,style)){_result=type.represent[style](object,style)}else{throw new YAMLException("!<"+type.tag+'> tag resolver accepts not "'+style+'" style')}state.dump=_result}return true}}return false}function writeNode(state,level,object,block,compact,iskey){state.tag=null;state.dump=object;if(!detectType(state,object,false)){detectType(state,object,true)}var type=_toString.call(state.dump);if(block){block=0>state.flowLevel||state.flowLevel>level}var objectOrArray="[object Object]"===type||"[object Array]"===type,duplicateIndex,duplicate;if(objectOrArray){duplicateIndex=state.duplicates.indexOf(object);duplicate=duplicateIndex!==-1}if(null!==state.tag&&"?"!==state.tag||duplicate||2!==state.indent&&level>0){compact=false}if(duplicate&&state.usedDuplicates[duplicateIndex]){state.dump="*ref_"+duplicateIndex}else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]){state.usedDuplicates[duplicateIndex]=true}if("[object Object]"===type){if(block&&0!==Object.keys(state.dump).length){writeBlockMapping(state,level,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowMapping(state,level,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if("[object Array]"===type){if(block&&0!==state.dump.length){writeBlockSequence(state,level,state.dump,compact);if(duplicate){state.dump="&ref_"+duplicateIndex+state.dump}}else{writeFlowSequence(state,level,state.dump);if(duplicate){state.dump="&ref_"+duplicateIndex+" "+state.dump}}}else if("[object String]"===type){if("?"!==state.tag){writeScalar(state,state.dump,level,iskey)}}else{if(state.skipInvalid){return false}throw new YAMLException("unacceptable kind of an object to dump "+type)}if(null!==state.tag&&"?"!==state.tag){state.dump="!<"+state.tag+"> "+state.dump}}return true}function getDuplicateReferences(object,state){var objects=[],duplicatesIndexes=[],index,length;inspectNode(object,objects,duplicatesIndexes);for(index=0,length=duplicatesIndexes.length;index<length;index+=1){state.duplicates.push(objects[duplicatesIndexes[index]])}state.usedDuplicates=new Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(null!==object&&"object"===typeof object){index=objects.indexOf(object);if(-1!==index){if(-1===duplicatesIndexes.indexOf(index)){duplicatesIndexes.push(index)}}else{objects.push(object);if(Array.isArray(object)){for(index=0,length=object.length;index<length;index+=1){inspectNode(object[index],objects,duplicatesIndexes)}}else{objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1){inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}}}}}function dump(input,options){options=options||{};var state=new State(options);getDuplicateReferences(input,state);if(writeNode(state,0,input,true,true)){return state.dump+"\n"}return""}function safeDump(input,options){return dump(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.dump=dump;module.exports.safeDump=safeDump},{"./common":48,"./exception":50,"./schema/default_full":55,"./schema/default_safe":56}],50:[function(require,module,exports){"use strict";var inherits=require("inherit");function YAMLException(reason,mark){Error.call(this);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{this.stack=(new Error).stack||""}this.name="YAMLException";this.reason=reason;this.mark=mark;this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():"")}inherits(YAMLException,Error);YAMLException.prototype.toString=function toString(compact){var result=this.name+": ";result+=this.reason||"(unknown reason)";if(!compact&&this.mark){result+=" "+this.mark.toString()}return result};module.exports=YAMLException},{inherit:77}],51:[function(require,module,exports){"use strict";var common=require("./common");var YAMLException=require("./exception");var Mark=require("./mark");var DEFAULT_SAFE_SCHEMA=require("./schema/default_safe");var DEFAULT_FULL_SCHEMA=require("./schema/default_full");var _hasOwnProperty=Object.prototype.hasOwnProperty;var CONTEXT_FLOW_IN=1;var CONTEXT_FLOW_OUT=2;var CONTEXT_BLOCK_IN=3;var CONTEXT_BLOCK_OUT=4;var CHOMPING_CLIP=1;var CHOMPING_STRIP=2;var CHOMPING_KEEP=3;var PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;var PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/;var PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/;var PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i;var PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function is_EOL(c){return c===10||c===13}function is_WHITE_SPACE(c){return c===9||c===32}function is_WS_OR_EOL(c){return c===9||c===32||c===10||c===13}function is_FLOW_INDICATOR(c){return 44===c||91===c||93===c||123===c||125===c}function fromHexCode(c){var lc;if(48<=c&&c<=57){return c-48}lc=c|32;if(97<=lc&&lc<=102){return lc-97+10}return-1}function escapedHexLen(c){if(c===120){return 2}if(c===117){return 4}if(c===85){return 8}return 0}function fromDecimalCode(c){if(48<=c&&c<=57){return c-48}return-1}function simpleEscapeSequence(c){return c===48?"\x00":c===97?"":c===98?"\b":c===116?"	":c===9?"	":c===110?"\n":c===118?"":c===102?"\f":c===114?"\r":c===101?"":c===32?" ":c===34?'"':c===47?"/":c===92?"\\":c===78?"":c===95?"":c===76?"\u2028":c===80?"\u2029":""}function charFromCodepoint(c){if(c<=65535){return String.fromCharCode(c)}return String.fromCharCode((c-65536>>10)+55296,(c-65536&1023)+56320)}var simpleEscapeCheck=new Array(256);var simpleEscapeMap=new Array(256);for(var i=0;i<256;i++){simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0;simpleEscapeMap[i]=simpleEscapeSequence(i)}function State(input,options){this.input=input;this.filename=options["filename"]||null;this.schema=options["schema"]||DEFAULT_FULL_SCHEMA;this.onWarning=options["onWarning"]||null;this.legacy=options["legacy"]||false;this.implicitTypes=this.schema.compiledImplicit;this.typeMap=this.schema.compiledTypeMap;this.length=input.length;this.position=0;this.line=0;this.lineStart=0;this.lineIndent=0;this.documents=[]}function generateError(state,message){return new YAMLException(message,new Mark(state.filename,state.input,state.position,state.line,state.position-state.lineStart))}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){if(state.onWarning){state.onWarning.call(null,generateError(state,message))}}var directiveHandlers={YAML:function handleYamlDirective(state,name,args){var match,major,minor;if(null!==state.version){throwError(state,"duplication of %YAML directive")}if(1!==args.length){throwError(state,"YAML directive accepts exactly one argument")}match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]);if(null===match){throwError(state,"ill-formed argument of the YAML directive")}major=parseInt(match[1],10);minor=parseInt(match[2],10);if(1!==major){throwError(state,"unacceptable YAML version of the document")}state.version=args[0];state.checkLineBreaks=minor<2;if(1!==minor&&2!==minor){throwWarning(state,"unsupported YAML version of the document")}},TAG:function handleTagDirective(state,name,args){var handle,prefix;if(2!==args.length){throwError(state,"TAG directive accepts exactly two arguments")}handle=args[0];prefix=args[1];if(!PATTERN_TAG_HANDLE.test(handle)){throwError(state,"ill-formed tag handle (first argument) of the TAG directive")}if(_hasOwnProperty.call(state.tagMap,handle)){throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle')}if(!PATTERN_TAG_URI.test(prefix)){throwError(state,"ill-formed tag prefix (second argument) of the TAG directive")}state.tagMap[handle]=prefix}};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){_result=state.input.slice(start,end);if(checkJson){for(_position=0,_length=_result.length;_position<_length;_position+=1){_character=_result.charCodeAt(_position);if(!(9===_character||32<=_character&&_character<=1114111)){throwError(state,"expected valid JSON character")}}}else if(PATTERN_NON_PRINTABLE.test(_result)){throwError(state,"the stream contains non-printable characters")}state.result+=_result}}function mergeMappings(state,destination,source){var sourceKeys,key,index,quantity;if(!common.isObject(source)){throwError(state,"cannot merge mappings; the provided source object is unacceptable")}sourceKeys=Object.keys(source);for(index=0,quantity=sourceKeys.length;index<quantity;index+=1){key=sourceKeys[index];if(!_hasOwnProperty.call(destination,key)){destination[key]=source[key]}}}function storeMappingPair(state,_result,keyTag,keyNode,valueNode){var index,quantity;keyNode=String(keyNode);if(null===_result){_result={}}if("tag:yaml.org,2002:merge"===keyTag){if(Array.isArray(valueNode)){for(index=0,quantity=valueNode.length;index<quantity;index+=1){mergeMappings(state,_result,valueNode[index])}}else{mergeMappings(state,_result,valueNode)}}else{_result[keyNode]=valueNode}return _result}function readLineBreak(state){var ch;ch=state.input.charCodeAt(state.position);if(10===ch){state.position++}else if(13===ch){state.position++;if(10===state.input.charCodeAt(state.position)){state.position++}}else{throwError(state,"a line break is expected")}state.line+=1;state.lineStart=state.position}function skipSeparationSpace(state,allowComments,checkIndent){var lineBreaks=0,ch=state.input.charCodeAt(state.position);while(0!==ch){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(allowComments&&35===ch){do{ch=state.input.charCodeAt(++state.position)}while(ch!==10&&ch!==13&&0!==ch)}if(is_EOL(ch)){readLineBreak(state);ch=state.input.charCodeAt(state.position);lineBreaks++;state.lineIndent=0;while(32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}}else{break}}if(-1!==checkIndent&&0!==lineBreaks&&state.lineIndent<checkIndent){throwWarning(state,"deficient indentation")}return lineBreaks}function testDocumentSeparator(state){var _position=state.position,ch;ch=state.input.charCodeAt(_position);if((45===ch||46===ch)&&state.input.charCodeAt(_position+1)===ch&&state.input.charCodeAt(_position+2)===ch){_position+=3;ch=state.input.charCodeAt(_position);if(ch===0||is_WS_OR_EOL(ch)){return true}}return false}function writeFoldedLines(state,count){if(1===count){state.result+=" "}else if(count>1){state.result+=common.repeat("\n",count-1)}}function readPlainScalar(state,nodeIndent,withinFlowCollection){var preceding,following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,_kind=state.kind,_result=state.result,ch;ch=state.input.charCodeAt(state.position);if(is_WS_OR_EOL(ch)||is_FLOW_INDICATOR(ch)||35===ch||38===ch||42===ch||33===ch||124===ch||62===ch||39===ch||34===ch||37===ch||64===ch||96===ch){return false}if(63===ch||45===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){return false}}state.kind="scalar";state.result="";captureStart=captureEnd=state.position;hasPendingContent=false;while(0!==ch){if(58===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)||withinFlowCollection&&is_FLOW_INDICATOR(following)){break}}else if(35===ch){preceding=state.input.charCodeAt(state.position-1);if(is_WS_OR_EOL(preceding)){break}}else if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch)){break}else if(is_EOL(ch)){_line=state.line;_lineStart=state.lineStart;_lineIndent=state.lineIndent;skipSeparationSpace(state,false,-1);if(state.lineIndent>=nodeIndent){hasPendingContent=true;ch=state.input.charCodeAt(state.position);continue}else{state.position=captureEnd;state.line=_line;state.lineStart=_lineStart;state.lineIndent=_lineIndent;break}}if(hasPendingContent){captureSegment(state,captureStart,captureEnd,false);writeFoldedLines(state,state.line-_line);captureStart=captureEnd=state.position;hasPendingContent=false}if(!is_WHITE_SPACE(ch)){captureEnd=state.position+1}ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,captureEnd,false);if(state.result){return true}state.kind=_kind;state.result=_result;return false}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;ch=state.input.charCodeAt(state.position);if(39!==ch){return false}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position))){if(39===ch){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(39===ch){captureStart=captureEnd=state.position;state.position++}else{return true}}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a single quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;ch=state.input.charCodeAt(state.position);if(34!==ch){return false}state.kind="scalar";state.result="";state.position++;captureStart=captureEnd=state.position;while(0!==(ch=state.input.charCodeAt(state.position))){if(34===ch){captureSegment(state,captureStart,state.position,true);state.position++;return true}else if(92===ch){captureSegment(state,captureStart,state.position,true);ch=state.input.charCodeAt(++state.position);if(is_EOL(ch)){skipSeparationSpace(state,false,nodeIndent)}else if(ch<256&&simpleEscapeCheck[ch]){state.result+=simpleEscapeMap[ch];state.position++}else if((tmp=escapedHexLen(ch))>0){hexLength=tmp;hexResult=0;for(;hexLength>0;hexLength--){ch=state.input.charCodeAt(++state.position);if((tmp=fromHexCode(ch))>=0){hexResult=(hexResult<<4)+tmp}else{throwError(state,"expected hexadecimal character")}}state.result+=charFromCodepoint(hexResult);state.position++}else{throwError(state,"unknown escape sequence")}captureStart=captureEnd=state.position}else if(is_EOL(ch)){captureSegment(state,captureStart,captureEnd,true);writeFoldedLines(state,skipSeparationSpace(state,false,nodeIndent));captureStart=captureEnd=state.position}else if(state.position===state.lineStart&&testDocumentSeparator(state)){throwError(state,"unexpected end of the document within a double quoted scalar")}else{state.position++;captureEnd=state.position}}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var readNext=true,_line,_tag=state.tag,_result,_anchor=state.anchor,following,terminator,isPair,isExplicitPair,isMapping,keyNode,keyTag,valueNode,ch;ch=state.input.charCodeAt(state.position);if(ch===91){terminator=93;isMapping=false;_result=[]}else if(ch===123){terminator=125;isMapping=true;_result={}}else{return false}if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(++state.position);while(0!==ch){skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(ch===terminator){state.position++;state.tag=_tag;state.anchor=_anchor;state.kind=isMapping?"mapping":"sequence";state.result=_result;return true}else if(!readNext){throwError(state,"missed comma between flow collection entries")}keyTag=keyNode=valueNode=null;isPair=isExplicitPair=false;if(63===ch){following=state.input.charCodeAt(state.position+1);if(is_WS_OR_EOL(following)){isPair=isExplicitPair=true;state.position++;skipSeparationSpace(state,true,nodeIndent)}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);keyTag=state.tag;keyNode=state.result;skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if((isExplicitPair||state.line===_line)&&58===ch){isPair=true;ch=state.input.charCodeAt(++state.position);skipSeparationSpace(state,true,nodeIndent);composeNode(state,nodeIndent,CONTEXT_FLOW_IN,false,true);valueNode=state.result}if(isMapping){storeMappingPair(state,_result,keyTag,keyNode,valueNode)}else if(isPair){_result.push(storeMappingPair(state,null,keyTag,keyNode,valueNode))}else{_result.push(keyNode)}skipSeparationSpace(state,true,nodeIndent);ch=state.input.charCodeAt(state.position);if(44===ch){readNext=true;ch=state.input.charCodeAt(++state.position)}else{readNext=false}}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,chomping=CHOMPING_CLIP,detectedIndent=false,textIndent=nodeIndent,emptyLines=0,atMoreIndented=false,tmp,ch;ch=state.input.charCodeAt(state.position);if(ch===124){folding=false}else if(ch===62){folding=true}else{return false}state.kind="scalar";state.result="";while(0!==ch){ch=state.input.charCodeAt(++state.position);if(43===ch||45===ch){if(CHOMPING_CLIP===chomping){chomping=43===ch?CHOMPING_KEEP:CHOMPING_STRIP}else{throwError(state,"repeat of a chomping mode identifier")}}else if((tmp=fromDecimalCode(ch))>=0){if(tmp===0){throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one")}else if(!detectedIndent){textIndent=nodeIndent+tmp-1;detectedIndent=true}else{throwError(state,"repeat of an indentation width identifier")}}else{break}}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position)}while(is_WHITE_SPACE(ch));if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(!is_EOL(ch)&&0!==ch)}}while(0!==ch){readLineBreak(state);state.lineIndent=0;ch=state.input.charCodeAt(state.position);while((!detectedIndent||state.lineIndent<textIndent)&&32===ch){state.lineIndent++;ch=state.input.charCodeAt(++state.position)}if(!detectedIndent&&state.lineIndent>textIndent){textIndent=state.lineIndent}if(is_EOL(ch)){emptyLines++;continue}if(state.lineIndent<textIndent){if(chomping===CHOMPING_KEEP){state.result+=common.repeat("\n",emptyLines)}else if(chomping===CHOMPING_CLIP){if(detectedIndent){state.result+="\n"}}break}if(folding){if(is_WHITE_SPACE(ch)){atMoreIndented=true;state.result+=common.repeat("\n",emptyLines+1)}else if(atMoreIndented){atMoreIndented=false;state.result+=common.repeat("\n",emptyLines+1)}else if(0===emptyLines){if(detectedIndent){state.result+=" "}}else{state.result+=common.repeat("\n",emptyLines)}}else if(detectedIndent){state.result+=common.repeat("\n",emptyLines+1)}else{state.result+=common.repeat("\n",emptyLines)}detectedIndent=true;emptyLines=0;captureStart=state.position;while(!is_EOL(ch)&&0!==ch){ch=state.input.charCodeAt(++state.position)}captureSegment(state,captureStart,state.position,false)}return true}function readBlockSequence(state,nodeIndent){var _line,_tag=state.tag,_anchor=state.anchor,_result=[],following,detected=false,ch;if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(0!==ch){if(45!==ch){break}following=state.input.charCodeAt(state.position+1);if(!is_WS_OR_EOL(following)){break}detected=true;state.position++;if(skipSeparationSpace(state,true,-1)){if(state.lineIndent<=nodeIndent){_result.push(null);ch=state.input.charCodeAt(state.position);continue}}_line=state.line;composeNode(state,nodeIndent,CONTEXT_BLOCK_IN,false,true);_result.push(state.result);skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if((state.line===_line||state.lineIndent>nodeIndent)&&0!==ch){throwError(state,"bad indentation of a sequence entry")}else if(state.lineIndent<nodeIndent){break}}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="sequence";state.result=_result;return true}return false}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,_tag=state.tag,_anchor=state.anchor,_result={},keyTag=null,keyNode=null,valueNode=null,atExplicitKey=false,detected=false,ch;if(null!==state.anchor){state.anchorMap[state.anchor]=_result}ch=state.input.charCodeAt(state.position);while(0!==ch){following=state.input.charCodeAt(state.position+1);_line=state.line;if((63===ch||58===ch)&&is_WS_OR_EOL(following)){if(63===ch){if(atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=true;allowCompact=true}else if(atExplicitKey){atExplicitKey=false;allowCompact=true}else{throwError(state,"incomplete explicit mapping pair; a key node is missed")}state.position+=1;ch=following}else if(composeNode(state,flowIndent,CONTEXT_FLOW_OUT,false,true)){if(state.line===_line){ch=state.input.charCodeAt(state.position);while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(58===ch){ch=state.input.charCodeAt(++state.position);if(!is_WS_OR_EOL(ch)){throwError(state,"a whitespace character is expected after the key-value separator within a block mapping")}if(atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,null);keyTag=keyNode=valueNode=null}detected=true;atExplicitKey=false;allowCompact=false;keyTag=state.tag;keyNode=state.result}else if(detected){throwError(state,"can not read an implicit mapping pair; a colon is missed")}else{state.tag=_tag;state.anchor=_anchor;return true}}else if(detected){throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}else{state.tag=_tag;state.anchor=_anchor;return true}}else{break}if(state.line===_line||state.lineIndent>nodeIndent){if(composeNode(state,nodeIndent,CONTEXT_BLOCK_OUT,true,allowCompact)){if(atExplicitKey){keyNode=state.result}else{valueNode=state.result}}if(!atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,valueNode);keyTag=keyNode=valueNode=null}skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position)}if(state.lineIndent>nodeIndent&&0!==ch){throwError(state,"bad indentation of a mapping entry")}else if(state.lineIndent<nodeIndent){break}}if(atExplicitKey){storeMappingPair(state,_result,keyTag,keyNode,null)}if(detected){state.tag=_tag;state.anchor=_anchor;state.kind="mapping";state.result=_result}return detected}function readTagProperty(state){var _position,isVerbatim=false,isNamed=false,tagHandle,tagName,ch;ch=state.input.charCodeAt(state.position);if(33!==ch){return false}if(null!==state.tag){throwError(state,"duplication of a tag property")}ch=state.input.charCodeAt(++state.position);if(60===ch){isVerbatim=true;ch=state.input.charCodeAt(++state.position)}else if(33===ch){isNamed=true;tagHandle="!!";ch=state.input.charCodeAt(++state.position)}else{tagHandle="!"}_position=state.position;if(isVerbatim){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&62!==ch);if(state.position<state.length){tagName=state.input.slice(_position,state.position);ch=state.input.charCodeAt(++state.position)}else{throwError(state,"unexpected end of the stream within a verbatim tag")}}else{while(0!==ch&&!is_WS_OR_EOL(ch)){if(33===ch){if(!isNamed){tagHandle=state.input.slice(_position-1,state.position+1);if(!PATTERN_TAG_HANDLE.test(tagHandle)){throwError(state,"named tag handle cannot contain such characters")}isNamed=true;_position=state.position+1}else{throwError(state,"tag suffix cannot contain exclamation marks")}}ch=state.input.charCodeAt(++state.position)}tagName=state.input.slice(_position,state.position);if(PATTERN_FLOW_INDICATORS.test(tagName)){throwError(state,"tag suffix cannot contain flow indicator characters")}}if(tagName&&!PATTERN_TAG_URI.test(tagName)){throwError(state,"tag name cannot contain such characters: "+tagName)}if(isVerbatim){state.tag=tagName}else if(_hasOwnProperty.call(state.tagMap,tagHandle)){state.tag=state.tagMap[tagHandle]+tagName}else if("!"===tagHandle){state.tag="!"+tagName}else if("!!"===tagHandle){state.tag="tag:yaml.org,2002:"+tagName}else{throwError(state,'undeclared tag handle "'+tagHandle+'"')}return true}function readAnchorProperty(state){var _position,ch;ch=state.input.charCodeAt(state.position);if(38!==ch){return false}if(null!==state.anchor){throwError(state,"duplication of an anchor property")}ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an anchor node must contain at least one character")}state.anchor=state.input.slice(_position,state.position);return true}function readAlias(state){var _position,alias,ch;ch=state.input.charCodeAt(state.position);if(42!==ch){return false}ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch)){ch=state.input.charCodeAt(++state.position)}if(state.position===_position){throwError(state,"name of an alias node must contain at least one character")}alias=state.input.slice(_position,state.position);if(!state.anchorMap.hasOwnProperty(alias)){throwError(state,'unidentified alias "'+alias+'"')}state.result=state.anchorMap[alias];skipSeparationSpace(state,true,-1);return true}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,indentStatus=1,atNewLine=false,hasContent=false,typeIndex,typeQuantity,type,flowIndent,blockIndent;state.tag=null;state.anchor=null;state.kind=null;state.result=null;allowBlockStyles=allowBlockScalars=allowBlockCollections=CONTEXT_BLOCK_OUT===nodeContext||CONTEXT_BLOCK_IN===nodeContext;if(allowToSeek){if(skipSeparationSpace(state,true,-1)){atNewLine=true;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}}if(1===indentStatus){while(readTagProperty(state)||readAnchorProperty(state)){if(skipSeparationSpace(state,true,-1)){atNewLine=true;allowBlockCollections=allowBlockStyles;if(state.lineIndent>parentIndent){indentStatus=1}else if(state.lineIndent===parentIndent){indentStatus=0}else if(state.lineIndent<parentIndent){indentStatus=-1}}else{allowBlockCollections=false}}}if(allowBlockCollections){allowBlockCollections=atNewLine||allowCompact}if(1===indentStatus||CONTEXT_BLOCK_OUT===nodeContext){if(CONTEXT_FLOW_IN===nodeContext||CONTEXT_FLOW_OUT===nodeContext){flowIndent=parentIndent}else{flowIndent=parentIndent+1}blockIndent=state.position-state.lineStart;if(1===indentStatus){if(allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)){
hasContent=true}else{if(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)){hasContent=true}else if(readAlias(state)){hasContent=true;if(null!==state.tag||null!==state.anchor){throwError(state,"alias node should not have any properties")}}else if(readPlainScalar(state,flowIndent,CONTEXT_FLOW_IN===nodeContext)){hasContent=true;if(null===state.tag){state.tag="?"}}if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}}}else if(0===indentStatus){hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent)}}if(null!==state.tag&&"!"!==state.tag){if("?"===state.tag){for(typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1){type=state.implicitTypes[typeIndex];if(type.resolve(state.result)){state.result=type.construct(state.result);state.tag=type.tag;if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}break}}}else if(_hasOwnProperty.call(state.typeMap,state.tag)){type=state.typeMap[state.tag];if(null!==state.result&&type.kind!==state.kind){throwError(state,"unacceptable node kind for !<"+state.tag+'> tag; it should be "'+type.kind+'", not "'+state.kind+'"')}if(!type.resolve(state.result)){throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")}else{state.result=type.construct(state.result);if(null!==state.anchor){state.anchorMap[state.anchor]=state.result}}}else{throwError(state,"unknown tag !<"+state.tag+">")}}return null!==state.tag||null!==state.anchor||hasContent}function readDocument(state){var documentStart=state.position,_position,directiveName,directiveArgs,hasDirectives=false,ch;state.version=null;state.checkLineBreaks=state.legacy;state.tagMap={};state.anchorMap={};while(0!==(ch=state.input.charCodeAt(state.position))){skipSeparationSpace(state,true,-1);ch=state.input.charCodeAt(state.position);if(state.lineIndent>0||37!==ch){break}hasDirectives=true;ch=state.input.charCodeAt(++state.position);_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveName=state.input.slice(_position,state.position);directiveArgs=[];if(directiveName.length<1){throwError(state,"directive name must not be less than one character in length")}while(0!==ch){while(is_WHITE_SPACE(ch)){ch=state.input.charCodeAt(++state.position)}if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&!is_EOL(ch));break}if(is_EOL(ch)){break}_position=state.position;while(0!==ch&&!is_WS_OR_EOL(ch)){ch=state.input.charCodeAt(++state.position)}directiveArgs.push(state.input.slice(_position,state.position))}if(0!==ch){readLineBreak(state)}if(_hasOwnProperty.call(directiveHandlers,directiveName)){directiveHandlers[directiveName](state,directiveName,directiveArgs)}else{throwWarning(state,'unknown document directive "'+directiveName+'"')}}skipSeparationSpace(state,true,-1);if(0===state.lineIndent&&45===state.input.charCodeAt(state.position)&&45===state.input.charCodeAt(state.position+1)&&45===state.input.charCodeAt(state.position+2)){state.position+=3;skipSeparationSpace(state,true,-1)}else if(hasDirectives){throwError(state,"directives end mark is expected")}composeNode(state,state.lineIndent-1,CONTEXT_BLOCK_OUT,false,true);skipSeparationSpace(state,true,-1);if(state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))){throwWarning(state,"non-ASCII line breaks are interpreted as content")}state.documents.push(state.result);if(state.position===state.lineStart&&testDocumentSeparator(state)){if(46===state.input.charCodeAt(state.position)){state.position+=3;skipSeparationSpace(state,true,-1)}return}if(state.position<state.length-1){throwError(state,"end of the stream or a document separator is expected")}else{return}}function loadDocuments(input,options){input=String(input);options=options||{};if(input.length!==0){if(10!==input.charCodeAt(input.length-1)&&13!==input.charCodeAt(input.length-1)){input+="\n"}if(input.charCodeAt(0)===65279){input=input.slice(1)}}var state=new State(input,options);state.input+="\x00";while(32===state.input.charCodeAt(state.position)){state.lineIndent+=1;state.position+=1}while(state.position<state.length-1){readDocument(state)}return state.documents}function loadAll(input,iterator,options){var documents=loadDocuments(input,options),index,length;for(index=0,length=documents.length;index<length;index+=1){iterator(documents[index])}}function load(input,options){var documents=loadDocuments(input,options);if(0===documents.length){return undefined}else if(1===documents.length){return documents[0]}throw new YAMLException("expected a single document in the stream, but found more")}function safeLoadAll(input,output,options){loadAll(input,output,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}function safeLoad(input,options){return load(input,common.extend({schema:DEFAULT_SAFE_SCHEMA},options))}module.exports.loadAll=loadAll;module.exports.load=load;module.exports.safeLoadAll=safeLoadAll;module.exports.safeLoad=safeLoad},{"./common":48,"./exception":50,"./mark":52,"./schema/default_full":55,"./schema/default_safe":56}],52:[function(require,module,exports){"use strict";var common=require("./common");function Mark(name,buffer,position,line,column){this.name=name;this.buffer=buffer;this.position=position;this.line=line;this.column=column}Mark.prototype.getSnippet=function getSnippet(indent,maxLength){var head,start,tail,end,snippet;if(!this.buffer){return null}indent=indent||4;maxLength=maxLength||75;head="";start=this.position;while(start>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(start-1))){start-=1;if(this.position-start>maxLength/2-1){head=" ... ";start+=5;break}}tail="";end=this.position;while(end<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(end))){end+=1;if(end-this.position>maxLength/2-1){tail=" ... ";end-=5;break}}snippet=this.buffer.slice(start,end);return common.repeat(" ",indent)+head+snippet+tail+"\n"+common.repeat(" ",indent+this.position-start+head.length)+"^"};Mark.prototype.toString=function toString(compact){var snippet,where="";if(this.name){where+='in "'+this.name+'" '}where+="at line "+(this.line+1)+", column "+(this.column+1);if(!compact){snippet=this.getSnippet();if(snippet){where+=":\n"+snippet}}return where};module.exports=Mark},{"./common":48}],53:[function(require,module,exports){"use strict";var common=require("./common");var YAMLException=require("./exception");var Type=require("./type");function compileList(schema,name,result){var exclude=[];schema.include.forEach(function(includedSchema){result=compileList(includedSchema,name,result)});schema[name].forEach(function(currentType){result.forEach(function(previousType,previousIndex){if(previousType.tag===currentType.tag){exclude.push(previousIndex)}});result.push(currentType)});return result.filter(function(type,index){return-1===exclude.indexOf(index)})}function compileMap(){var result={},index,length;function collectType(type){result[type.tag]=type}for(index=0,length=arguments.length;index<length;index+=1){arguments[index].forEach(collectType)}return result}function Schema(definition){this.include=definition.include||[];this.implicit=definition.implicit||[];this.explicit=definition.explicit||[];this.implicit.forEach(function(type){if(type.loadKind&&"scalar"!==type.loadKind){throw new YAMLException("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}});this.compiledImplicit=compileList(this,"implicit",[]);this.compiledExplicit=compileList(this,"explicit",[]);this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema.DEFAULT=null;Schema.create=function createSchema(){var schemas,types;switch(arguments.length){case 1:schemas=Schema.DEFAULT;types=arguments[0];break;case 2:schemas=arguments[0];types=arguments[1];break;default:throw new YAMLException("Wrong number of arguments for Schema.create function")}schemas=common.toArray(schemas);types=common.toArray(types);if(!schemas.every(function(schema){return schema instanceof Schema})){throw new YAMLException("Specified list of super schemas (or a single Schema object) contains a non-Schema object.")}if(!types.every(function(type){return type instanceof Type})){throw new YAMLException("Specified list of YAML types (or a single Type object) contains a non-Type object.")}return new Schema({include:schemas,explicit:types})};module.exports=Schema},{"./common":48,"./exception":50,"./type":59}],54:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./json")]})},{"../schema":53,"./json":58}],55:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=Schema.DEFAULT=new Schema({include:[require("./default_safe")],explicit:[require("../type/js/undefined"),require("../type/js/regexp"),require("../type/js/function")]})},{"../schema":53,"../type/js/function":64,"../type/js/regexp":65,"../type/js/undefined":66,"./default_safe":56}],56:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./core")],implicit:[require("../type/timestamp"),require("../type/merge")],explicit:[require("../type/binary"),require("../type/omap"),require("../type/pairs"),require("../type/set")]})},{"../schema":53,"../type/binary":60,"../type/merge":68,"../type/omap":70,"../type/pairs":71,"../type/set":73,"../type/timestamp":75,"./core":54}],57:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({explicit:[require("../type/str"),require("../type/seq"),require("../type/map")]})},{"../schema":53,"../type/map":67,"../type/seq":72,"../type/str":74}],58:[function(require,module,exports){"use strict";var Schema=require("../schema");module.exports=new Schema({include:[require("./failsafe")],implicit:[require("../type/null"),require("../type/bool"),require("../type/int"),require("../type/float")]})},{"../schema":53,"../type/bool":61,"../type/float":62,"../type/int":63,"../type/null":69,"./failsafe":57}],59:[function(require,module,exports){"use strict";var YAMLException=require("./exception");var TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"];var YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(map){var result={};if(null!==map){Object.keys(map).forEach(function(style){map[style].forEach(function(alias){result[String(alias)]=style})})}return result}function Type(tag,options){options=options||{};Object.keys(options).forEach(function(name){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(name)){throw new YAMLException('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.')}});this.tag=tag;this.kind=options["kind"]||null;this.resolve=options["resolve"]||function(){return true};this.construct=options["construct"]||function(data){return data};this.instanceOf=options["instanceOf"]||null;this.predicate=options["predicate"]||null;this.represent=options["represent"]||null;this.defaultStyle=options["defaultStyle"]||null;this.styleAliases=compileStyleAliases(options["styleAliases"]||null);if(-1===YAML_NODE_KINDS.indexOf(this.kind)){throw new YAMLException('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.')}}module.exports=Type},{"./exception":50}],60:[function(require,module,exports){"use strict";var NodeBuffer=require("buffer").Buffer;var Type=require("../type");var BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(data){if(null===data){return false}var code,idx,bitlen=0,max=data.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){code=map.indexOf(data.charAt(idx));if(code>64){continue}if(code<0){return false}bitlen+=6}return bitlen%8===0}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,map=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++){if(idx%4===0&&idx){result.push(bits>>16&255);result.push(bits>>8&255);result.push(bits&255)}bits=bits<<6|map.indexOf(input.charAt(idx))}tailbits=max%4*6;if(tailbits===0){result.push(bits>>16&255);result.push(bits>>8&255);result.push(bits&255)}else if(tailbits===18){result.push(bits>>10&255);result.push(bits>>2&255)}else if(tailbits===12){result.push(bits>>4&255)}if(NodeBuffer){return new NodeBuffer(result)}return result}function representYamlBinary(object){var result="",bits=0,idx,tail,max=object.length,map=BASE64_MAP;for(idx=0;idx<max;idx++){if(idx%3===0&&idx){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[bits&63]}bits=(bits<<8)+object[idx]}tail=max%3;if(tail===0){result+=map[bits>>18&63];result+=map[bits>>12&63];result+=map[bits>>6&63];result+=map[bits&63]}else if(tail===2){result+=map[bits>>10&63];result+=map[bits>>4&63];result+=map[bits<<2&63];result+=map[64]}else if(tail===1){result+=map[bits>>2&63];result+=map[bits<<4&63];result+=map[64];result+=map[64]}return result}function isBinary(object){return NodeBuffer&&NodeBuffer.isBuffer(object)}module.exports=new Type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary})},{"../type":59,buffer:2}],61:[function(require,module,exports){"use strict";var Type=require("../type");function resolveYamlBoolean(data){if(null===data){return false}var max=data.length;return max===4&&(data==="true"||data==="True"||data==="TRUE")||max===5&&(data==="false"||data==="False"||data==="FALSE")}function constructYamlBoolean(data){return data==="true"||data==="True"||data==="TRUE"}function isBoolean(object){return"[object Boolean]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(object){return object?"true":"false"},uppercase:function(object){return object?"TRUE":"FALSE"},camelcase:function(object){return object?"True":"False"}},defaultStyle:"lowercase"})},{"../type":59}],62:[function(require,module,exports){"use strict";var common=require("../common");var Type=require("../type");var YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?"+"|\\.[0-9_]+(?:[eE][-+][0-9]+)?"+"|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*"+"|[-+]?\\.(?:inf|Inf|INF)"+"|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(data){if(null===data){return false}if(!YAML_FLOAT_PATTERN.test(data)){return false}return true}function constructYamlFloat(data){var value,sign,base,digits;value=data.replace(/_/g,"").toLowerCase();sign="-"===value[0]?-1:1;digits=[];if(0<="+-".indexOf(value[0])){value=value.slice(1)}if(".inf"===value){return 1===sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY}else if(".nan"===value){return NaN}else if(0<=value.indexOf(":")){value.split(":").forEach(function(v){digits.unshift(parseFloat(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseFloat(value,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(object,style){var res;if(isNaN(object)){switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}}else if(Number.POSITIVE_INFINITY===object){switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}}else if(Number.NEGATIVE_INFINITY===object){switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}else if(common.isNegativeZero(object)){return"-0.0"}res=object.toString(10);return SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace("e",".e"):res}function isFloat(object){return"[object Number]"===Object.prototype.toString.call(object)&&(0!==object%1||common.isNegativeZero(object))}module.exports=new Type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"})},{"../common":48,"../type":59}],63:[function(require,module,exports){"use strict";var common=require("../common");var Type=require("../type");function isHexCode(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function isOctCode(c){return 48<=c&&c<=55}function isDecCode(c){return 48<=c&&c<=57}function resolveYamlInteger(data){if(null===data){return false}var max=data.length,index=0,hasDigits=false,ch;if(!max){return false}ch=data[index];if(ch==="-"||ch==="+"){ch=data[++index]}if(ch==="0"){if(index+1===max){return true}ch=data[++index];if(ch==="b"){index++;for(;index<max;index++){ch=data[index];if(ch==="_"){continue}if(ch!=="0"&&ch!=="1"){return false}hasDigits=true}return hasDigits}if(ch==="x"){index++;for(;index<max;index++){ch=data[index];if(ch==="_"){continue}if(!isHexCode(data.charCodeAt(index))){return false}hasDigits=true}return hasDigits}for(;index<max;index++){ch=data[index];if(ch==="_"){continue}if(!isOctCode(data.charCodeAt(index))){return false}hasDigits=true}return hasDigits}for(;index<max;index++){ch=data[index];if(ch==="_"){continue}if(ch===":"){break}if(!isDecCode(data.charCodeAt(index))){return false}hasDigits=true}if(!hasDigits){return false}if(ch!==":"){return true}return/^(:[0-5]?[0-9])+$/.test(data.slice(index))}function constructYamlInteger(data){var value=data,sign=1,ch,base,digits=[];if(value.indexOf("_")!==-1){value=value.replace(/_/g,"")}ch=value[0];if(ch==="-"||ch==="+"){if(ch==="-"){sign=-1}value=value.slice(1);ch=value[0]}if("0"===value){return 0}if(ch==="0"){if(value[1]==="b"){return sign*parseInt(value.slice(2),2)}if(value[1]==="x"){return sign*parseInt(value,16)}return sign*parseInt(value,8)}if(value.indexOf(":")!==-1){value.split(":").forEach(function(v){digits.unshift(parseInt(v,10))});value=0;base=1;digits.forEach(function(d){value+=d*base;base*=60});return sign*value}return sign*parseInt(value,10)}function isInteger(object){return"[object Number]"===Object.prototype.toString.call(object)&&(0===object%1&&!common.isNegativeZero(object))}module.exports=new Type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(object){return"0b"+object.toString(2)},octal:function(object){return"0"+object.toString(8)},decimal:function(object){return object.toString(10)},hexadecimal:function(object){return"0x"+object.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":48,"../type":59}],64:[function(require,module,exports){"use strict";var esprima;try{esprima=require("esprima")}catch(_){if(typeof window!=="undefined"){esprima=window.esprima}}var Type=require("../../type");function resolveJavascriptFunction(data){if(null===data){return false}try{var source="("+data+")",ast=esprima.parse(source,{range:true});if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"FunctionExpression"!==ast.body[0].expression.type){return false}return true}catch(err){return false}}function constructJavascriptFunction(data){var source="("+data+")",ast=esprima.parse(source,{range:true}),params=[],body;if("Program"!==ast.type||1!==ast.body.length||"ExpressionStatement"!==ast.body[0].type||"FunctionExpression"!==ast.body[0].expression.type){throw new Error("Failed to resolve function")}ast.body[0].expression.params.forEach(function(param){params.push(param.name)});body=ast.body[0].expression.body.range;return new Function(params,source.slice(body[0]+1,body[1]-1))}function representJavascriptFunction(object){return object.toString()}function isFunction(object){return"[object Function]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction})},{"../../type":59,esprima:76}],65:[function(require,module,exports){"use strict";var Type=require("../../type");function resolveJavascriptRegExp(data){if(null===data){return false}if(0===data.length){return false}var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){if(tail){modifiers=tail[1]}if(modifiers.length>3){return false}if(regexp[regexp.length-modifiers.length-1]!=="/"){return false}regexp=regexp.slice(1,regexp.length-modifiers.length-1)}try{return true}catch(error){return false}}function constructJavascriptRegExp(data){var regexp=data,tail=/\/([gim]*)$/.exec(data),modifiers="";if("/"===regexp[0]){if(tail){modifiers=tail[1]}regexp=regexp.slice(1,regexp.length-modifiers.length-1)}return new RegExp(regexp,modifiers)}function representJavascriptRegExp(object){var result="/"+object.source+"/";if(object.global){result+="g"}if(object.multiline){result+="m"}if(object.ignoreCase){result+="i"}return result}function isRegExp(object){return"[object RegExp]"===Object.prototype.toString.call(object)}module.exports=new Type("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp})},{"../../type":59}],66:[function(require,module,exports){"use strict";var Type=require("../../type");function resolveJavascriptUndefined(){return true}function constructJavascriptUndefined(){return undefined}function representJavascriptUndefined(){return""}function isUndefined(object){return"undefined"===typeof object}module.exports=new Type("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined})},{"../../type":59}],67:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(data){return null!==data?data:{}}})},{"../type":59}],68:[function(require,module,exports){"use strict";var Type=require("../type");function resolveYamlMerge(data){return"<<"===data||null===data}module.exports=new Type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge})},{"../type":59}],69:[function(require,module,exports){"use strict";var Type=require("../type");function resolveYamlNull(data){if(null===data){return true}var max=data.length;return max===1&&data==="~"||max===4&&(data==="null"||data==="Null"||data==="NULL")}function constructYamlNull(){return null}function isNull(object){return null===object}module.exports=new Type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":59}],70:[function(require,module,exports){"use strict";var Type=require("../type");var _hasOwnProperty=Object.prototype.hasOwnProperty;var _toString=Object.prototype.toString;function resolveYamlOmap(data){if(null===data){return true}var objectKeys=[],index,length,pair,pairKey,pairHasKey,object=data;for(index=0,length=object.length;index<length;index+=1){pair=object[index];pairHasKey=false;if("[object Object]"!==_toString.call(pair)){return false}for(pairKey in pair){if(_hasOwnProperty.call(pair,pairKey)){if(!pairHasKey){pairHasKey=true}else{return false}}}if(!pairHasKey){return false}if(-1===objectKeys.indexOf(pairKey)){objectKeys.push(pairKey)}else{return false}}return true}function constructYamlOmap(data){return null!==data?data:[]}module.exports=new Type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap})},{"../type":59}],71:[function(require,module,exports){"use strict";var Type=require("../type");var _toString=Object.prototype.toString;function resolveYamlPairs(data){if(null===data){return true}var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];if("[object Object]"!==_toString.call(pair)){return false}keys=Object.keys(pair);if(1!==keys.length){return false}result[index]=[keys[0],pair[keys[0]]]}return true}function constructYamlPairs(data){if(null===data){return[]}var index,length,pair,keys,result,object=data;result=new Array(object.length);for(index=0,length=object.length;index<length;index+=1){pair=object[index];keys=Object.keys(pair);result[index]=[keys[0],pair[keys[0]]]}return result}module.exports=new Type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs})},{"../type":59}],72:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(data){return null!==data?data:[]}})},{"../type":59}],73:[function(require,module,exports){"use strict";var Type=require("../type");var _hasOwnProperty=Object.prototype.hasOwnProperty;function resolveYamlSet(data){if(null===data){return true}var key,object=data;for(key in object){if(_hasOwnProperty.call(object,key)){if(null!==object[key]){return false}}}return true}function constructYamlSet(data){return null!==data?data:{}}module.exports=new Type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet})},{"../type":59}],74:[function(require,module,exports){"use strict";var Type=require("../type");module.exports=new Type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(data){return null!==data?data:""}})},{"../type":59}],75:[function(require,module,exports){"use strict";var Type=require("../type");var YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])"+"-([0-9][0-9]?)"+"-([0-9][0-9]?)"+"(?:(?:[Tt]|[ \\t]+)"+"([0-9][0-9]?)"+":([0-9][0-9])"+":([0-9][0-9])"+"(?:\\.([0-9]*))?"+"(?:[ \\t]*(Z|([-+])([0-9][0-9]?)"+"(?::([0-9][0-9]))?))?)?$");function resolveYamlTimestamp(data){if(null===data){return false}if(YAML_TIMESTAMP_REGEXP.exec(data)===null){return false}return true}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,fraction=0,delta=null,tz_hour,tz_minute,date;match=YAML_TIMESTAMP_REGEXP.exec(data);if(null===match){throw new Error("Date resolve error")}year=+match[1];month=+match[2]-1;day=+match[3];if(!match[4]){return new Date(Date.UTC(year,month,day))}hour=+match[4];minute=+match[5];second=+match[6];if(match[7]){fraction=match[7].slice(0,3);while(fraction.length<3){fraction+="0"}fraction=+fraction}if(match[9]){tz_hour=+match[10];tz_minute=+(match[11]||0);delta=(tz_hour*60+tz_minute)*6e4;if("-"===match[9]){delta=-delta}}date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction));if(delta){date.setTime(date.getTime()-delta)}return date}function representYamlTimestamp(object){return object.toISOString()}module.exports=new Type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp})},{"../type":59}],76:[function(require,module,exports){(function(root,factory){"use strict";if(typeof define==="function"&&define.amd){define(["exports"],factory)}else if(typeof exports!=="undefined"){factory(exports)}else{factory(root.esprima={})}})(this,function(exports){"use strict";var Token,TokenName,FnExprTokens,Syntax,PlaceHolders,Messages,Regex,source,strict,index,lineNumber,lineStart,hasLineTerminator,lastIndex,lastLineNumber,lastLineStart,startIndex,startLineNumber,startLineStart,scanning,length,lookahead,state,extra,isBindingElement,isAssignmentTarget,firstCoverInitializedNameError;Token={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10};TokenName={};TokenName[Token.BooleanLiteral]="Boolean";TokenName[Token.EOF]="<end>";TokenName[Token.Identifier]="Identifier";TokenName[Token.Keyword]="Keyword";TokenName[Token.NullLiteral]="Null";TokenName[Token.NumericLiteral]="Numeric";TokenName[Token.Punctuator]="Punctuator";TokenName[Token.StringLiteral]="String";TokenName[Token.RegularExpression]="RegularExpression";TokenName[Token.Template]="Template";FnExprTokens=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"};PlaceHolders={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"};Messages={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",
StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"};Regex={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function assert(condition,message){if(!condition){throw new Error("ASSERT: "+message)}}function isDecimalDigit(ch){return ch>=48&&ch<=57}function isHexDigit(ch){return"0123456789abcdefABCDEF".indexOf(ch)>=0}function isOctalDigit(ch){return"01234567".indexOf(ch)>=0}function octalToDecimal(ch){var octal=ch!=="0",code="01234567".indexOf(ch);if(index<length&&isOctalDigit(source[index])){octal=true;code=code*8+"01234567".indexOf(source[index++]);if("0123".indexOf(ch)>=0&&index<length&&isOctalDigit(source[index])){code=code*8+"01234567".indexOf(source[index++])}}return{code:code,octal:octal}}function isWhiteSpace(ch){return ch===32||ch===9||ch===11||ch===12||ch===160||ch>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ch)>=0}function isLineTerminator(ch){return ch===10||ch===13||ch===8232||ch===8233}function fromCodePoint(cp){return cp<65536?String.fromCharCode(cp):String.fromCharCode(55296+(cp-65536>>10))+String.fromCharCode(56320+(cp-65536&1023))}function isIdentifierStart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch===92||ch>=128&&Regex.NonAsciiIdentifierStart.test(fromCodePoint(ch))}function isIdentifierPart(ch){return ch===36||ch===95||ch>=65&&ch<=90||ch>=97&&ch<=122||ch>=48&&ch<=57||ch===92||ch>=128&&Regex.NonAsciiIdentifierPart.test(fromCodePoint(ch))}function isFutureReservedWord(id){switch(id){case"enum":case"export":case"import":case"super":return true;default:return false}}function isStrictModeReservedWord(id){switch(id){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return true;default:return false}}function isRestrictedWord(id){return id==="eval"||id==="arguments"}function isKeyword(id){switch(id.length){case 2:return id==="if"||id==="in"||id==="do";case 3:return id==="var"||id==="for"||id==="new"||id==="try"||id==="let";case 4:return id==="this"||id==="else"||id==="case"||id==="void"||id==="with"||id==="enum";case 5:return id==="while"||id==="break"||id==="catch"||id==="throw"||id==="const"||id==="yield"||id==="class"||id==="super";case 6:return id==="return"||id==="typeof"||id==="delete"||id==="switch"||id==="export"||id==="import";case 7:return id==="default"||id==="finally"||id==="extends";case 8:return id==="function"||id==="continue"||id==="debugger";case 10:return id==="instanceof";default:return false}}function addComment(type,value,start,end,loc){var comment;assert(typeof start==="number","Comment must have valid position");state.lastCommentStart=start;comment={type:type,value:value};if(extra.range){comment.range=[start,end]}if(extra.loc){comment.loc=loc}extra.comments.push(comment);if(extra.attachComment){extra.leadingComments.push(comment);extra.trailingComments.push(comment)}if(extra.tokenize){comment.type=comment.type+"Comment";if(extra.delegate){comment=extra.delegate(comment)}extra.tokens.push(comment)}}function skipSingleLineComment(offset){var start,loc,ch,comment;start=index-offset;loc={start:{line:lineNumber,column:index-lineStart-offset}};while(index<length){ch=source.charCodeAt(index);++index;if(isLineTerminator(ch)){hasLineTerminator=true;if(extra.comments){comment=source.slice(start+offset,index-1);loc.end={line:lineNumber,column:index-lineStart-1};addComment("Line",comment,start,index-1,loc)}if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index;return}}if(extra.comments){comment=source.slice(start+offset,index);loc.end={line:lineNumber,column:index-lineStart};addComment("Line",comment,start,index,loc)}}function skipMultiLineComment(){var start,loc,ch,comment;if(extra.comments){start=index-2;loc={start:{line:lineNumber,column:index-lineStart-2}}}while(index<length){ch=source.charCodeAt(index);if(isLineTerminator(ch)){if(ch===13&&source.charCodeAt(index+1)===10){++index}hasLineTerminator=true;++lineNumber;++index;lineStart=index}else if(ch===42){if(source.charCodeAt(index+1)===47){++index;++index;if(extra.comments){comment=source.slice(start+2,index-2);loc.end={line:lineNumber,column:index-lineStart};addComment("Block",comment,start,index,loc)}return}++index}else{++index}}if(extra.comments){loc.end={line:lineNumber,column:index-lineStart};comment=source.slice(start+2,index);addComment("Block",comment,start,index,loc)}tolerateUnexpectedToken()}function skipComment(){var ch,start;hasLineTerminator=false;start=index===0;while(index<length){ch=source.charCodeAt(index);if(isWhiteSpace(ch)){++index}else if(isLineTerminator(ch)){hasLineTerminator=true;++index;if(ch===13&&source.charCodeAt(index)===10){++index}++lineNumber;lineStart=index;start=true}else if(ch===47){ch=source.charCodeAt(index+1);if(ch===47){++index;++index;skipSingleLineComment(2);start=true}else if(ch===42){++index;++index;skipMultiLineComment()}else{break}}else if(start&&ch===45){if(source.charCodeAt(index+1)===45&&source.charCodeAt(index+2)===62){index+=3;skipSingleLineComment(3)}else{break}}else if(ch===60){if(source.slice(index+1,index+4)==="!--"){++index;++index;++index;++index;skipSingleLineComment(4)}else{break}}else{break}}}function scanHexEscape(prefix){var i,len,ch,code=0;len=prefix==="u"?4:2;for(i=0;i<len;++i){if(index<length&&isHexDigit(source[index])){ch=source[index++];code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}else{return""}}return String.fromCharCode(code)}function scanUnicodeCodePointEscape(){var ch,code;ch=source[index];code=0;if(ch==="}"){throwUnexpectedToken()}while(index<length){ch=source[index++];if(!isHexDigit(ch)){break}code=code*16+"0123456789abcdef".indexOf(ch.toLowerCase())}if(code>1114111||ch!=="}"){throwUnexpectedToken()}return fromCodePoint(code)}function codePointAt(i){var cp,first,second;cp=source.charCodeAt(i);if(cp>=55296&&cp<=56319){second=source.charCodeAt(i+1);if(second>=56320&&second<=57343){first=cp;cp=(first-55296)*1024+second-56320+65536}}return cp}function getComplexIdentifier(){var cp,ch,id;cp=codePointAt(index);id=fromCodePoint(cp);index+=id.length;if(cp===92){if(source.charCodeAt(index)!==117){throwUnexpectedToken()}++index;if(source[index]==="{"){++index;ch=scanUnicodeCodePointEscape()}else{ch=scanHexEscape("u");cp=ch.charCodeAt(0);if(!ch||ch==="\\"||!isIdentifierStart(cp)){throwUnexpectedToken()}}id=ch}while(index<length){cp=codePointAt(index);if(!isIdentifierPart(cp)){break}ch=fromCodePoint(cp);id+=ch;index+=ch.length;if(cp===92){id=id.substr(0,id.length-1);if(source.charCodeAt(index)!==117){throwUnexpectedToken()}++index;if(source[index]==="{"){++index;ch=scanUnicodeCodePointEscape()}else{ch=scanHexEscape("u");cp=ch.charCodeAt(0);if(!ch||ch==="\\"||!isIdentifierPart(cp)){throwUnexpectedToken()}}id+=ch}}return id}function getIdentifier(){var start,ch;start=index++;while(index<length){ch=source.charCodeAt(index);if(ch===92){index=start;return getComplexIdentifier()}else if(ch>=55296&&ch<57343){index=start;return getComplexIdentifier()}if(isIdentifierPart(ch)){++index}else{break}}return source.slice(start,index)}function scanIdentifier(){var start,id,type;start=index;id=source.charCodeAt(index)===92?getComplexIdentifier():getIdentifier();if(id.length===1){type=Token.Identifier}else if(isKeyword(id)){type=Token.Keyword}else if(id==="null"){type=Token.NullLiteral}else if(id==="true"||id==="false"){type=Token.BooleanLiteral}else{type=Token.Identifier}return{type:type,value:id,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanPunctuator(){var token,str;token={type:Token.Punctuator,value:"",lineNumber:lineNumber,lineStart:lineStart,start:index,end:index};str=source[index];switch(str){case"(":if(extra.tokenize){extra.openParenToken=extra.tokenValues.length}++index;break;case"{":if(extra.tokenize){extra.openCurlyToken=extra.tokenValues.length}state.curlyStack.push("{");++index;break;case".":++index;if(source[index]==="."&&source[index+1]==="."){index+=2;str="..."}break;case"}":++index;state.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++index;break;default:str=source.substr(index,4);if(str===">>>="){index+=4}else{str=str.substr(0,3);if(str==="==="||str==="!=="||str===">>>"||str==="<<="||str===">>="){index+=3}else{str=str.substr(0,2);if(str==="&&"||str==="||"||str==="=="||str==="!="||str==="+="||str==="-="||str==="*="||str==="/="||str==="++"||str==="--"||str==="<<"||str===">>"||str==="&="||str==="|="||str==="^="||str==="%="||str==="<="||str===">="||str==="=>"){index+=2}else{str=source[index];if("<>=!+-*%&|^/".indexOf(str)>=0){++index}}}}}if(index===token.start){throwUnexpectedToken()}token.end=index;token.value=str;return token}function scanHexLiteral(start){var number="";while(index<length){if(!isHexDigit(source[index])){break}number+=source[index++]}if(number.length===0){throwUnexpectedToken()}if(isIdentifierStart(source.charCodeAt(index))){throwUnexpectedToken()}return{type:Token.NumericLiteral,value:parseInt("0x"+number,16),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanBinaryLiteral(start){var ch,number;number="";while(index<length){ch=source[index];if(ch!=="0"&&ch!=="1"){break}number+=source[index++]}if(number.length===0){throwUnexpectedToken()}if(index<length){ch=source.charCodeAt(index);if(isIdentifierStart(ch)||isDecimalDigit(ch)){throwUnexpectedToken()}}return{type:Token.NumericLiteral,value:parseInt(number,2),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanOctalLiteral(prefix,start){var number,octal;if(isOctalDigit(prefix)){octal=true;number="0"+source[index++]}else{octal=false;++index;number=""}while(index<length){if(!isOctalDigit(source[index])){break}number+=source[index++]}if(!octal&&number.length===0){throwUnexpectedToken()}if(isIdentifierStart(source.charCodeAt(index))||isDecimalDigit(source.charCodeAt(index))){throwUnexpectedToken()}return{type:Token.NumericLiteral,value:parseInt(number,8),octal:octal,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function isImplicitOctalLiteral(){var i,ch;for(i=index+1;i<length;++i){ch=source[i];if(ch==="8"||ch==="9"){return false}if(!isOctalDigit(ch)){return true}}return true}function scanNumericLiteral(){var number,start,ch;ch=source[index];assert(isDecimalDigit(ch.charCodeAt(0))||ch===".","Numeric literal must start with a decimal digit or a decimal point");start=index;number="";if(ch!=="."){number=source[index++];ch=source[index];if(number==="0"){if(ch==="x"||ch==="X"){++index;return scanHexLiteral(start)}if(ch==="b"||ch==="B"){++index;return scanBinaryLiteral(start)}if(ch==="o"||ch==="O"){return scanOctalLiteral(ch,start)}if(isOctalDigit(ch)){if(isImplicitOctalLiteral()){return scanOctalLiteral(ch,start)}}}while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="."){number+=source[index++];while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}ch=source[index]}if(ch==="e"||ch==="E"){number+=source[index++];ch=source[index];if(ch==="+"||ch==="-"){number+=source[index++]}if(isDecimalDigit(source.charCodeAt(index))){while(isDecimalDigit(source.charCodeAt(index))){number+=source[index++]}}else{throwUnexpectedToken()}}if(isIdentifierStart(source.charCodeAt(index))){throwUnexpectedToken()}return{type:Token.NumericLiteral,value:parseFloat(number),lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function scanStringLiteral(){var str="",quote,start,ch,unescaped,octToDec,octal=false;quote=source[index];assert(quote==="'"||quote==='"',"String literal must starts with a quote");start=index;++index;while(index<length){ch=source[index++];if(ch===quote){quote="";break}else if(ch==="\\"){ch=source[index++];if(!ch||!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"u":case"x":if(source[index]==="{"){++index;str+=scanUnicodeCodePointEscape()}else{unescaped=scanHexEscape(ch);if(!unescaped){throw throwUnexpectedToken()}str+=unescaped}break;case"n":str+="\n";break;case"r":str+="\r";break;case"t":str+="	";break;case"b":str+="\b";break;case"f":str+="\f";break;case"v":str+="";break;case"8":case"9":str+=ch;tolerateUnexpectedToken();break;default:if(isOctalDigit(ch)){octToDec=octalToDecimal(ch);octal=octToDec.octal||octal;str+=String.fromCharCode(octToDec.code)}else{str+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}lineStart=index}}else if(isLineTerminator(ch.charCodeAt(0))){break}else{str+=ch}}if(quote!==""){index=start;throwUnexpectedToken()}return{type:Token.StringLiteral,value:str,octal:octal,lineNumber:startLineNumber,lineStart:startLineStart,start:start,end:index}}function scanTemplate(){var cooked="",ch,start,rawOffset,terminated,head,tail,restore,unescaped;terminated=false;tail=false;start=index;head=source[index]==="`";rawOffset=2;++index;while(index<length){ch=source[index++];if(ch==="`"){rawOffset=1;tail=true;terminated=true;break}else if(ch==="$"){if(source[index]==="{"){state.curlyStack.push("${");++index;terminated=true;break}cooked+=ch}else if(ch==="\\"){ch=source[index++];if(!isLineTerminator(ch.charCodeAt(0))){switch(ch){case"n":cooked+="\n";break;case"r":cooked+="\r";break;case"t":cooked+="	";break;case"u":case"x":if(source[index]==="{"){++index;cooked+=scanUnicodeCodePointEscape()}else{restore=index;unescaped=scanHexEscape(ch);if(unescaped){cooked+=unescaped}else{index=restore;cooked+=ch}}break;case"b":cooked+="\b";break;case"f":cooked+="\f";break;case"v":cooked+="";break;default:if(ch==="0"){if(isDecimalDigit(source.charCodeAt(index))){throwError(Messages.TemplateOctalLiteral)}cooked+="\x00"}else if(isOctalDigit(ch)){throwError(Messages.TemplateOctalLiteral)}else{cooked+=ch}break}}else{++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}lineStart=index}}else if(isLineTerminator(ch.charCodeAt(0))){++lineNumber;if(ch==="\r"&&source[index]==="\n"){++index}lineStart=index;cooked+="\n"}else{cooked+=ch}}if(!terminated){throwUnexpectedToken()}if(!head){state.curlyStack.pop()}return{type:Token.Template,value:{cooked:cooked,raw:source.slice(start+1,index-rawOffset)},head:head,tail:tail,lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}function testRegExp(pattern,flags){var astralSubstitute="",tmp=pattern;if(flags.indexOf("u")>=0){tmp=tmp.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function($0,$1,$2){var codePoint=parseInt($1||$2,16);if(codePoint>1114111){throwUnexpectedToken(null,Messages.InvalidRegExp)}if(codePoint<=65535){return String.fromCharCode(codePoint)}return astralSubstitute}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,astralSubstitute)}try{RegExp(tmp)}catch(e){throwUnexpectedToken(null,Messages.InvalidRegExp)}try{return new RegExp(pattern,flags)}catch(exception){return null}}function scanRegExpBody(){var ch,str,classMarker,terminated,body;ch=source[index];assert(ch==="/","Regular expression literal must start with a slash");str=source[index++];classMarker=false;terminated=false;while(index<length){ch=source[index++];str+=ch;if(ch==="\\"){ch=source[index++];if(isLineTerminator(ch.charCodeAt(0))){throwUnexpectedToken(null,Messages.UnterminatedRegExp)}str+=ch}else if(isLineTerminator(ch.charCodeAt(0))){throwUnexpectedToken(null,Messages.UnterminatedRegExp)}else if(classMarker){if(ch==="]"){classMarker=false}}else{if(ch==="/"){terminated=true;break}else if(ch==="["){classMarker=true}}}if(!terminated){throwUnexpectedToken(null,Messages.UnterminatedRegExp)}body=str.substr(1,str.length-2);return{value:body,literal:str}}function scanRegExpFlags(){var ch,str,flags,restore;str="";flags="";while(index<length){ch=source[index];if(!isIdentifierPart(ch.charCodeAt(0))){break}++index;if(ch==="\\"&&index<length){ch=source[index];if(ch==="u"){++index;restore=index;ch=scanHexEscape("u");if(ch){flags+=ch;for(str+="\\u";restore<index;++restore){str+=source[restore]}}else{index=restore;flags+="u";str+="\\u"}tolerateUnexpectedToken()}else{str+="\\";tolerateUnexpectedToken()}}else{flags+=ch;str+=ch}}return{value:flags,literal:str}}function scanRegExp(){var start,body,flags,value;scanning=true;lookahead=null;skipComment();start=index;body=scanRegExpBody();flags=scanRegExpFlags();value=testRegExp(body.value,flags.value);scanning=false;if(extra.tokenize){return{type:Token.RegularExpression,value:value,regex:{pattern:body.value,flags:flags.value},lineNumber:lineNumber,lineStart:lineStart,start:start,end:index}}return{literal:body.literal+flags.literal,value:value,regex:{pattern:body.value,
flags:flags.value},start:start,end:index}}function collectRegex(){var pos,loc,regex,token;skipComment();pos=index;loc={start:{line:lineNumber,column:index-lineStart}};regex=scanRegExp();loc.end={line:lineNumber,column:index-lineStart};if(!extra.tokenize){if(extra.tokens.length>0){token=extra.tokens[extra.tokens.length-1];if(token.range[0]===pos&&token.type==="Punctuator"){if(token.value==="/"||token.value==="/="){extra.tokens.pop()}}}extra.tokens.push({type:"RegularExpression",value:regex.literal,regex:regex.regex,range:[pos,index],loc:loc})}return regex}function isIdentifierName(token){return token.type===Token.Identifier||token.type===Token.Keyword||token.type===Token.BooleanLiteral||token.type===Token.NullLiteral}function advanceSlash(){var regex,previous,check;function testKeyword(value){return value&&value.length>1&&value[0]>="a"&&value[0]<="z"}previous=extra.tokenValues[extra.tokens.length-1];regex=previous!==null;switch(previous){case"this":case"]":regex=false;break;case")":check=extra.tokenValues[extra.openParenToken-1];regex=check==="if"||check==="while"||check==="for"||check==="with";break;case"}":regex=false;if(testKeyword(extra.tokenValues[extra.openCurlyToken-3])){check=extra.tokenValues[extra.openCurlyToken-4];regex=check?FnExprTokens.indexOf(check)<0:false}else if(testKeyword(extra.tokenValues[extra.openCurlyToken-4])){check=extra.tokenValues[extra.openCurlyToken-5];regex=check?FnExprTokens.indexOf(check)<0:true}}return regex?collectRegex():scanPunctuator()}function advance(){var cp,token;if(index>=length){return{type:Token.EOF,lineNumber:lineNumber,lineStart:lineStart,start:index,end:index}}cp=source.charCodeAt(index);if(isIdentifierStart(cp)){token=scanIdentifier();if(strict&&isStrictModeReservedWord(token.value)){token.type=Token.Keyword}return token}if(cp===40||cp===41||cp===59){return scanPunctuator()}if(cp===39||cp===34){return scanStringLiteral()}if(cp===46){if(isDecimalDigit(source.charCodeAt(index+1))){return scanNumericLiteral()}return scanPunctuator()}if(isDecimalDigit(cp)){return scanNumericLiteral()}if(extra.tokenize&&cp===47){return advanceSlash()}if(cp===96||cp===125&&state.curlyStack[state.curlyStack.length-1]==="${"){return scanTemplate()}if(cp>=55296&&cp<57343){cp=codePointAt(index);if(isIdentifierStart(cp)){return scanIdentifier()}}return scanPunctuator()}function collectToken(){var loc,token,value,entry;loc={start:{line:lineNumber,column:index-lineStart}};token=advance();loc.end={line:lineNumber,column:index-lineStart};if(token.type!==Token.EOF){value=source.slice(token.start,token.end);entry={type:TokenName[token.type],value:value,range:[token.start,token.end],loc:loc};if(token.regex){entry.regex={pattern:token.regex.pattern,flags:token.regex.flags}}if(extra.tokenValues){extra.tokenValues.push(entry.type==="Punctuator"||entry.type==="Keyword"?entry.value:null)}if(extra.tokenize){if(!extra.range){delete entry.range}if(!extra.loc){delete entry.loc}if(extra.delegate){entry=extra.delegate(entry)}}extra.tokens.push(entry)}return token}function lex(){var token;scanning=true;lastIndex=index;lastLineNumber=lineNumber;lastLineStart=lineStart;skipComment();token=lookahead;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();scanning=false;return token}function peek(){scanning=true;skipComment();lastIndex=index;lastLineNumber=lineNumber;lastLineStart=lineStart;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;lookahead=typeof extra.tokens!=="undefined"?collectToken():advance();scanning=false}function Position(){this.line=startLineNumber;this.column=startIndex-startLineStart}function SourceLocation(){this.start=new Position;this.end=null}function WrappingSourceLocation(startToken){this.start={line:startToken.lineNumber,column:startToken.start-startToken.lineStart};this.end=null}function Node(){if(extra.range){this.range=[startIndex,0]}if(extra.loc){this.loc=new SourceLocation}}function WrappingNode(startToken){if(extra.range){this.range=[startToken.start,0]}if(extra.loc){this.loc=new WrappingSourceLocation(startToken)}}WrappingNode.prototype=Node.prototype={processComment:function(){var lastChild,innerComments,leadingComments,trailingComments,bottomRight=extra.bottomRightStack,i,comment,last=bottomRight[bottomRight.length-1];if(this.type===Syntax.Program){if(this.body.length>0){return}}if(this.type===Syntax.BlockStatement&&this.body.length===0){innerComments=[];for(i=extra.leadingComments.length-1;i>=0;--i){comment=extra.leadingComments[i];if(this.range[1]>=comment.range[1]){innerComments.unshift(comment);extra.leadingComments.splice(i,1);extra.trailingComments.splice(i,1)}}if(innerComments.length){this.innerComments=innerComments;return}}if(extra.trailingComments.length>0){trailingComments=[];for(i=extra.trailingComments.length-1;i>=0;--i){comment=extra.trailingComments[i];if(comment.range[0]>=this.range[1]){trailingComments.unshift(comment);extra.trailingComments.splice(i,1)}}extra.trailingComments=[]}else{if(last&&last.trailingComments&&last.trailingComments[0].range[0]>=this.range[1]){trailingComments=last.trailingComments;delete last.trailingComments}}while(last&&last.range[0]>=this.range[0]){lastChild=bottomRight.pop();last=bottomRight[bottomRight.length-1]}if(lastChild){if(lastChild.leadingComments){leadingComments=[];for(i=lastChild.leadingComments.length-1;i>=0;--i){comment=lastChild.leadingComments[i];if(comment.range[1]<=this.range[0]){leadingComments.unshift(comment);lastChild.leadingComments.splice(i,1)}}if(!lastChild.leadingComments.length){lastChild.leadingComments=undefined}}}else if(extra.leadingComments.length>0){leadingComments=[];for(i=extra.leadingComments.length-1;i>=0;--i){comment=extra.leadingComments[i];if(comment.range[1]<=this.range[0]){leadingComments.unshift(comment);extra.leadingComments.splice(i,1)}}}if(leadingComments&&leadingComments.length>0){this.leadingComments=leadingComments}if(trailingComments&&trailingComments.length>0){this.trailingComments=trailingComments}bottomRight.push(this)},finish:function(){if(extra.range){this.range[1]=lastIndex}if(extra.loc){this.loc.end={line:lastLineNumber,column:lastIndex-lastLineStart};if(extra.source){this.loc.source=extra.source}}if(extra.attachComment){this.processComment()}},finishArrayExpression:function(elements){this.type=Syntax.ArrayExpression;this.elements=elements;this.finish();return this},finishArrayPattern:function(elements){this.type=Syntax.ArrayPattern;this.elements=elements;this.finish();return this},finishArrowFunctionExpression:function(params,defaults,body,expression){this.type=Syntax.ArrowFunctionExpression;this.id=null;this.params=params;this.defaults=defaults;this.body=body;this.generator=false;this.expression=expression;this.finish();return this},finishAssignmentExpression:function(operator,left,right){this.type=Syntax.AssignmentExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishAssignmentPattern:function(left,right){this.type=Syntax.AssignmentPattern;this.left=left;this.right=right;this.finish();return this},finishBinaryExpression:function(operator,left,right){this.type=operator==="||"||operator==="&&"?Syntax.LogicalExpression:Syntax.BinaryExpression;this.operator=operator;this.left=left;this.right=right;this.finish();return this},finishBlockStatement:function(body){this.type=Syntax.BlockStatement;this.body=body;this.finish();return this},finishBreakStatement:function(label){this.type=Syntax.BreakStatement;this.label=label;this.finish();return this},finishCallExpression:function(callee,args){this.type=Syntax.CallExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishCatchClause:function(param,body){this.type=Syntax.CatchClause;this.param=param;this.body=body;this.finish();return this},finishClassBody:function(body){this.type=Syntax.ClassBody;this.body=body;this.finish();return this},finishClassDeclaration:function(id,superClass,body){this.type=Syntax.ClassDeclaration;this.id=id;this.superClass=superClass;this.body=body;this.finish();return this},finishClassExpression:function(id,superClass,body){this.type=Syntax.ClassExpression;this.id=id;this.superClass=superClass;this.body=body;this.finish();return this},finishConditionalExpression:function(test,consequent,alternate){this.type=Syntax.ConditionalExpression;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishContinueStatement:function(label){this.type=Syntax.ContinueStatement;this.label=label;this.finish();return this},finishDebuggerStatement:function(){this.type=Syntax.DebuggerStatement;this.finish();return this},finishDoWhileStatement:function(body,test){this.type=Syntax.DoWhileStatement;this.body=body;this.test=test;this.finish();return this},finishEmptyStatement:function(){this.type=Syntax.EmptyStatement;this.finish();return this},finishExpressionStatement:function(expression){this.type=Syntax.ExpressionStatement;this.expression=expression;this.finish();return this},finishForStatement:function(init,test,update,body){this.type=Syntax.ForStatement;this.init=init;this.test=test;this.update=update;this.body=body;this.finish();return this},finishForOfStatement:function(left,right,body){this.type=Syntax.ForOfStatement;this.left=left;this.right=right;this.body=body;this.finish();return this},finishForInStatement:function(left,right,body){this.type=Syntax.ForInStatement;this.left=left;this.right=right;this.body=body;this.each=false;this.finish();return this},finishFunctionDeclaration:function(id,params,defaults,body,generator){this.type=Syntax.FunctionDeclaration;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.generator=generator;this.expression=false;this.finish();return this},finishFunctionExpression:function(id,params,defaults,body,generator){this.type=Syntax.FunctionExpression;this.id=id;this.params=params;this.defaults=defaults;this.body=body;this.generator=generator;this.expression=false;this.finish();return this},finishIdentifier:function(name){this.type=Syntax.Identifier;this.name=name;this.finish();return this},finishIfStatement:function(test,consequent,alternate){this.type=Syntax.IfStatement;this.test=test;this.consequent=consequent;this.alternate=alternate;this.finish();return this},finishLabeledStatement:function(label,body){this.type=Syntax.LabeledStatement;this.label=label;this.body=body;this.finish();return this},finishLiteral:function(token){this.type=Syntax.Literal;this.value=token.value;this.raw=source.slice(token.start,token.end);if(token.regex){this.regex=token.regex}this.finish();return this},finishMemberExpression:function(accessor,object,property){this.type=Syntax.MemberExpression;this.computed=accessor==="[";this.object=object;this.property=property;this.finish();return this},finishMetaProperty:function(meta,property){this.type=Syntax.MetaProperty;this.meta=meta;this.property=property;this.finish();return this},finishNewExpression:function(callee,args){this.type=Syntax.NewExpression;this.callee=callee;this.arguments=args;this.finish();return this},finishObjectExpression:function(properties){this.type=Syntax.ObjectExpression;this.properties=properties;this.finish();return this},finishObjectPattern:function(properties){this.type=Syntax.ObjectPattern;this.properties=properties;this.finish();return this},finishPostfixExpression:function(operator,argument){this.type=Syntax.UpdateExpression;this.operator=operator;this.argument=argument;this.prefix=false;this.finish();return this},finishProgram:function(body,sourceType){this.type=Syntax.Program;this.body=body;this.sourceType=sourceType;this.finish();return this},finishProperty:function(kind,key,computed,value,method,shorthand){this.type=Syntax.Property;this.key=key;this.computed=computed;this.value=value;this.kind=kind;this.method=method;this.shorthand=shorthand;this.finish();return this},finishRestElement:function(argument){this.type=Syntax.RestElement;this.argument=argument;this.finish();return this},finishReturnStatement:function(argument){this.type=Syntax.ReturnStatement;this.argument=argument;this.finish();return this},finishSequenceExpression:function(expressions){this.type=Syntax.SequenceExpression;this.expressions=expressions;this.finish();return this},finishSpreadElement:function(argument){this.type=Syntax.SpreadElement;this.argument=argument;this.finish();return this},finishSwitchCase:function(test,consequent){this.type=Syntax.SwitchCase;this.test=test;this.consequent=consequent;this.finish();return this},finishSuper:function(){this.type=Syntax.Super;this.finish();return this},finishSwitchStatement:function(discriminant,cases){this.type=Syntax.SwitchStatement;this.discriminant=discriminant;this.cases=cases;this.finish();return this},finishTaggedTemplateExpression:function(tag,quasi){this.type=Syntax.TaggedTemplateExpression;this.tag=tag;this.quasi=quasi;this.finish();return this},finishTemplateElement:function(value,tail){this.type=Syntax.TemplateElement;this.value=value;this.tail=tail;this.finish();return this},finishTemplateLiteral:function(quasis,expressions){this.type=Syntax.TemplateLiteral;this.quasis=quasis;this.expressions=expressions;this.finish();return this},finishThisExpression:function(){this.type=Syntax.ThisExpression;this.finish();return this},finishThrowStatement:function(argument){this.type=Syntax.ThrowStatement;this.argument=argument;this.finish();return this},finishTryStatement:function(block,handler,finalizer){this.type=Syntax.TryStatement;this.block=block;this.guardedHandlers=[];this.handlers=handler?[handler]:[];this.handler=handler;this.finalizer=finalizer;this.finish();return this},finishUnaryExpression:function(operator,argument){this.type=operator==="++"||operator==="--"?Syntax.UpdateExpression:Syntax.UnaryExpression;this.operator=operator;this.argument=argument;this.prefix=true;this.finish();return this},finishVariableDeclaration:function(declarations){this.type=Syntax.VariableDeclaration;this.declarations=declarations;this.kind="var";this.finish();return this},finishLexicalDeclaration:function(declarations,kind){this.type=Syntax.VariableDeclaration;this.declarations=declarations;this.kind=kind;this.finish();return this},finishVariableDeclarator:function(id,init){this.type=Syntax.VariableDeclarator;this.id=id;this.init=init;this.finish();return this},finishWhileStatement:function(test,body){this.type=Syntax.WhileStatement;this.test=test;this.body=body;this.finish();return this},finishWithStatement:function(object,body){this.type=Syntax.WithStatement;this.object=object;this.body=body;this.finish();return this},finishExportSpecifier:function(local,exported){this.type=Syntax.ExportSpecifier;this.exported=exported||local;this.local=local;this.finish();return this},finishImportDefaultSpecifier:function(local){this.type=Syntax.ImportDefaultSpecifier;this.local=local;this.finish();return this},finishImportNamespaceSpecifier:function(local){this.type=Syntax.ImportNamespaceSpecifier;this.local=local;this.finish();return this},finishExportNamedDeclaration:function(declaration,specifiers,src){this.type=Syntax.ExportNamedDeclaration;this.declaration=declaration;this.specifiers=specifiers;this.source=src;this.finish();return this},finishExportDefaultDeclaration:function(declaration){this.type=Syntax.ExportDefaultDeclaration;this.declaration=declaration;this.finish();return this},finishExportAllDeclaration:function(src){this.type=Syntax.ExportAllDeclaration;this.source=src;this.finish();return this},finishImportSpecifier:function(local,imported){this.type=Syntax.ImportSpecifier;this.local=local||imported;this.imported=imported;this.finish();return this},finishImportDeclaration:function(specifiers,src){this.type=Syntax.ImportDeclaration;this.specifiers=specifiers;this.source=src;this.finish();return this},finishYieldExpression:function(argument,delegate){this.type=Syntax.YieldExpression;this.argument=argument;this.delegate=delegate;this.finish();return this}};function recordError(error){var e,existing;for(e=0;e<extra.errors.length;e++){existing=extra.errors[e];if(existing.index===error.index&&existing.message===error.message){return}}extra.errors.push(error)}function constructError(msg,column){var error=new Error(msg);try{throw error}catch(base){if(Object.create&&Object.defineProperty){error=Object.create(base);Object.defineProperty(error,"column",{value:column})}}finally{return error}}function createError(line,pos,description){var msg,column,error;msg="Line "+line+": "+description;column=pos-(scanning?lineStart:lastLineStart)+1;error=constructError(msg,column);error.lineNumber=line;error.description=description;error.index=pos;return error}function throwError(messageFormat){var args,msg;args=Array.prototype.slice.call(arguments,1);msg=messageFormat.replace(/%(\d)/g,function(whole,idx){assert(idx<args.length,"Message reference must be in range");return args[idx]});throw createError(lastLineNumber,lastIndex,msg)}function tolerateError(messageFormat){var args,msg,error;args=Array.prototype.slice.call(arguments,1);msg=messageFormat.replace(/%(\d)/g,function(whole,idx){assert(idx<args.length,"Message reference must be in range");return args[idx]});error=createError(lineNumber,lastIndex,msg);if(extra.errors){recordError(error)}else{throw error}}function unexpectedTokenError(token,message){var value,msg=message||Messages.UnexpectedToken;if(token){if(!message){msg=token.type===Token.EOF?Messages.UnexpectedEOS:token.type===Token.Identifier?Messages.UnexpectedIdentifier:token.type===Token.NumericLiteral?Messages.UnexpectedNumber:token.type===Token.StringLiteral?Messages.UnexpectedString:token.type===Token.Template?Messages.UnexpectedTemplate:Messages.UnexpectedToken;if(token.type===Token.Keyword){if(isFutureReservedWord(token.value)){msg=Messages.UnexpectedReserved}else if(strict&&isStrictModeReservedWord(token.value)){msg=Messages.StrictReservedWord}}}value=token.type===Token.Template?token.value.raw:token.value}else{value="ILLEGAL"}msg=msg.replace("%0",value);return token&&typeof token.lineNumber==="number"?createError(token.lineNumber,token.start,msg):createError(scanning?lineNumber:lastLineNumber,scanning?index:lastIndex,msg)}function throwUnexpectedToken(token,message){throw unexpectedTokenError(token,message)}function tolerateUnexpectedToken(token,message){var error=unexpectedTokenError(token,message);if(extra.errors){recordError(error)}else{throw error}}function expect(value){var token=lex();if(token.type!==Token.Punctuator||token.value!==value){throwUnexpectedToken(token)}}function expectCommaSeparator(){var token;if(extra.errors){token=lookahead;if(token.type===Token.Punctuator&&token.value===","){lex()}else if(token.type===Token.Punctuator&&token.value===";"){lex();tolerateUnexpectedToken(token)}else{tolerateUnexpectedToken(token,Messages.UnexpectedToken)}}else{expect(",")}}function expectKeyword(keyword){var token=lex();if(token.type!==Token.Keyword||token.value!==keyword){throwUnexpectedToken(token)}}function match(value){return lookahead.type===Token.Punctuator&&lookahead.value===value}function matchKeyword(keyword){return lookahead.type===Token.Keyword&&lookahead.value===keyword}function matchContextualKeyword(keyword){return lookahead.type===Token.Identifier&&lookahead.value===keyword}function matchAssign(){var op;if(lookahead.type!==Token.Punctuator){return false}op=lookahead.value;return op==="="||op==="*="||op==="/="||op==="%="||op==="+="||op==="-="||op==="<<="||op===">>="||op===">>>="||op==="&="||op==="^="||op==="|="}function consumeSemicolon(){if(source.charCodeAt(startIndex)===59||match(";")){lex();return}if(hasLineTerminator){return}lastIndex=startIndex;lastLineNumber=startLineNumber;lastLineStart=startLineStart;if(lookahead.type!==Token.EOF&&!match("}")){throwUnexpectedToken(lookahead)}}function isolateCoverGrammar(parser){var oldIsBindingElement=isBindingElement,oldIsAssignmentTarget=isAssignmentTarget,oldFirstCoverInitializedNameError=firstCoverInitializedNameError,result;isBindingElement=true;isAssignmentTarget=true;firstCoverInitializedNameError=null;result=parser();if(firstCoverInitializedNameError!==null){throwUnexpectedToken(firstCoverInitializedNameError)}isBindingElement=oldIsBindingElement;isAssignmentTarget=oldIsAssignmentTarget;firstCoverInitializedNameError=oldFirstCoverInitializedNameError;return result}function inheritCoverGrammar(parser){var oldIsBindingElement=isBindingElement,oldIsAssignmentTarget=isAssignmentTarget,oldFirstCoverInitializedNameError=firstCoverInitializedNameError,result;isBindingElement=true;isAssignmentTarget=true;firstCoverInitializedNameError=null;result=parser();isBindingElement=isBindingElement&&oldIsBindingElement;isAssignmentTarget=isAssignmentTarget&&oldIsAssignmentTarget;firstCoverInitializedNameError=oldFirstCoverInitializedNameError||firstCoverInitializedNameError;return result}function parseArrayPattern(params,kind){var node=new Node,elements=[],rest,restNode;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else{if(match("...")){restNode=new Node;lex();params.push(lookahead);rest=parseVariableIdentifier(kind);elements.push(restNode.finishRestElement(rest));break}else{elements.push(parsePatternWithDefault(params,kind))}if(!match("]")){expect(",")}}}expect("]");return node.finishArrayPattern(elements)}function parsePropertyPattern(params,kind){var node=new Node,key,keyToken,computed=match("["),init;if(lookahead.type===Token.Identifier){keyToken=lookahead;key=parseVariableIdentifier();if(match("=")){params.push(keyToken);lex();init=parseAssignmentExpression();return node.finishProperty("init",key,false,new WrappingNode(keyToken).finishAssignmentPattern(key,init),false,true)}else if(!match(":")){params.push(keyToken);return node.finishProperty("init",key,false,key,false,true)}}else{key=parseObjectPropertyKey()}expect(":");init=parsePatternWithDefault(params,kind);return node.finishProperty("init",key,computed,init,false,false)}function parseObjectPattern(params,kind){var node=new Node,properties=[];expect("{");while(!match("}")){properties.push(parsePropertyPattern(params,kind));if(!match("}")){expect(",")}}lex();return node.finishObjectPattern(properties)}function parsePattern(params,kind){if(match("[")){return parseArrayPattern(params,kind)}else if(match("{")){return parseObjectPattern(params,kind)}else if(matchKeyword("let")){if(kind==="const"||kind==="let"){tolerateUnexpectedToken(lookahead,Messages.UnexpectedToken)}}params.push(lookahead);return parseVariableIdentifier(kind)}function parsePatternWithDefault(params,kind){var startToken=lookahead,pattern,previousAllowYield,right;pattern=parsePattern(params,kind);if(match("=")){lex();previousAllowYield=state.allowYield;state.allowYield=true;right=isolateCoverGrammar(parseAssignmentExpression);state.allowYield=previousAllowYield;pattern=new WrappingNode(startToken).finishAssignmentPattern(pattern,right)}return pattern}function parseArrayInitializer(){var elements=[],node=new Node,restSpread;expect("[");while(!match("]")){if(match(",")){lex();elements.push(null)}else if(match("...")){restSpread=new Node;lex();restSpread.finishSpreadElement(inheritCoverGrammar(parseAssignmentExpression));if(!match("]")){isAssignmentTarget=isBindingElement=false;expect(",")}elements.push(restSpread)}else{elements.push(inheritCoverGrammar(parseAssignmentExpression));if(!match("]")){expect(",")}}}lex();return node.finishArrayExpression(elements)}function parsePropertyFunction(node,paramInfo,isGenerator){var previousStrict,body;isAssignmentTarget=isBindingElement=false;previousStrict=strict;body=isolateCoverGrammar(parseFunctionSourceElements);if(strict&&paramInfo.firstRestricted){tolerateUnexpectedToken(paramInfo.firstRestricted,paramInfo.message)}if(strict&&paramInfo.stricted){tolerateUnexpectedToken(paramInfo.stricted,paramInfo.message)}strict=previousStrict;return node.finishFunctionExpression(null,paramInfo.params,paramInfo.defaults,body,isGenerator)}function parsePropertyMethodFunction(){var params,method,node=new Node,previousAllowYield=state.allowYield;state.allowYield=false;params=parseParams();state.allowYield=previousAllowYield;state.allowYield=false;method=parsePropertyFunction(node,params,false);state.allowYield=previousAllowYield;return method}function parseObjectPropertyKey(){var token,node=new Node,expr;token=lex();switch(token.type){case Token.StringLiteral:case Token.NumericLiteral:if(strict&&token.octal){tolerateUnexpectedToken(token,Messages.StrictOctalLiteral)}return node.finishLiteral(token);case Token.Identifier:case Token.BooleanLiteral:case Token.NullLiteral:case Token.Keyword:return node.finishIdentifier(token.value);case Token.Punctuator:if(token.value==="["){expr=isolateCoverGrammar(parseAssignmentExpression);expect("]");return expr}break}throwUnexpectedToken(token)}function lookaheadPropertyName(){switch(lookahead.type){case Token.Identifier:case Token.StringLiteral:case Token.BooleanLiteral:case Token.NullLiteral:case Token.NumericLiteral:case Token.Keyword:return true;case Token.Punctuator:return lookahead.value==="["}return false}function tryParseMethodDefinition(token,key,computed,node){var value,options,methodNode,params,previousAllowYield=state.allowYield;if(token.type===Token.Identifier){if(token.value==="get"&&lookaheadPropertyName()){computed=match("[");key=parseObjectPropertyKey();methodNode=new Node;expect("(");expect(")");state.allowYield=false;value=parsePropertyFunction(methodNode,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},false);state.allowYield=previousAllowYield;return node.finishProperty("get",key,computed,value,false,false)}else if(token.value==="set"&&lookaheadPropertyName()){computed=match("[");key=parseObjectPropertyKey();methodNode=new Node;expect("(");options={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}};if(match(")")){tolerateUnexpectedToken(lookahead)}else{state.allowYield=false;parseParam(options);state.allowYield=previousAllowYield;if(options.defaultCount===0){options.defaults=[]}}expect(")");state.allowYield=false;value=parsePropertyFunction(methodNode,options,false);state.allowYield=previousAllowYield;return node.finishProperty("set",key,computed,value,false,false)}}else if(token.type===Token.Punctuator&&token.value==="*"&&lookaheadPropertyName()){computed=match("[");key=parseObjectPropertyKey();methodNode=new Node;state.allowYield=true;params=parseParams();state.allowYield=previousAllowYield;state.allowYield=false;value=parsePropertyFunction(methodNode,params,true);state.allowYield=previousAllowYield;return node.finishProperty("init",key,computed,value,true,false)}if(key&&match("(")){value=parsePropertyMethodFunction();return node.finishProperty("init",key,computed,value,true,false)}return null}function parseObjectProperty(hasProto){var token=lookahead,node=new Node,computed,key,maybeMethod,proto,value;computed=match("[");if(match("*")){lex()}else{key=parseObjectPropertyKey()}maybeMethod=tryParseMethodDefinition(token,key,computed,node);if(maybeMethod){return maybeMethod}if(!key){throwUnexpectedToken(lookahead)}if(!computed){proto=key.type===Syntax.Identifier&&key.name==="__proto__"||key.type===Syntax.Literal&&key.value==="__proto__";if(hasProto.value&&proto){tolerateError(Messages.DuplicateProtoProperty)}hasProto.value|=proto}if(match(":")){lex();value=inheritCoverGrammar(parseAssignmentExpression);return node.finishProperty("init",key,computed,value,false,false)}if(token.type===Token.Identifier){if(match("=")){firstCoverInitializedNameError=lookahead;lex();value=isolateCoverGrammar(parseAssignmentExpression);return node.finishProperty("init",key,computed,new WrappingNode(token).finishAssignmentPattern(key,value),false,true)}return node.finishProperty("init",key,computed,key,false,true)}throwUnexpectedToken(lookahead)}function parseObjectInitializer(){var properties=[],hasProto={value:false},node=new Node;expect("{");while(!match("}")){properties.push(parseObjectProperty(hasProto));if(!match("}")){expectCommaSeparator()}}expect("}");return node.finishObjectExpression(properties)}function reinterpretExpressionAsPattern(expr){var i;switch(expr.type){case Syntax.Identifier:case Syntax.MemberExpression:case Syntax.RestElement:case Syntax.AssignmentPattern:break;case Syntax.SpreadElement:expr.type=Syntax.RestElement;reinterpretExpressionAsPattern(expr.argument);break;case Syntax.ArrayExpression:expr.type=Syntax.ArrayPattern;for(i=0;i<expr.elements.length;i++){if(expr.elements[i]!==null){reinterpretExpressionAsPattern(expr.elements[i])}}break;case Syntax.ObjectExpression:expr.type=Syntax.ObjectPattern;for(i=0;i<expr.properties.length;i++){reinterpretExpressionAsPattern(expr.properties[i].value)}break;case Syntax.AssignmentExpression:expr.type=Syntax.AssignmentPattern;reinterpretExpressionAsPattern(expr.left);break;default:break}}function parseTemplateElement(option){var node,token;if(lookahead.type!==Token.Template||option.head&&!lookahead.head){throwUnexpectedToken()}node=new Node;token=lex();return node.finishTemplateElement({raw:token.value.raw,cooked:token.value.cooked},token.tail)}function parseTemplateLiteral(){var quasi,quasis,expressions,node=new Node;quasi=parseTemplateElement({head:true});quasis=[quasi];expressions=[];while(!quasi.tail){expressions.push(parseExpression());quasi=parseTemplateElement({head:false});quasis.push(quasi)}return node.finishTemplateLiteral(quasis,expressions)}function parseGroupExpression(){var expr,expressions,startToken,i,params=[];expect("(");if(match(")")){lex();if(!match("=>")){expect("=>")}return{type:PlaceHolders.ArrowParameterPlaceHolder,params:[],rawParams:[]}}startToken=lookahead;if(match("...")){expr=parseRestElement(params);expect(")");if(!match("=>")){expect("=>")}return{type:PlaceHolders.ArrowParameterPlaceHolder,params:[expr]}}isBindingElement=true;expr=inheritCoverGrammar(parseAssignmentExpression);if(match(",")){isAssignmentTarget=false;expressions=[expr];while(startIndex<length){if(!match(",")){break}lex();if(match("...")){if(!isBindingElement){throwUnexpectedToken(lookahead)}expressions.push(parseRestElement(params));expect(")");if(!match("=>")){expect("=>")}isBindingElement=false;for(i=0;i<expressions.length;i++){reinterpretExpressionAsPattern(expressions[i])}return{type:PlaceHolders.ArrowParameterPlaceHolder,params:expressions}}expressions.push(inheritCoverGrammar(parseAssignmentExpression))}expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}expect(")");if(match("=>")){if(expr.type===Syntax.Identifier&&expr.name==="yield"){return{type:PlaceHolders.ArrowParameterPlaceHolder,params:[expr]}}if(!isBindingElement){throwUnexpectedToken(lookahead)}if(expr.type===Syntax.SequenceExpression){for(i=0;i<expr.expressions.length;i++){reinterpretExpressionAsPattern(expr.expressions[i])}}else{reinterpretExpressionAsPattern(expr)}expr={type:PlaceHolders.ArrowParameterPlaceHolder,params:expr.type===Syntax.SequenceExpression?expr.expressions:[expr]}}isBindingElement=false;return expr}function parsePrimaryExpression(){var type,token,expr,node;if(match("(")){isBindingElement=false;return inheritCoverGrammar(parseGroupExpression)}if(match("[")){return inheritCoverGrammar(parseArrayInitializer)}if(match("{")){return inheritCoverGrammar(parseObjectInitializer)}type=lookahead.type;node=new Node;if(type===Token.Identifier){if(state.sourceType==="module"&&lookahead.value==="await"){tolerateUnexpectedToken(lookahead)}expr=node.finishIdentifier(lex().value)}else if(type===Token.StringLiteral||type===Token.NumericLiteral){isAssignmentTarget=isBindingElement=false;if(strict&&lookahead.octal){tolerateUnexpectedToken(lookahead,Messages.StrictOctalLiteral)}expr=node.finishLiteral(lex())}else if(type===Token.Keyword){if(!strict&&state.allowYield&&matchKeyword("yield")){return parseNonComputedProperty()}if(!strict&&matchKeyword("let")){return node.finishIdentifier(lex().value)}isAssignmentTarget=isBindingElement=false;if(matchKeyword("function")){return parseFunctionExpression()}if(matchKeyword("this")){lex();return node.finishThisExpression();

}if(matchKeyword("class")){return parseClassExpression()}throwUnexpectedToken(lex())}else if(type===Token.BooleanLiteral){isAssignmentTarget=isBindingElement=false;token=lex();token.value=token.value==="true";expr=node.finishLiteral(token)}else if(type===Token.NullLiteral){isAssignmentTarget=isBindingElement=false;token=lex();token.value=null;expr=node.finishLiteral(token)}else if(match("/")||match("/=")){isAssignmentTarget=isBindingElement=false;index=startIndex;if(typeof extra.tokens!=="undefined"){token=collectRegex()}else{token=scanRegExp()}lex();expr=node.finishLiteral(token)}else if(type===Token.Template){expr=parseTemplateLiteral()}else{throwUnexpectedToken(lex())}return expr}function parseArguments(){var args=[],expr;expect("(");if(!match(")")){while(startIndex<length){if(match("...")){expr=new Node;lex();expr.finishSpreadElement(isolateCoverGrammar(parseAssignmentExpression))}else{expr=isolateCoverGrammar(parseAssignmentExpression)}args.push(expr);if(match(")")){break}expectCommaSeparator()}}expect(")");return args}function parseNonComputedProperty(){var token,node=new Node;token=lex();if(!isIdentifierName(token)){throwUnexpectedToken(token)}return node.finishIdentifier(token.value)}function parseNonComputedMember(){expect(".");return parseNonComputedProperty()}function parseComputedMember(){var expr;expect("[");expr=isolateCoverGrammar(parseExpression);expect("]");return expr}function parseNewExpression(){var callee,args,node=new Node;expectKeyword("new");if(match(".")){lex();if(lookahead.type===Token.Identifier&&lookahead.value==="target"){if(state.inFunctionBody){lex();return node.finishMetaProperty("new","target")}}throwUnexpectedToken(lookahead)}callee=isolateCoverGrammar(parseLeftHandSideExpression);args=match("(")?parseArguments():[];isAssignmentTarget=isBindingElement=false;return node.finishNewExpression(callee,args)}function parseLeftHandSideExpressionAllowCall(){var quasi,expr,args,property,startToken,previousAllowIn=state.allowIn;startToken=lookahead;state.allowIn=true;if(matchKeyword("super")&&state.inFunctionBody){expr=new Node;lex();expr=expr.finishSuper();if(!match("(")&&!match(".")&&!match("[")){throwUnexpectedToken(lookahead)}}else{expr=inheritCoverGrammar(matchKeyword("new")?parseNewExpression:parsePrimaryExpression)}for(;;){if(match(".")){isBindingElement=false;isAssignmentTarget=true;property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else if(match("(")){isBindingElement=false;isAssignmentTarget=false;args=parseArguments();expr=new WrappingNode(startToken).finishCallExpression(expr,args)}else if(match("[")){isBindingElement=false;isAssignmentTarget=true;property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else if(lookahead.type===Token.Template&&lookahead.head){quasi=parseTemplateLiteral();expr=new WrappingNode(startToken).finishTaggedTemplateExpression(expr,quasi)}else{break}}state.allowIn=previousAllowIn;return expr}function parseLeftHandSideExpression(){var quasi,expr,property,startToken;assert(state.allowIn,"callee of new expression always allow in keyword.");startToken=lookahead;if(matchKeyword("super")&&state.inFunctionBody){expr=new Node;lex();expr=expr.finishSuper();if(!match("[")&&!match(".")){throwUnexpectedToken(lookahead)}}else{expr=inheritCoverGrammar(matchKeyword("new")?parseNewExpression:parsePrimaryExpression)}for(;;){if(match("[")){isBindingElement=false;isAssignmentTarget=true;property=parseComputedMember();expr=new WrappingNode(startToken).finishMemberExpression("[",expr,property)}else if(match(".")){isBindingElement=false;isAssignmentTarget=true;property=parseNonComputedMember();expr=new WrappingNode(startToken).finishMemberExpression(".",expr,property)}else if(lookahead.type===Token.Template&&lookahead.head){quasi=parseTemplateLiteral();expr=new WrappingNode(startToken).finishTaggedTemplateExpression(expr,quasi)}else{break}}return expr}function parsePostfixExpression(){var expr,token,startToken=lookahead;expr=inheritCoverGrammar(parseLeftHandSideExpressionAllowCall);if(!hasLineTerminator&&lookahead.type===Token.Punctuator){if(match("++")||match("--")){if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){tolerateError(Messages.StrictLHSPostfix)}if(!isAssignmentTarget){tolerateError(Messages.InvalidLHSInAssignment)}isAssignmentTarget=isBindingElement=false;token=lex();expr=new WrappingNode(startToken).finishPostfixExpression(token.value,expr)}}return expr}function parseUnaryExpression(){var token,expr,startToken;if(lookahead.type!==Token.Punctuator&&lookahead.type!==Token.Keyword){expr=parsePostfixExpression()}else if(match("++")||match("--")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);if(strict&&expr.type===Syntax.Identifier&&isRestrictedWord(expr.name)){tolerateError(Messages.StrictLHSPrefix)}if(!isAssignmentTarget){tolerateError(Messages.InvalidLHSInAssignment)}expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);isAssignmentTarget=isBindingElement=false}else if(match("+")||match("-")||match("~")||match("!")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);isAssignmentTarget=isBindingElement=false}else if(matchKeyword("delete")||matchKeyword("void")||matchKeyword("typeof")){startToken=lookahead;token=lex();expr=inheritCoverGrammar(parseUnaryExpression);expr=new WrappingNode(startToken).finishUnaryExpression(token.value,expr);if(strict&&expr.operator==="delete"&&expr.argument.type===Syntax.Identifier){tolerateError(Messages.StrictDelete)}isAssignmentTarget=isBindingElement=false}else{expr=parsePostfixExpression()}return expr}function binaryPrecedence(token,allowIn){var prec=0;if(token.type!==Token.Punctuator&&token.type!==Token.Keyword){return 0}switch(token.value){case"||":prec=1;break;case"&&":prec=2;break;case"|":prec=3;break;case"^":prec=4;break;case"&":prec=5;break;case"==":case"!=":case"===":case"!==":prec=6;break;case"<":case">":case"<=":case">=":case"instanceof":prec=7;break;case"in":prec=allowIn?7:0;break;case"<<":case">>":case">>>":prec=8;break;case"+":case"-":prec=9;break;case"*":case"/":case"%":prec=11;break;default:break}return prec}function parseBinaryExpression(){var marker,markers,expr,token,prec,stack,right,operator,left,i;marker=lookahead;left=inheritCoverGrammar(parseUnaryExpression);token=lookahead;prec=binaryPrecedence(token,state.allowIn);if(prec===0){return left}isAssignmentTarget=isBindingElement=false;token.prec=prec;lex();markers=[marker,lookahead];right=isolateCoverGrammar(parseUnaryExpression);stack=[left,token,right];while((prec=binaryPrecedence(lookahead,state.allowIn))>0){while(stack.length>2&&prec<=stack[stack.length-2].prec){right=stack.pop();operator=stack.pop().value;left=stack.pop();markers.pop();expr=new WrappingNode(markers[markers.length-1]).finishBinaryExpression(operator,left,right);stack.push(expr)}token=lex();token.prec=prec;stack.push(token);markers.push(lookahead);expr=isolateCoverGrammar(parseUnaryExpression);stack.push(expr)}i=stack.length-1;expr=stack[i];markers.pop();while(i>1){expr=new WrappingNode(markers.pop()).finishBinaryExpression(stack[i-1].value,stack[i-2],expr);i-=2}return expr}function parseConditionalExpression(){var expr,previousAllowIn,consequent,alternate,startToken;startToken=lookahead;expr=inheritCoverGrammar(parseBinaryExpression);if(match("?")){lex();previousAllowIn=state.allowIn;state.allowIn=true;consequent=isolateCoverGrammar(parseAssignmentExpression);state.allowIn=previousAllowIn;expect(":");alternate=isolateCoverGrammar(parseAssignmentExpression);expr=new WrappingNode(startToken).finishConditionalExpression(expr,consequent,alternate);isAssignmentTarget=isBindingElement=false}return expr}function parseConciseBody(){if(match("{")){return parseFunctionSourceElements()}return isolateCoverGrammar(parseAssignmentExpression)}function checkPatternParam(options,param){var i;switch(param.type){case Syntax.Identifier:validateParam(options,param,param.name);break;case Syntax.RestElement:checkPatternParam(options,param.argument);break;case Syntax.AssignmentPattern:checkPatternParam(options,param.left);break;case Syntax.ArrayPattern:for(i=0;i<param.elements.length;i++){if(param.elements[i]!==null){checkPatternParam(options,param.elements[i])}}break;case Syntax.YieldExpression:break;default:assert(param.type===Syntax.ObjectPattern,"Invalid type");for(i=0;i<param.properties.length;i++){checkPatternParam(options,param.properties[i].value)}break}}function reinterpretAsCoverFormalsList(expr){var i,len,param,params,defaults,defaultCount,options,token;defaults=[];defaultCount=0;params=[expr];switch(expr.type){case Syntax.Identifier:break;case PlaceHolders.ArrowParameterPlaceHolder:params=expr.params;break;default:return null}options={paramSet:{}};for(i=0,len=params.length;i<len;i+=1){param=params[i];switch(param.type){case Syntax.AssignmentPattern:params[i]=param.left;if(param.right.type===Syntax.YieldExpression){if(param.right.argument){throwUnexpectedToken(lookahead)}param.right.type=Syntax.Identifier;param.right.name="yield";delete param.right.argument;delete param.right.delegate}defaults.push(param.right);++defaultCount;checkPatternParam(options,param.left);break;default:checkPatternParam(options,param);params[i]=param;defaults.push(null);break}}if(strict||!state.allowYield){for(i=0,len=params.length;i<len;i+=1){param=params[i];if(param.type===Syntax.YieldExpression){throwUnexpectedToken(lookahead)}}}if(options.message===Messages.StrictParamDupe){token=strict?options.stricted:options.firstRestricted;throwUnexpectedToken(token,options.message)}if(defaultCount===0){defaults=[]}return{params:params,defaults:defaults,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseArrowFunctionExpression(options,node){var previousStrict,previousAllowYield,body;if(hasLineTerminator){tolerateUnexpectedToken(lookahead)}expect("=>");previousStrict=strict;previousAllowYield=state.allowYield;state.allowYield=true;body=parseConciseBody();if(strict&&options.firstRestricted){throwUnexpectedToken(options.firstRestricted,options.message)}if(strict&&options.stricted){tolerateUnexpectedToken(options.stricted,options.message)}strict=previousStrict;state.allowYield=previousAllowYield;return node.finishArrowFunctionExpression(options.params,options.defaults,body,body.type!==Syntax.BlockStatement)}function parseYieldExpression(){var argument,expr,delegate,previousAllowYield;argument=null;expr=new Node;delegate=false;expectKeyword("yield");if(!hasLineTerminator){previousAllowYield=state.allowYield;state.allowYield=false;delegate=match("*");if(delegate){lex();argument=parseAssignmentExpression()}else{if(!match(";")&&!match("}")&&!match(")")&&lookahead.type!==Token.EOF){argument=parseAssignmentExpression()}}state.allowYield=previousAllowYield}return expr.finishYieldExpression(argument,delegate)}function parseAssignmentExpression(){var token,expr,right,list,startToken;startToken=lookahead;token=lookahead;if(!state.allowYield&&matchKeyword("yield")){return parseYieldExpression()}expr=parseConditionalExpression();if(expr.type===PlaceHolders.ArrowParameterPlaceHolder||match("=>")){isAssignmentTarget=isBindingElement=false;list=reinterpretAsCoverFormalsList(expr);if(list){firstCoverInitializedNameError=null;return parseArrowFunctionExpression(list,new WrappingNode(startToken))}return expr}if(matchAssign()){if(!isAssignmentTarget){tolerateError(Messages.InvalidLHSInAssignment)}if(strict&&expr.type===Syntax.Identifier){if(isRestrictedWord(expr.name)){tolerateUnexpectedToken(token,Messages.StrictLHSAssignment)}if(isStrictModeReservedWord(expr.name)){tolerateUnexpectedToken(token,Messages.StrictReservedWord)}}if(!match("=")){isAssignmentTarget=isBindingElement=false}else{reinterpretExpressionAsPattern(expr)}token=lex();right=isolateCoverGrammar(parseAssignmentExpression);expr=new WrappingNode(startToken).finishAssignmentExpression(token.value,expr,right);firstCoverInitializedNameError=null}return expr}function parseExpression(){var expr,startToken=lookahead,expressions;expr=isolateCoverGrammar(parseAssignmentExpression);if(match(",")){expressions=[expr];while(startIndex<length){if(!match(",")){break}lex();expressions.push(isolateCoverGrammar(parseAssignmentExpression))}expr=new WrappingNode(startToken).finishSequenceExpression(expressions)}return expr}function parseStatementListItem(){if(lookahead.type===Token.Keyword){switch(lookahead.value){case"export":if(state.sourceType!=="module"){tolerateUnexpectedToken(lookahead,Messages.IllegalExportDeclaration)}return parseExportDeclaration();case"import":if(state.sourceType!=="module"){tolerateUnexpectedToken(lookahead,Messages.IllegalImportDeclaration)}return parseImportDeclaration();case"const":return parseLexicalDeclaration({inFor:false});case"function":return parseFunctionDeclaration(new Node);case"class":return parseClassDeclaration()}}if(matchKeyword("let")&&isLexicalDeclaration()){return parseLexicalDeclaration({inFor:false})}return parseStatement()}function parseStatementList(){var list=[];while(startIndex<length){if(match("}")){break}list.push(parseStatementListItem())}return list}function parseBlock(){var block,node=new Node;expect("{");block=parseStatementList();expect("}");return node.finishBlockStatement(block)}function parseVariableIdentifier(kind){var token,node=new Node;token=lex();if(token.type===Token.Keyword&&token.value==="yield"){if(strict){tolerateUnexpectedToken(token,Messages.StrictReservedWord)}if(!state.allowYield){throwUnexpectedToken(token)}}else if(token.type!==Token.Identifier){if(strict&&token.type===Token.Keyword&&isStrictModeReservedWord(token.value)){tolerateUnexpectedToken(token,Messages.StrictReservedWord)}else{if(strict||token.value!=="let"||kind!=="var"){throwUnexpectedToken(token)}}}else if(state.sourceType==="module"&&token.type===Token.Identifier&&token.value==="await"){tolerateUnexpectedToken(token)}return node.finishIdentifier(token.value)}function parseVariableDeclaration(options){var init=null,id,node=new Node,params=[];id=parsePattern(params,"var");if(strict&&isRestrictedWord(id.name)){tolerateError(Messages.StrictVarName)}if(match("=")){lex();init=isolateCoverGrammar(parseAssignmentExpression)}else if(id.type!==Syntax.Identifier&&!options.inFor){expect("=")}return node.finishVariableDeclarator(id,init)}function parseVariableDeclarationList(options){var opt,list;opt={inFor:options.inFor};list=[parseVariableDeclaration(opt)];while(match(",")){lex();list.push(parseVariableDeclaration(opt))}return list}function parseVariableStatement(node){var declarations;expectKeyword("var");declarations=parseVariableDeclarationList({inFor:false});consumeSemicolon();return node.finishVariableDeclaration(declarations)}function parseLexicalBinding(kind,options){var init=null,id,node=new Node,params=[];id=parsePattern(params,kind);if(strict&&id.type===Syntax.Identifier&&isRestrictedWord(id.name)){tolerateError(Messages.StrictVarName)}if(kind==="const"){if(!matchKeyword("in")&&!matchContextualKeyword("of")){expect("=");init=isolateCoverGrammar(parseAssignmentExpression)}}else if(!options.inFor&&id.type!==Syntax.Identifier||match("=")){expect("=");init=isolateCoverGrammar(parseAssignmentExpression)}return node.finishVariableDeclarator(id,init)}function parseBindingList(kind,options){var list=[parseLexicalBinding(kind,options)];while(match(",")){lex();list.push(parseLexicalBinding(kind,options))}return list}function tokenizerState(){return{index:index,lineNumber:lineNumber,lineStart:lineStart,hasLineTerminator:hasLineTerminator,lastIndex:lastIndex,lastLineNumber:lastLineNumber,lastLineStart:lastLineStart,startIndex:startIndex,startLineNumber:startLineNumber,startLineStart:startLineStart,lookahead:lookahead,tokenCount:extra.tokens?extra.tokens.length:0}}function resetTokenizerState(ts){index=ts.index;lineNumber=ts.lineNumber;lineStart=ts.lineStart;hasLineTerminator=ts.hasLineTerminator;lastIndex=ts.lastIndex;lastLineNumber=ts.lastLineNumber;lastLineStart=ts.lastLineStart;startIndex=ts.startIndex;startLineNumber=ts.startLineNumber;startLineStart=ts.startLineStart;lookahead=ts.lookahead;if(extra.tokens){extra.tokens.splice(ts.tokenCount,extra.tokens.length)}}function isLexicalDeclaration(){var lexical,ts;ts=tokenizerState();lex();lexical=lookahead.type===Token.Identifier||match("[")||match("{")||matchKeyword("let")||matchKeyword("yield");resetTokenizerState(ts);return lexical}function parseLexicalDeclaration(options){var kind,declarations,node=new Node;kind=lex().value;assert(kind==="let"||kind==="const","Lexical declaration must be either let or const");declarations=parseBindingList(kind,options);consumeSemicolon();return node.finishLexicalDeclaration(declarations,kind)}function parseRestElement(params){var param,node=new Node;lex();if(match("{")){throwError(Messages.ObjectPatternAsRestParameter)}params.push(lookahead);param=parseVariableIdentifier();if(match("=")){throwError(Messages.DefaultRestParameter)}if(!match(")")){throwError(Messages.ParameterAfterRestParameter)}return node.finishRestElement(param)}function parseEmptyStatement(node){expect(";");return node.finishEmptyStatement()}function parseExpressionStatement(node){var expr=parseExpression();consumeSemicolon();return node.finishExpressionStatement(expr)}function parseIfStatement(node){var test,consequent,alternate;expectKeyword("if");expect("(");test=parseExpression();expect(")");consequent=parseStatement();if(matchKeyword("else")){lex();alternate=parseStatement()}else{alternate=null}return node.finishIfStatement(test,consequent,alternate)}function parseDoWhileStatement(node){var body,test,oldInIteration;expectKeyword("do");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");if(match(";")){lex()}return node.finishDoWhileStatement(body,test)}function parseWhileStatement(node){var test,body,oldInIteration;expectKeyword("while");expect("(");test=parseExpression();expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=parseStatement();state.inIteration=oldInIteration;return node.finishWhileStatement(test,body)}function parseForStatement(node){var init,forIn,initSeq,initStartToken,test,update,left,right,kind,declarations,body,oldInIteration,previousAllowIn=state.allowIn;init=test=update=null;forIn=true;expectKeyword("for");expect("(");if(match(";")){lex()}else{if(matchKeyword("var")){init=new Node;lex();state.allowIn=false;declarations=parseVariableDeclarationList({inFor:true});state.allowIn=previousAllowIn;if(declarations.length===1&&matchKeyword("in")){init=init.finishVariableDeclaration(declarations);lex();left=init;right=parseExpression();init=null}else if(declarations.length===1&&declarations[0].init===null&&matchContextualKeyword("of")){init=init.finishVariableDeclaration(declarations);lex();left=init;right=parseAssignmentExpression();init=null;forIn=false}else{init=init.finishVariableDeclaration(declarations);expect(";")}}else if(matchKeyword("const")||matchKeyword("let")){init=new Node;kind=lex().value;if(!strict&&lookahead.value==="in"){init=init.finishIdentifier(kind);lex();left=init;right=parseExpression();init=null}else{state.allowIn=false;declarations=parseBindingList(kind,{inFor:true});state.allowIn=previousAllowIn;if(declarations.length===1&&declarations[0].init===null&&matchKeyword("in")){init=init.finishLexicalDeclaration(declarations,kind);lex();left=init;right=parseExpression();init=null}else if(declarations.length===1&&declarations[0].init===null&&matchContextualKeyword("of")){init=init.finishLexicalDeclaration(declarations,kind);lex();left=init;right=parseAssignmentExpression();init=null;forIn=false}else{consumeSemicolon();init=init.finishLexicalDeclaration(declarations,kind)}}}else{initStartToken=lookahead;state.allowIn=false;init=inheritCoverGrammar(parseAssignmentExpression);state.allowIn=previousAllowIn;if(matchKeyword("in")){if(!isAssignmentTarget){tolerateError(Messages.InvalidLHSInForIn)}lex();reinterpretExpressionAsPattern(init);left=init;right=parseExpression();init=null}else if(matchContextualKeyword("of")){if(!isAssignmentTarget){tolerateError(Messages.InvalidLHSInForLoop)}lex();reinterpretExpressionAsPattern(init);left=init;right=parseAssignmentExpression();init=null;forIn=false}else{if(match(",")){initSeq=[init];while(match(",")){lex();initSeq.push(isolateCoverGrammar(parseAssignmentExpression))}init=new WrappingNode(initStartToken).finishSequenceExpression(initSeq)}expect(";")}}}if(typeof left==="undefined"){if(!match(";")){test=parseExpression()}expect(";");if(!match(")")){update=parseExpression()}}expect(")");oldInIteration=state.inIteration;state.inIteration=true;body=isolateCoverGrammar(parseStatement);state.inIteration=oldInIteration;return typeof left==="undefined"?node.finishForStatement(init,test,update,body):forIn?node.finishForInStatement(left,right,body):node.finishForOfStatement(left,right,body)}function parseContinueStatement(node){var label=null,key;expectKeyword("continue");if(source.charCodeAt(startIndex)===59){lex();if(!state.inIteration){throwError(Messages.IllegalContinue)}return node.finishContinueStatement(null)}if(hasLineTerminator){if(!state.inIteration){throwError(Messages.IllegalContinue)}return node.finishContinueStatement(null)}if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError(Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!state.inIteration){throwError(Messages.IllegalContinue)}return node.finishContinueStatement(label)}function parseBreakStatement(node){var label=null,key;expectKeyword("break");if(source.charCodeAt(lastIndex)===59){lex();if(!(state.inIteration||state.inSwitch)){throwError(Messages.IllegalBreak)}return node.finishBreakStatement(null)}if(hasLineTerminator){if(!(state.inIteration||state.inSwitch)){throwError(Messages.IllegalBreak)}}else if(lookahead.type===Token.Identifier){label=parseVariableIdentifier();key="$"+label.name;if(!Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError(Messages.UnknownLabel,label.name)}}consumeSemicolon();if(label===null&&!(state.inIteration||state.inSwitch)){throwError(Messages.IllegalBreak)}return node.finishBreakStatement(label)}function parseReturnStatement(node){var argument=null;expectKeyword("return");if(!state.inFunctionBody){tolerateError(Messages.IllegalReturn)}if(source.charCodeAt(lastIndex)===32){if(isIdentifierStart(source.charCodeAt(lastIndex+1))){argument=parseExpression();consumeSemicolon();return node.finishReturnStatement(argument)}}if(hasLineTerminator){return node.finishReturnStatement(null)}if(!match(";")){if(!match("}")&&lookahead.type!==Token.EOF){argument=parseExpression()}}consumeSemicolon();return node.finishReturnStatement(argument)}function parseWithStatement(node){var object,body;if(strict){tolerateError(Messages.StrictModeWith)}expectKeyword("with");expect("(");object=parseExpression();expect(")");body=parseStatement();return node.finishWithStatement(object,body)}function parseSwitchCase(){var test,consequent=[],statement,node=new Node;if(matchKeyword("default")){lex();test=null}else{expectKeyword("case");test=parseExpression()}expect(":");while(startIndex<length){if(match("}")||matchKeyword("default")||matchKeyword("case")){break}statement=parseStatementListItem();consequent.push(statement)}return node.finishSwitchCase(test,consequent)}function parseSwitchStatement(node){var discriminant,cases,clause,oldInSwitch,defaultFound;expectKeyword("switch");expect("(");discriminant=parseExpression();expect(")");expect("{");cases=[];if(match("}")){lex();return node.finishSwitchStatement(discriminant,cases)}oldInSwitch=state.inSwitch;state.inSwitch=true;defaultFound=false;while(startIndex<length){if(match("}")){break}clause=parseSwitchCase();if(clause.test===null){if(defaultFound){throwError(Messages.MultipleDefaultsInSwitch)}defaultFound=true}cases.push(clause)}state.inSwitch=oldInSwitch;expect("}");return node.finishSwitchStatement(discriminant,cases)}function parseThrowStatement(node){var argument;expectKeyword("throw");if(hasLineTerminator){throwError(Messages.NewlineAfterThrow)}argument=parseExpression();consumeSemicolon();return node.finishThrowStatement(argument)}function parseCatchClause(){var param,params=[],paramMap={},key,i,body,node=new Node;expectKeyword("catch");expect("(");if(match(")")){throwUnexpectedToken(lookahead)}param=parsePattern(params);for(i=0;i<params.length;i++){key="$"+params[i].value;if(Object.prototype.hasOwnProperty.call(paramMap,key)){tolerateError(Messages.DuplicateBinding,params[i].value)}paramMap[key]=true}if(strict&&isRestrictedWord(param.name)){tolerateError(Messages.StrictCatchVariable)}expect(")");body=parseBlock();return node.finishCatchClause(param,body)}function parseTryStatement(node){var block,handler=null,finalizer=null;expectKeyword("try");block=parseBlock();if(matchKeyword("catch")){handler=parseCatchClause()}if(matchKeyword("finally")){lex();finalizer=parseBlock()}if(!handler&&!finalizer){throwError(Messages.NoCatchOrFinally)}return node.finishTryStatement(block,handler,finalizer)}function parseDebuggerStatement(node){expectKeyword("debugger");consumeSemicolon();return node.finishDebuggerStatement()}function parseStatement(){var type=lookahead.type,expr,labeledBody,key,node;if(type===Token.EOF){throwUnexpectedToken(lookahead)}if(type===Token.Punctuator&&lookahead.value==="{"){return parseBlock()}isAssignmentTarget=isBindingElement=true;node=new Node;if(type===Token.Punctuator){switch(lookahead.value){case";":return parseEmptyStatement(node);case"(":return parseExpressionStatement(node);default:break}}else if(type===Token.Keyword){switch(lookahead.value){case"break":return parseBreakStatement(node);case"continue":return parseContinueStatement(node);case"debugger":return parseDebuggerStatement(node);case"do":return parseDoWhileStatement(node);case"for":return parseForStatement(node);case"function":return parseFunctionDeclaration(node);case"if":return parseIfStatement(node);case"return":return parseReturnStatement(node);case"switch":return parseSwitchStatement(node);case"throw":return parseThrowStatement(node);case"try":return parseTryStatement(node);case"var":return parseVariableStatement(node);case"while":return parseWhileStatement(node);case"with":return parseWithStatement(node);default:break}}expr=parseExpression();if(expr.type===Syntax.Identifier&&match(":")){lex();key="$"+expr.name;if(Object.prototype.hasOwnProperty.call(state.labelSet,key)){throwError(Messages.Redeclaration,"Label",expr.name)}state.labelSet[key]=true;labeledBody=parseStatement();delete state.labelSet[key];return node.finishLabeledStatement(expr,labeledBody)}consumeSemicolon();return node.finishExpressionStatement(expr)}function parseFunctionSourceElements(){var statement,body=[],token,directive,firstRestricted,oldLabelSet,oldInIteration,oldInSwitch,oldInFunctionBody,node=new Node;expect("{");while(startIndex<length){if(lookahead.type!==Token.StringLiteral){break}token=lookahead;statement=parseStatementListItem();body.push(statement);if(statement.expression.type!==Syntax.Literal){break}directive=source.slice(token.start+1,token.end-1);if(directive==="use strict"){strict=true;if(firstRestricted){tolerateUnexpectedToken(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}oldLabelSet=state.labelSet;oldInIteration=state.inIteration;oldInSwitch=state.inSwitch;oldInFunctionBody=state.inFunctionBody;state.labelSet={};state.inIteration=false;state.inSwitch=false;state.inFunctionBody=true;while(startIndex<length){if(match("}")){break}body.push(parseStatementListItem())}expect("}");state.labelSet=oldLabelSet;state.inIteration=oldInIteration;state.inSwitch=oldInSwitch;state.inFunctionBody=oldInFunctionBody;return node.finishBlockStatement(body)}function validateParam(options,param,name){var key="$"+name;if(strict){if(isRestrictedWord(name)){options.stricted=param;options.message=Messages.StrictParamName}if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=Messages.StrictParamDupe}}else if(!options.firstRestricted){if(isRestrictedWord(name)){options.firstRestricted=param;options.message=Messages.StrictParamName}else if(isStrictModeReservedWord(name)){options.firstRestricted=param;options.message=Messages.StrictReservedWord}else if(Object.prototype.hasOwnProperty.call(options.paramSet,key)){options.stricted=param;options.message=Messages.StrictParamDupe}}options.paramSet[key]=true}function parseParam(options){var token,param,params=[],i,def;token=lookahead;if(token.value==="..."){param=parseRestElement(params);validateParam(options,param.argument,param.argument.name);options.params.push(param);options.defaults.push(null);return false}param=parsePatternWithDefault(params);for(i=0;i<params.length;i++){validateParam(options,params[i],params[i].value)}if(param.type===Syntax.AssignmentPattern){def=param.right;param=param.left;++options.defaultCount}options.params.push(param);options.defaults.push(def);return!match(")")}function parseParams(firstRestricted){var options;options={params:[],defaultCount:0,defaults:[],firstRestricted:firstRestricted};expect("(");if(!match(")")){options.paramSet={};while(startIndex<length){if(!parseParam(options)){break}expect(",")}}expect(")");if(options.defaultCount===0){options.defaults=[]}return{params:options.params,defaults:options.defaults,stricted:options.stricted,firstRestricted:options.firstRestricted,message:options.message}}function parseFunctionDeclaration(node,identifierIsOptional){var id=null,params=[],defaults=[],body,token,stricted,tmp,firstRestricted,message,previousStrict,isGenerator,previousAllowYield;previousAllowYield=state.allowYield;expectKeyword("function");isGenerator=match("*");if(isGenerator){lex()}if(!identifierIsOptional||!match("(")){token=lookahead;id=parseVariableIdentifier();if(strict){if(isRestrictedWord(token.value)){tolerateUnexpectedToken(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}}state.allowYield=!isGenerator;tmp=parseParams(firstRestricted);params=tmp.params;defaults=tmp.defaults;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;body=parseFunctionSourceElements();if(strict&&firstRestricted){throwUnexpectedToken(firstRestricted,message)}if(strict&&stricted){tolerateUnexpectedToken(stricted,message)}strict=previousStrict;state.allowYield=previousAllowYield;return node.finishFunctionDeclaration(id,params,defaults,body,isGenerator)}function parseFunctionExpression(){var token,id=null,stricted,firstRestricted,message,tmp,params=[],defaults=[],body,previousStrict,node=new Node,isGenerator,previousAllowYield;previousAllowYield=state.allowYield;expectKeyword("function");isGenerator=match("*");if(isGenerator){lex()}state.allowYield=!isGenerator;if(!match("(")){token=lookahead;id=!strict&&!isGenerator&&matchKeyword("yield")?parseNonComputedProperty():parseVariableIdentifier();if(strict){if(isRestrictedWord(token.value)){tolerateUnexpectedToken(token,Messages.StrictFunctionName)}}else{if(isRestrictedWord(token.value)){firstRestricted=token;message=Messages.StrictFunctionName}else if(isStrictModeReservedWord(token.value)){firstRestricted=token;message=Messages.StrictReservedWord}}}tmp=parseParams(firstRestricted);params=tmp.params;defaults=tmp.defaults;stricted=tmp.stricted;firstRestricted=tmp.firstRestricted;if(tmp.message){message=tmp.message}previousStrict=strict;body=parseFunctionSourceElements();if(strict&&firstRestricted){
throwUnexpectedToken(firstRestricted,message)}if(strict&&stricted){tolerateUnexpectedToken(stricted,message)}strict=previousStrict;state.allowYield=previousAllowYield;return node.finishFunctionExpression(id,params,defaults,body,isGenerator)}function parseClassBody(){var classBody,token,isStatic,hasConstructor=false,body,method,computed,key;classBody=new Node;expect("{");body=[];while(!match("}")){if(match(";")){lex()}else{method=new Node;token=lookahead;isStatic=false;computed=match("[");if(match("*")){lex()}else{key=parseObjectPropertyKey();if(key.name==="static"&&(lookaheadPropertyName()||match("*"))){token=lookahead;isStatic=true;computed=match("[");if(match("*")){lex()}else{key=parseObjectPropertyKey()}}}method=tryParseMethodDefinition(token,key,computed,method);if(method){method["static"]=isStatic;if(method.kind==="init"){method.kind="method"}if(!isStatic){if(!method.computed&&(method.key.name||method.key.value.toString())==="constructor"){if(method.kind!=="method"||!method.method||method.value.generator){throwUnexpectedToken(token,Messages.ConstructorSpecialMethod)}if(hasConstructor){throwUnexpectedToken(token,Messages.DuplicateConstructor)}else{hasConstructor=true}method.kind="constructor"}}else{if(!method.computed&&(method.key.name||method.key.value.toString())==="prototype"){throwUnexpectedToken(token,Messages.StaticPrototype)}}method.type=Syntax.MethodDefinition;delete method.method;delete method.shorthand;body.push(method)}else{throwUnexpectedToken(lookahead)}}}lex();return classBody.finishClassBody(body)}function parseClassDeclaration(identifierIsOptional){var id=null,superClass=null,classNode=new Node,classBody,previousStrict=strict;strict=true;expectKeyword("class");if(!identifierIsOptional||lookahead.type===Token.Identifier){id=parseVariableIdentifier()}if(matchKeyword("extends")){lex();superClass=isolateCoverGrammar(parseLeftHandSideExpressionAllowCall)}classBody=parseClassBody();strict=previousStrict;return classNode.finishClassDeclaration(id,superClass,classBody)}function parseClassExpression(){var id=null,superClass=null,classNode=new Node,classBody,previousStrict=strict;strict=true;expectKeyword("class");if(lookahead.type===Token.Identifier){id=parseVariableIdentifier()}if(matchKeyword("extends")){lex();superClass=isolateCoverGrammar(parseLeftHandSideExpressionAllowCall)}classBody=parseClassBody();strict=previousStrict;return classNode.finishClassExpression(id,superClass,classBody)}function parseModuleSpecifier(){var node=new Node;if(lookahead.type!==Token.StringLiteral){throwError(Messages.InvalidModuleSpecifier)}return node.finishLiteral(lex())}function parseExportSpecifier(){var exported,local,node=new Node,def;if(matchKeyword("default")){def=new Node;lex();local=def.finishIdentifier("default")}else{local=parseVariableIdentifier()}if(matchContextualKeyword("as")){lex();exported=parseNonComputedProperty()}return node.finishExportSpecifier(local,exported)}function parseExportNamedDeclaration(node){var declaration=null,isExportFromIdentifier,src=null,specifiers=[];if(lookahead.type===Token.Keyword){switch(lookahead.value){case"let":case"const":declaration=parseLexicalDeclaration({inFor:false});return node.finishExportNamedDeclaration(declaration,specifiers,null);case"var":case"class":case"function":declaration=parseStatementListItem();return node.finishExportNamedDeclaration(declaration,specifiers,null)}}expect("{");while(!match("}")){isExportFromIdentifier=isExportFromIdentifier||matchKeyword("default");specifiers.push(parseExportSpecifier());if(!match("}")){expect(",");if(match("}")){break}}}expect("}");if(matchContextualKeyword("from")){lex();src=parseModuleSpecifier();consumeSemicolon()}else if(isExportFromIdentifier){throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value)}else{consumeSemicolon()}return node.finishExportNamedDeclaration(declaration,specifiers,src)}function parseExportDefaultDeclaration(node){var declaration=null,expression=null;expectKeyword("default");if(matchKeyword("function")){declaration=parseFunctionDeclaration(new Node,true);return node.finishExportDefaultDeclaration(declaration)}if(matchKeyword("class")){declaration=parseClassDeclaration(true);return node.finishExportDefaultDeclaration(declaration)}if(matchContextualKeyword("from")){throwError(Messages.UnexpectedToken,lookahead.value)}if(match("{")){expression=parseObjectInitializer()}else if(match("[")){expression=parseArrayInitializer()}else{expression=parseAssignmentExpression()}consumeSemicolon();return node.finishExportDefaultDeclaration(expression)}function parseExportAllDeclaration(node){var src;expect("*");if(!matchContextualKeyword("from")){throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value)}lex();src=parseModuleSpecifier();consumeSemicolon();return node.finishExportAllDeclaration(src)}function parseExportDeclaration(){var node=new Node;if(state.inFunctionBody){throwError(Messages.IllegalExportDeclaration)}expectKeyword("export");if(matchKeyword("default")){return parseExportDefaultDeclaration(node)}if(match("*")){return parseExportAllDeclaration(node)}return parseExportNamedDeclaration(node)}function parseImportSpecifier(){var local,imported,node=new Node;imported=parseNonComputedProperty();if(matchContextualKeyword("as")){lex();local=parseVariableIdentifier()}return node.finishImportSpecifier(local,imported)}function parseNamedImports(){var specifiers=[];expect("{");while(!match("}")){specifiers.push(parseImportSpecifier());if(!match("}")){expect(",");if(match("}")){break}}}expect("}");return specifiers}function parseImportDefaultSpecifier(){var local,node=new Node;local=parseNonComputedProperty();return node.finishImportDefaultSpecifier(local)}function parseImportNamespaceSpecifier(){var local,node=new Node;expect("*");if(!matchContextualKeyword("as")){throwError(Messages.NoAsAfterImportNamespace)}lex();local=parseNonComputedProperty();return node.finishImportNamespaceSpecifier(local)}function parseImportDeclaration(){var specifiers=[],src,node=new Node;if(state.inFunctionBody){throwError(Messages.IllegalImportDeclaration)}expectKeyword("import");if(lookahead.type===Token.StringLiteral){src=parseModuleSpecifier()}else{if(match("{")){specifiers=specifiers.concat(parseNamedImports())}else if(match("*")){specifiers.push(parseImportNamespaceSpecifier())}else if(isIdentifierName(lookahead)&&!matchKeyword("default")){specifiers.push(parseImportDefaultSpecifier());if(match(",")){lex();if(match("*")){specifiers.push(parseImportNamespaceSpecifier())}else if(match("{")){specifiers=specifiers.concat(parseNamedImports())}else{throwUnexpectedToken(lookahead)}}}else{throwUnexpectedToken(lex())}if(!matchContextualKeyword("from")){throwError(lookahead.value?Messages.UnexpectedToken:Messages.MissingFromClause,lookahead.value)}lex();src=parseModuleSpecifier()}consumeSemicolon();return node.finishImportDeclaration(specifiers,src)}function parseScriptBody(){var statement,body=[],token,directive,firstRestricted;while(startIndex<length){token=lookahead;if(token.type!==Token.StringLiteral){break}statement=parseStatementListItem();body.push(statement);if(statement.expression.type!==Syntax.Literal){break}directive=source.slice(token.start+1,token.end-1);if(directive==="use strict"){strict=true;if(firstRestricted){tolerateUnexpectedToken(firstRestricted,Messages.StrictOctalLiteral)}}else{if(!firstRestricted&&token.octal){firstRestricted=token}}}while(startIndex<length){statement=parseStatementListItem();if(typeof statement==="undefined"){break}body.push(statement)}return body}function parseProgram(){var body,node;peek();node=new Node;body=parseScriptBody();return node.finishProgram(body,state.sourceType)}function filterTokenLocation(){var i,entry,token,tokens=[];for(i=0;i<extra.tokens.length;++i){entry=extra.tokens[i];token={type:entry.type,value:entry.value};if(entry.regex){token.regex={pattern:entry.regex.pattern,flags:entry.regex.flags}}if(extra.range){token.range=entry.range}if(extra.loc){token.loc=entry.loc}tokens.push(token)}extra.tokens=tokens}function tokenize(code,options,delegate){var toString,tokens;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;length=source.length;lookahead=null;state={allowIn:true,allowYield:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1,curlyStack:[]};extra={};options=options||{};options.tokens=true;extra.tokens=[];extra.tokenValues=[];extra.tokenize=true;extra.delegate=delegate;extra.openParenToken=-1;extra.openCurlyToken=-1;extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}try{peek();if(lookahead.type===Token.EOF){return extra.tokens}lex();while(lookahead.type!==Token.EOF){try{lex()}catch(lexError){if(extra.errors){recordError(lexError);break}else{throw lexError}}}tokens=extra.tokens;if(typeof extra.errors!=="undefined"){tokens.errors=extra.errors}}catch(e){throw e}finally{extra={}}return tokens}function parse(code,options){var program,toString;toString=String;if(typeof code!=="string"&&!(code instanceof String)){code=toString(code)}source=code;index=0;lineNumber=source.length>0?1:0;lineStart=0;startIndex=index;startLineNumber=lineNumber;startLineStart=lineStart;length=source.length;lookahead=null;state={allowIn:true,allowYield:true,labelSet:{},inFunctionBody:false,inIteration:false,inSwitch:false,lastCommentStart:-1,curlyStack:[],sourceType:"script"};strict=false;extra={};if(typeof options!=="undefined"){extra.range=typeof options.range==="boolean"&&options.range;extra.loc=typeof options.loc==="boolean"&&options.loc;extra.attachComment=typeof options.attachComment==="boolean"&&options.attachComment;if(extra.loc&&options.source!==null&&options.source!==undefined){extra.source=toString(options.source)}if(typeof options.tokens==="boolean"&&options.tokens){extra.tokens=[]}if(typeof options.comment==="boolean"&&options.comment){extra.comments=[]}if(typeof options.tolerant==="boolean"&&options.tolerant){extra.errors=[]}if(extra.attachComment){extra.range=true;extra.comments=[];extra.bottomRightStack=[];extra.trailingComments=[];extra.leadingComments=[]}if(options.sourceType==="module"){state.sourceType=options.sourceType;strict=true}}try{program=parseProgram();if(typeof extra.comments!=="undefined"){program.comments=extra.comments}if(typeof extra.tokens!=="undefined"){filterTokenLocation();program.tokens=extra.tokens}if(typeof extra.errors!=="undefined"){program.errors=extra.errors}}catch(e){throw e}finally{extra={}}return program}exports.version="2.7.2";exports.tokenize=tokenize;exports.parse=parse;exports.Syntax=function(){var name,types={};if(typeof Object.create==="function"){types=Object.create(null)}for(name in Syntax){if(Syntax.hasOwnProperty(name)){types[name]=Syntax[name]}}if(typeof Object.freeze==="function"){Object.freeze(types)}return types}()})},{}],77:[function(require,module,exports){module.exports=require("./lib/inherit")},{"./lib/inherit":78}],78:[function(require,module,exports){(function(global){var hasIntrospection=function(){"_"}.toString().indexOf("_")>-1,emptyBase=function(){},hasOwnProperty=Object.prototype.hasOwnProperty,objCreate=Object.create||function(ptp){var inheritance=function(){};inheritance.prototype=ptp;return new inheritance},objKeys=Object.keys||function(obj){var res=[];for(var i in obj){hasOwnProperty.call(obj,i)&&res.push(i)}return res},extend=function(o1,o2){for(var i in o2){hasOwnProperty.call(o2,i)&&(o1[i]=o2[i])}return o1},toStr=Object.prototype.toString,isArray=Array.isArray||function(obj){return toStr.call(obj)==="[object Array]"},isFunction=function(obj){return toStr.call(obj)==="[object Function]"},noOp=function(){},needCheckProps=true,testPropObj={toString:""};for(var i in testPropObj){testPropObj.hasOwnProperty(i)&&(needCheckProps=false)}var specProps=needCheckProps?["toString","valueOf"]:null;function getPropList(obj){var res=objKeys(obj);if(needCheckProps){var specProp,i=0;while(specProp=specProps[i++]){obj.hasOwnProperty(specProp)&&res.push(specProp)}}return res}function override(base,res,add){var addList=getPropList(add),j=0,len=addList.length,name,prop;while(j<len){if((name=addList[j++])==="__self"){continue}prop=add[name];if(isFunction(prop)&&(!hasIntrospection||prop.toString().indexOf(".__base")>-1)){res[name]=function(name,prop){var baseMethod=base[name]?base[name]:name==="__constructor"?res.__self.__parent:noOp,result=function(){var baseSaved=this.__base;this.__base=result.__base;var res=prop.apply(this,arguments);this.__base=baseSaved;return res};result.__base=baseMethod;return result}(name,prop)}else{res[name]=prop}}}function applyMixins(mixins,res){var i=1,mixin;while(mixin=mixins[i++]){res?isFunction(mixin)?inherit.self(res,mixin.prototype,mixin):inherit.self(res,mixin):res=isFunction(mixin)?inherit(mixins[0],mixin.prototype,mixin):inherit(mixins[0],mixin)}return res||mixins[0]}function inherit(){var args=arguments,withMixins=isArray(args[0]),hasBase=withMixins||isFunction(args[0]),base=hasBase?withMixins?applyMixins(args[0]):args[0]:emptyBase,props=args[hasBase?1:0]||{},staticProps=args[hasBase?2:1],res=props.__constructor||hasBase&&base.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:hasBase?function(){return base.apply(this,arguments)}:function(){};if(!hasBase){res.prototype=props;res.prototype.__self=res.prototype.constructor=res;return extend(res,staticProps)}extend(res,base);res.__parent=base;var basePtp=base.prototype,resPtp=res.prototype=objCreate(basePtp);resPtp.__self=resPtp.constructor=res;props&&override(basePtp,resPtp,props);staticProps&&override(base,res,staticProps);return res}inherit.self=function(){var args=arguments,withMixins=isArray(args[0]),base=withMixins?applyMixins(args[0],args[0][0]):args[0],props=args[1],staticProps=args[2],basePtp=base.prototype;props&&override(basePtp,basePtp,props);staticProps&&override(base,base,staticProps);return base};var defineAsGlobal=true;if(typeof exports==="object"){module.exports=inherit;defineAsGlobal=false}if(typeof modules==="object"){modules.define("inherit",function(provide){provide(inherit)});defineAsGlobal=false}if(typeof define==="function"){define(function(require,exports,module){module.exports=inherit});defineAsGlobal=false}defineAsGlobal&&(global.inherit=inherit)})(this)},{}],79:[function(require,module,exports){(function(Buffer){(function(sax){sax.parser=function(strict,opt){return new SAXParser(strict,opt)};sax.SAXParser=SAXParser;sax.SAXStream=SAXStream;sax.createStream=createStream;sax.MAX_BUFFER_LENGTH=64*1024;var buffers=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];sax.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function SAXParser(strict,opt){if(!(this instanceof SAXParser)){return new SAXParser(strict,opt)}var parser=this;clearBuffers(parser);parser.q=parser.c="";parser.bufferCheckPosition=sax.MAX_BUFFER_LENGTH;parser.opt=opt||{};parser.opt.lowercase=parser.opt.lowercase||parser.opt.lowercasetags;parser.looseCase=parser.opt.lowercase?"toLowerCase":"toUpperCase";parser.tags=[];parser.closed=parser.closedRoot=parser.sawRoot=false;parser.tag=parser.error=null;parser.strict=!!strict;parser.noscript=!!(strict||parser.opt.noscript);parser.state=S.BEGIN;parser.strictEntities=parser.opt.strictEntities;parser.ENTITIES=parser.strictEntities?Object.create(sax.XML_ENTITIES):Object.create(sax.ENTITIES);parser.attribList=[];if(parser.opt.xmlns){parser.ns=Object.create(rootNS)}parser.trackPosition=parser.opt.position!==false;if(parser.trackPosition){parser.position=parser.line=parser.column=0}emit(parser,"onready")}if(!Object.create){Object.create=function(o){function F(){}F.prototype=o;var newf=new F;return newf}}if(!Object.keys){Object.keys=function(o){var a=[];for(var i in o)if(o.hasOwnProperty(i))a.push(i);return a}}function checkBufferLength(parser){var maxAllowed=Math.max(sax.MAX_BUFFER_LENGTH,10);var maxActual=0;for(var i=0,l=buffers.length;i<l;i++){var len=parser[buffers[i]].length;if(len>maxAllowed){switch(buffers[i]){case"textNode":closeText(parser);break;case"cdata":emitNode(parser,"oncdata",parser.cdata);parser.cdata="";break;case"script":emitNode(parser,"onscript",parser.script);parser.script="";break;default:error(parser,"Max buffer length exceeded: "+buffers[i])}}maxActual=Math.max(maxActual,len)}var m=sax.MAX_BUFFER_LENGTH-maxActual;parser.bufferCheckPosition=m+parser.position}function clearBuffers(parser){for(var i=0,l=buffers.length;i<l;i++){parser[buffers[i]]=""}}function flushBuffers(parser){closeText(parser);if(parser.cdata!==""){emitNode(parser,"oncdata",parser.cdata);parser.cdata=""}if(parser.script!==""){emitNode(parser,"onscript",parser.script);parser.script=""}}SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var Stream;try{Stream=require("stream").Stream}catch(ex){Stream=function(){}}var streamWraps=sax.EVENTS.filter(function(ev){return ev!=="error"&&ev!=="end"});function createStream(strict,opt){return new SAXStream(strict,opt)}function SAXStream(strict,opt){if(!(this instanceof SAXStream)){return new SAXStream(strict,opt)}Stream.apply(this);this._parser=new SAXParser(strict,opt);this.writable=true;this.readable=true;var me=this;this._parser.onend=function(){me.emit("end")};this._parser.onerror=function(er){me.emit("error",er);me._parser.error=null};this._decoder=null;streamWraps.forEach(function(ev){Object.defineProperty(me,"on"+ev,{get:function(){return me._parser["on"+ev]},set:function(h){if(!h){me.removeAllListeners(ev);me._parser["on"+ev]=h;return h}me.on(ev,h)},enumerable:true,configurable:false})})}SAXStream.prototype=Object.create(Stream.prototype,{constructor:{value:SAXStream}});SAXStream.prototype.write=function(data){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(data)){if(!this._decoder){var SD=require("string_decoder").StringDecoder;this._decoder=new SD("utf8")}data=this._decoder.write(data)}this._parser.write(data.toString());this.emit("data",data);return true};SAXStream.prototype.end=function(chunk){if(chunk&&chunk.length){this.write(chunk)}this._parser.end();return true};SAXStream.prototype.on=function(ev,handler){var me=this;if(!me._parser["on"+ev]&&streamWraps.indexOf(ev)!==-1){me._parser["on"+ev]=function(){var args=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);args.splice(0,0,ev);me.emit.apply(me,args)}}return Stream.prototype.on.call(me,ev,handler)};var whitespace="\r\n	 ";var number="0124356789";var letter="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var quote="'\"";var attribEnd=whitespace+">";var CDATA="[CDATA[";var DOCTYPE="DOCTYPE";var XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";var XMLNS_NAMESPACE="http://www.w3.org/2000/xmlns/";var rootNS={xml:XML_NAMESPACE,xmlns:XMLNS_NAMESPACE};whitespace=charClass(whitespace);number=charClass(number);letter=charClass(letter);var nameStart=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var nameBody=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;var entityStart=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var entityBody=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;quote=charClass(quote);attribEnd=charClass(attribEnd);function charClass(str){return str.split("").reduce(function(s,c){s[c]=true;return s},{})}function isRegExp(c){return Object.prototype.toString.call(c)==="[object RegExp]"}function is(charclass,c){return isRegExp(charclass)?!!c.match(charclass):charclass[c]}function not(charclass,c){return!is(charclass,c)}var S=0;sax.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++};sax.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};sax.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(sax.ENTITIES).forEach(function(key){var e=sax.ENTITIES[key];var s=typeof e==="number"?String.fromCharCode(e):e;sax.ENTITIES[key]=s});for(var s in sax.STATE){sax.STATE[sax.STATE[s]]=s}S=sax.STATE;function emit(parser,event,data){parser[event]&&parser[event](data)}function emitNode(parser,nodeType,data){if(parser.textNode)closeText(parser);emit(parser,nodeType,data)}function closeText(parser){parser.textNode=textopts(parser.opt,parser.textNode);if(parser.textNode)emit(parser,"ontext",parser.textNode);parser.textNode=""}function textopts(opt,text){if(opt.trim)text=text.trim();if(opt.normalize)text=text.replace(/\s+/g," ");return text}function error(parser,er){closeText(parser);if(parser.trackPosition){er+="\nLine: "+parser.line+"\nColumn: "+parser.column+"\nChar: "+parser.c}er=new Error(er);parser.error=er;emit(parser,"onerror",er);return parser}function end(parser){if(parser.sawRoot&&!parser.closedRoot)strictFail(parser,"Unclosed root tag");if(parser.state!==S.BEGIN&&parser.state!==S.BEGIN_WHITESPACE&&parser.state!==S.TEXT){error(parser,"Unexpected end")}closeText(parser);parser.c="";parser.closed=true;emit(parser,"onend");SAXParser.call(parser,parser.strict,parser.opt);return parser}function strictFail(parser,message){if(typeof parser!=="object"||!(parser instanceof SAXParser)){throw new Error("bad call to strictFail")}if(parser.strict){error(parser,message)}}function newTag(parser){if(!parser.strict)parser.tagName=parser.tagName[parser.looseCase]();var parent=parser.tags[parser.tags.length-1]||parser;var tag=parser.tag={name:parser.tagName,attributes:{}};if(parser.opt.xmlns){tag.ns=parent.ns}parser.attribList.length=0}function qname(name,attribute){var i=name.indexOf(":");var qualName=i<0?["",name]:name.split(":");var prefix=qualName[0];var local=qualName[1];if(attribute&&name==="xmlns"){prefix="xmlns";local=""}return{prefix:prefix,local:local}}function attrib(parser){if(!parser.strict){parser.attribName=parser.attribName[parser.looseCase]()}if(parser.attribList.indexOf(parser.attribName)!==-1||parser.tag.attributes.hasOwnProperty(parser.attribName)){parser.attribName=parser.attribValue="";return}if(parser.opt.xmlns){var qn=qname(parser.attribName,true);var prefix=qn.prefix;var local=qn.local;if(prefix==="xmlns"){if(local==="xml"&&parser.attribValue!==XML_NAMESPACE){strictFail(parser,"xml: prefix must be bound to "+XML_NAMESPACE+"\n"+"Actual: "+parser.attribValue)}else if(local==="xmlns"&&parser.attribValue!==XMLNS_NAMESPACE){strictFail(parser,"xmlns: prefix must be bound to "+XMLNS_NAMESPACE+"\n"+"Actual: "+parser.attribValue)}else{var tag=parser.tag;var parent=parser.tags[parser.tags.length-1]||parser;if(tag.ns===parent.ns){tag.ns=Object.create(parent.ns)}tag.ns[local]=parser.attribValue}}parser.attribList.push([parser.attribName,parser.attribValue])}else{parser.tag.attributes[parser.attribName]=parser.attribValue;emitNode(parser,"onattribute",{name:parser.attribName,value:parser.attribValue})}parser.attribName=parser.attribValue=""}function openTag(parser,selfClosing){if(parser.opt.xmlns){var tag=parser.tag;var qn=qname(parser.tagName);tag.prefix=qn.prefix;tag.local=qn.local;tag.uri=tag.ns[qn.prefix]||"";if(tag.prefix&&!tag.uri){strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(parser.tagName));tag.uri=qn.prefix}var parent=parser.tags[parser.tags.length-1]||parser;if(tag.ns&&parent.ns!==tag.ns){Object.keys(tag.ns).forEach(function(p){emitNode(parser,"onopennamespace",{prefix:p,uri:tag.ns[p]})})}for(var i=0,l=parser.attribList.length;i<l;i++){var nv=parser.attribList[i];var name=nv[0];var value=nv[1];var qualName=qname(name,true);var prefix=qualName.prefix;var local=qualName.local;var uri=prefix===""?"":tag.ns[prefix]||"";var a={name:name,value:value,prefix:prefix,local:local,uri:uri};if(prefix&&prefix!=="xmlns"&&!uri){strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(prefix));a.uri=prefix}parser.tag.attributes[name]=a;emitNode(parser,"onattribute",a)}parser.attribList.length=0}parser.tag.isSelfClosing=!!selfClosing;parser.sawRoot=true;parser.tags.push(parser.tag);emitNode(parser,"onopentag",parser.tag);if(!selfClosing){if(!parser.noscript&&parser.tagName.toLowerCase()==="script"){parser.state=S.SCRIPT}else{parser.state=S.TEXT}parser.tag=null;parser.tagName=""}parser.attribName=parser.attribValue="";parser.attribList.length=0}function closeTag(parser){if(!parser.tagName){strictFail(parser,"Weird empty close tag.");parser.textNode+="</>";parser.state=S.TEXT;return}if(parser.script){if(parser.tagName!=="script"){parser.script+="</"+parser.tagName+">";parser.tagName="";parser.state=S.SCRIPT;return}emitNode(parser,"onscript",parser.script);parser.script=""}var t=parser.tags.length;var tagName=parser.tagName;if(!parser.strict){tagName=tagName[parser.looseCase]()}var closeTo=tagName;while(t--){var close=parser.tags[t];if(close.name!==closeTo){strictFail(parser,"Unexpected close tag")}else{break}}if(t<0){strictFail(parser,"Unmatched closing tag: "+parser.tagName);parser.textNode+="</"+parser.tagName+">";parser.state=S.TEXT;return}parser.tagName=tagName;var s=parser.tags.length;while(s-->t){var tag=parser.tag=parser.tags.pop();parser.tagName=parser.tag.name;emitNode(parser,"onclosetag",parser.tagName);var x={};for(var i in tag.ns){x[i]=tag.ns[i]}var parent=parser.tags[parser.tags.length-1]||parser;if(parser.opt.xmlns&&tag.ns!==parent.ns){Object.keys(tag.ns).forEach(function(p){var n=tag.ns[p];emitNode(parser,"onclosenamespace",{prefix:p,uri:n})})}}if(t===0)parser.closedRoot=true;parser.tagName=parser.attribValue=parser.attribName="";parser.attribList.length=0;parser.state=S.TEXT}function parseEntity(parser){var entity=parser.entity;var entityLC=entity.toLowerCase();var num;var numStr="";if(parser.ENTITIES[entity]){return parser.ENTITIES[entity]}if(parser.ENTITIES[entityLC]){return parser.ENTITIES[entityLC]}entity=entityLC;if(entity.charAt(0)==="#"){if(entity.charAt(1)==="x"){entity=entity.slice(2);num=parseInt(entity,16);numStr=num.toString(16)}else{entity=entity.slice(1);num=parseInt(entity,10);numStr=num.toString(10)}}entity=entity.replace(/^0+/,"");if(numStr.toLowerCase()!==entity){strictFail(parser,"Invalid character entity");return"&"+parser.entity+";"}return String.fromCodePoint(num)}function beginWhiteSpace(parser,c){if(c==="<"){parser.state=S.OPEN_WAKA;parser.startTagPosition=parser.position}else if(not(whitespace,c)){strictFail(parser,"Non-whitespace before first tag.");parser.textNode=c;parser.state=S.TEXT}}function charAt(chunk,i){var result="";if(i<chunk.length){result=chunk.charAt(i)}return result}function write(chunk){var parser=this;if(this.error){throw this.error}if(parser.closed){return error(parser,"Cannot write after close. Assign an onready handler.")}if(chunk===null){return end(parser)}var i=0;var c="";while(true){c=charAt(chunk,i++);parser.c=c;if(!c){break}if(parser.trackPosition){parser.position++;if(c==="\n"){parser.line++;parser.column=0}else{parser.column++}}switch(parser.state){case S.BEGIN:parser.state=S.BEGIN_WHITESPACE;if(c==="\ufeff"){continue}beginWhiteSpace(parser,c);continue;case S.BEGIN_WHITESPACE:beginWhiteSpace(parser,c);continue;case S.TEXT:if(parser.sawRoot&&!parser.closedRoot){var starti=i-1;while(c&&c!=="<"&&c!=="&"){c=charAt(chunk,i++);if(c&&parser.trackPosition){parser.position++;if(c==="\n"){parser.line++;parser.column=0}else{parser.column++}}}parser.textNode+=chunk.substring(starti,i-1)}if(c==="<"&&!(parser.sawRoot&&parser.closedRoot&&!parser.strict)){parser.state=S.OPEN_WAKA;parser.startTagPosition=parser.position}else{if(not(whitespace,c)&&(!parser.sawRoot||parser.closedRoot)){strictFail(parser,"Text data outside of root node.")}if(c==="&"){parser.state=S.TEXT_ENTITY}else{parser.textNode+=c}}continue;case S.SCRIPT:if(c==="<"){parser.state=S.SCRIPT_ENDING}else{parser.script+=c}continue;case S.SCRIPT_ENDING:if(c==="/"){parser.state=S.CLOSE_TAG}else{parser.script+="<"+c;parser.state=S.SCRIPT}continue;case S.OPEN_WAKA:if(c==="!"){parser.state=S.SGML_DECL;parser.sgmlDecl=""}else if(is(whitespace,c)){}else if(is(nameStart,c)){parser.state=S.OPEN_TAG;parser.tagName=c}else if(c==="/"){
parser.state=S.CLOSE_TAG;parser.tagName=""}else if(c==="?"){parser.state=S.PROC_INST;parser.procInstName=parser.procInstBody=""}else{strictFail(parser,"Unencoded <");if(parser.startTagPosition+1<parser.position){var pad=parser.position-parser.startTagPosition;c=new Array(pad).join(" ")+c}parser.textNode+="<"+c;parser.state=S.TEXT}continue;case S.SGML_DECL:if((parser.sgmlDecl+c).toUpperCase()===CDATA){emitNode(parser,"onopencdata");parser.state=S.CDATA;parser.sgmlDecl="";parser.cdata=""}else if(parser.sgmlDecl+c==="--"){parser.state=S.COMMENT;parser.comment="";parser.sgmlDecl=""}else if((parser.sgmlDecl+c).toUpperCase()===DOCTYPE){parser.state=S.DOCTYPE;if(parser.doctype||parser.sawRoot){strictFail(parser,"Inappropriately located doctype declaration")}parser.doctype="";parser.sgmlDecl=""}else if(c===">"){emitNode(parser,"onsgmldeclaration",parser.sgmlDecl);parser.sgmlDecl="";parser.state=S.TEXT}else if(is(quote,c)){parser.state=S.SGML_DECL_QUOTED;parser.sgmlDecl+=c}else{parser.sgmlDecl+=c}continue;case S.SGML_DECL_QUOTED:if(c===parser.q){parser.state=S.SGML_DECL;parser.q=""}parser.sgmlDecl+=c;continue;case S.DOCTYPE:if(c===">"){parser.state=S.TEXT;emitNode(parser,"ondoctype",parser.doctype);parser.doctype=true}else{parser.doctype+=c;if(c==="["){parser.state=S.DOCTYPE_DTD}else if(is(quote,c)){parser.state=S.DOCTYPE_QUOTED;parser.q=c}}continue;case S.DOCTYPE_QUOTED:parser.doctype+=c;if(c===parser.q){parser.q="";parser.state=S.DOCTYPE}continue;case S.DOCTYPE_DTD:parser.doctype+=c;if(c==="]"){parser.state=S.DOCTYPE}else if(is(quote,c)){parser.state=S.DOCTYPE_DTD_QUOTED;parser.q=c}continue;case S.DOCTYPE_DTD_QUOTED:parser.doctype+=c;if(c===parser.q){parser.state=S.DOCTYPE_DTD;parser.q=""}continue;case S.COMMENT:if(c==="-"){parser.state=S.COMMENT_ENDING}else{parser.comment+=c}continue;case S.COMMENT_ENDING:if(c==="-"){parser.state=S.COMMENT_ENDED;parser.comment=textopts(parser.opt,parser.comment);if(parser.comment){emitNode(parser,"oncomment",parser.comment)}parser.comment=""}else{parser.comment+="-"+c;parser.state=S.COMMENT}continue;case S.COMMENT_ENDED:if(c!==">"){strictFail(parser,"Malformed comment");parser.comment+="--"+c;parser.state=S.COMMENT}else{parser.state=S.TEXT}continue;case S.CDATA:if(c==="]"){parser.state=S.CDATA_ENDING}else{parser.cdata+=c}continue;case S.CDATA_ENDING:if(c==="]"){parser.state=S.CDATA_ENDING_2}else{parser.cdata+="]"+c;parser.state=S.CDATA}continue;case S.CDATA_ENDING_2:if(c===">"){if(parser.cdata){emitNode(parser,"oncdata",parser.cdata)}emitNode(parser,"onclosecdata");parser.cdata="";parser.state=S.TEXT}else if(c==="]"){parser.cdata+="]"}else{parser.cdata+="]]"+c;parser.state=S.CDATA}continue;case S.PROC_INST:if(c==="?"){parser.state=S.PROC_INST_ENDING}else if(is(whitespace,c)){parser.state=S.PROC_INST_BODY}else{parser.procInstName+=c}continue;case S.PROC_INST_BODY:if(!parser.procInstBody&&is(whitespace,c)){continue}else if(c==="?"){parser.state=S.PROC_INST_ENDING}else{parser.procInstBody+=c}continue;case S.PROC_INST_ENDING:if(c===">"){emitNode(parser,"onprocessinginstruction",{name:parser.procInstName,body:parser.procInstBody});parser.procInstName=parser.procInstBody="";parser.state=S.TEXT}else{parser.procInstBody+="?"+c;parser.state=S.PROC_INST_BODY}continue;case S.OPEN_TAG:if(is(nameBody,c)){parser.tagName+=c}else{newTag(parser);if(c===">"){openTag(parser)}else if(c==="/"){parser.state=S.OPEN_TAG_SLASH}else{if(not(whitespace,c)){strictFail(parser,"Invalid character in tag name")}parser.state=S.ATTRIB}}continue;case S.OPEN_TAG_SLASH:if(c===">"){openTag(parser,true);closeTag(parser)}else{strictFail(parser,"Forward-slash in opening tag not followed by >");parser.state=S.ATTRIB}continue;case S.ATTRIB:if(is(whitespace,c)){continue}else if(c===">"){openTag(parser)}else if(c==="/"){parser.state=S.OPEN_TAG_SLASH}else if(is(nameStart,c)){parser.attribName=c;parser.attribValue="";parser.state=S.ATTRIB_NAME}else{strictFail(parser,"Invalid attribute name")}continue;case S.ATTRIB_NAME:if(c==="="){parser.state=S.ATTRIB_VALUE}else if(c===">"){strictFail(parser,"Attribute without value");parser.attribValue=parser.attribName;attrib(parser);openTag(parser)}else if(is(whitespace,c)){parser.state=S.ATTRIB_NAME_SAW_WHITE}else if(is(nameBody,c)){parser.attribName+=c}else{strictFail(parser,"Invalid attribute name")}continue;case S.ATTRIB_NAME_SAW_WHITE:if(c==="="){parser.state=S.ATTRIB_VALUE}else if(is(whitespace,c)){continue}else{strictFail(parser,"Attribute without value");parser.tag.attributes[parser.attribName]="";parser.attribValue="";emitNode(parser,"onattribute",{name:parser.attribName,value:""});parser.attribName="";if(c===">"){openTag(parser)}else if(is(nameStart,c)){parser.attribName=c;parser.state=S.ATTRIB_NAME}else{strictFail(parser,"Invalid attribute name");parser.state=S.ATTRIB}}continue;case S.ATTRIB_VALUE:if(is(whitespace,c)){continue}else if(is(quote,c)){parser.q=c;parser.state=S.ATTRIB_VALUE_QUOTED}else{strictFail(parser,"Unquoted attribute value");parser.state=S.ATTRIB_VALUE_UNQUOTED;parser.attribValue=c}continue;case S.ATTRIB_VALUE_QUOTED:if(c!==parser.q){if(c==="&"){parser.state=S.ATTRIB_VALUE_ENTITY_Q}else{parser.attribValue+=c}continue}attrib(parser);parser.q="";parser.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:if(is(whitespace,c)){parser.state=S.ATTRIB}else if(c===">"){openTag(parser)}else if(c==="/"){parser.state=S.OPEN_TAG_SLASH}else if(is(nameStart,c)){strictFail(parser,"No whitespace between attributes");parser.attribName=c;parser.attribValue="";parser.state=S.ATTRIB_NAME}else{strictFail(parser,"Invalid attribute name")}continue;case S.ATTRIB_VALUE_UNQUOTED:if(not(attribEnd,c)){if(c==="&"){parser.state=S.ATTRIB_VALUE_ENTITY_U}else{parser.attribValue+=c}continue}attrib(parser);if(c===">"){openTag(parser)}else{parser.state=S.ATTRIB}continue;case S.CLOSE_TAG:if(!parser.tagName){if(is(whitespace,c)){continue}else if(not(nameStart,c)){if(parser.script){parser.script+="</"+c;parser.state=S.SCRIPT}else{strictFail(parser,"Invalid tagname in closing tag.")}}else{parser.tagName=c}}else if(c===">"){closeTag(parser)}else if(is(nameBody,c)){parser.tagName+=c}else if(parser.script){parser.script+="</"+parser.tagName;parser.tagName="";parser.state=S.SCRIPT}else{if(not(whitespace,c)){strictFail(parser,"Invalid tagname in closing tag")}parser.state=S.CLOSE_TAG_SAW_WHITE}continue;case S.CLOSE_TAG_SAW_WHITE:if(is(whitespace,c)){continue}if(c===">"){closeTag(parser)}else{strictFail(parser,"Invalid characters in closing tag")}continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var returnState;var buffer;switch(parser.state){case S.TEXT_ENTITY:returnState=S.TEXT;buffer="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:returnState=S.ATTRIB_VALUE_QUOTED;buffer="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:returnState=S.ATTRIB_VALUE_UNQUOTED;buffer="attribValue";break}if(c===";"){parser[buffer]+=parseEntity(parser);parser.entity="";parser.state=returnState}else if(is(parser.entity.length?entityBody:entityStart,c)){parser.entity+=c}else{strictFail(parser,"Invalid character in entity name");parser[buffer]+="&"+parser.entity+c;parser.entity="";parser.state=returnState}continue;default:throw new Error(parser,"Unknown state: "+parser.state)}}if(parser.position>=parser.bufferCheckPosition){checkBufferLength(parser)}return parser}if(!String.fromCodePoint){(function(){var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length){return""}var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!==codePoint){throw RangeError("Invalid code point: "+codePoint)}if(codePoint<=65535){codeUnits.push(codePoint)}else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1===length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=0}}return result};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:true,writable:true})}else{String.fromCodePoint=fromCodePoint}})()}})(typeof exports==="undefined"?this.sax={}:exports)}).call(this,require("buffer").Buffer)},{buffer:3,stream:25,string_decoder:26}],80:[function(require,module,exports){module.exports=require("./lib/whet.extend")},{"./lib/whet.extend":81}],81:[function(require,module,exports){(function(){var extend,_findValue,_isClass,_isOwnProp,_isPlainObj,_isPrimitiveType,_isTypeOf,_prepareClone,__slice=[].slice;module.exports=extend=function(){var args,copy,deep,name,options,target,_i,_len,_ref;deep=arguments[0],target=arguments[1],args=3<=arguments.length?__slice.call(arguments,2):[];if(!_isClass(deep,"Boolean")){args.unshift(target);_ref=[deep||{},false],target=_ref[0],deep=_ref[1]}if(_isPrimitiveType(target)){target={}}for(_i=0,_len=args.length;_i<_len;_i++){options=args[_i];if(options!=null){for(name in options){copy=options[name];target[name]=_findValue(deep,copy,target[name])}}}return target};_isClass=function(obj,str){return"[object "+str+"]"===Object.prototype.toString.call(obj)};_isOwnProp=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)};_isTypeOf=function(obj,str){return str===typeof obj};_isPlainObj=function(obj){var key;if(!obj){return false}if(obj.nodeType||obj.setInterval||!_isClass(obj,"Object")){return false}if(obj.constructor&&!_isOwnProp(obj,"constructor")&&!_isOwnProp(obj.constructor.prototype,"isPrototypeOf")){return false}for(key in obj){key}return key===void 0||_isOwnProp(obj,key)};_isPrimitiveType=function(obj){return!(_isTypeOf(obj,"object")||_isTypeOf(obj,"function"))};_prepareClone=function(copy,src){if(_isClass(copy,"Array")){if(_isClass(src,"Array")){return src}else{return[]}}else{if(_isPlainObj(src)){return src}else{return{}}}};_findValue=function(deep,copy,src){var clone;if(deep&&(_isClass(copy,"Array")||_isPlainObj(copy))){clone=_prepareClone(copy,src);return extend(deep,clone,copy)}else{return copy}}}).call(this)},{}],82:[function(require,module,exports){"use strict";exports.elemsGroups={animation:["animate","animateColor","animateMotion","animateTransform","set"],descriptive:["desc","metadata","title"],shape:["circle","ellipse","line","path","polygon","polyline","rect"],structural:["defs","g","svg","symbol","use"],paintServer:["solidColor","linearGradient","radialGradient","meshGradient","pattern","hatch"],nonRendering:["linearGradient","radialGradient","pattern","clipPath","mask","marker","symbol","filter","solidColor"],container:["a","defs","g","marker","mask","missing-glyph","pattern","svg","switch","symbol"],textContent:["altGlyph","altGlyphDef","altGlyphItem","glyph","glyphRef","textPath","text","tref","tspan"],textContentChild:["altGlyph","textPath","tref","tspan"],lightSource:["feDiffuseLighting","feSpecularLighting","feDistantLight","fePointLight","feSpotLight"],filterPrimitive:["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"]};exports.pathElems=["path","glyph","missing-glyph"];exports.attrsGroups={animationAddition:["additive","accumulate"],animationAttributeTarget:["attributeType","attributeName"],animationEvent:["onbegin","onend","onrepeat","onload"],animationTiming:["begin","dur","end","min","max","restart","repeatCount","repeatDur","fill"],animationValue:["calcMode","values","keyTimes","keySplines","from","to","by"],conditionalProcessing:["requiredFeatures","requiredExtensions","systemLanguage"],core:["id","tabindex","xml:base","xml:lang","xml:space"],graphicalEvent:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload"],presentation:["alignment-baseline","baseline-shift","buffered-rendering","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","display","dominant-baseline","enable-background","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","pointer-events","shape-rendering","solid-color","solid-opacity","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","text-anchor","text-decoration","text-overflow","white-space","text-rendering","unicode-bidi","vector-effect","viewport-fill","viewport-fill-opacity","visibility","white-space","word-spacing","writing-mode"],xlink:["xlink:href","xlink:show","xlink:actuate","xlink:type","xlink:role","xlink:arcrole","xlink:title"],documentEvent:["onunload","onabort","onerror","onresize","onscroll","onzoom"],filterPrimitive:["x","y","width","height","result"],transferFunction:["type","tableValues","slope","intercept","amplitude","exponent","offset"]};exports.attrsGroupsDefaults={core:{"xml:space":"preserve"},filterPrimitive:{x:"0",y:"0",width:"100%",height:"100%"},presentation:{clip:"auto","clip-path":"none","clip-rule":"nonzero",mask:"none",opacity:"1","solid-color":"#000","solid-opacity":"1","stop-color":"#000","stop-opacity":"1","fill-opacity":"1","fill-rule":"nonzero",fill:"#000",stroke:"none","stroke-width":"1","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-dashoffset":"0","stroke-opacity":"1","paint-order":"normal","vector-effect":"none","viewport-fill":"none","viewport-fill-opacity":"1",display:"inline",visibility:"visible","marker-start":"none","marker-mid":"none","marker-end":"none","color-interpolation":"sRGB","color-interpolation-filters":"linearRGB","color-rendering":"auto","shape-rendering":"auto","text-rendering":"auto","image-rendering":"auto","buffered-rendering":"auto","font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-size":"medium","font-size-adjust":"none",kerning:"auto","letter-spacing":"normal","word-spacing":"normal","text-decoration":"none","text-anchor":"start","text-overflow":"clip","writing-mode":"lr-tb","glyph-orientation-vertical":"auto","glyph-orientation-horizontal":"0deg",direction:"ltr","unicode-bidi":"normal","dominant-baseline":"auto","alignment-baseline":"baseline","baseline-shift":"baseline"},transferFunction:{slope:"1",intercept:"0",amplitude:"1",exponent:"1",offset:"0"}};exports.elems={a:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation","xlink"],attrs:["class","style","externalResourcesRequired","transform","target"],defaults:{target:"_self"},contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},altGlyph:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation","xlink"],attrs:["class","style","externalResourcesRequired","x","y","dx","dy","glyphRef","format","rotate"]},altGlyphDef:{attrsGroups:["core"],content:["glyphRef"]},altGlyphItem:{attrsGroups:["core"],content:["glyphRef","altGlyphItem"]},animate:{attrsGroups:["conditionalProcessing","core","animationAddition","animationAttributeTarget","animationEvent","animationTiming","animationValue","presentation","xlink"],attrs:["externalResourcesRequired"],contentGroups:["descriptive"]},animateColor:{attrsGroups:["conditionalProcessing","core","animationEvent","xlink","animationAttributeTarget","animationTiming","animationValue","animationAddition","presentation"],attrs:["externalResourcesRequired"],contentGroups:["descriptive"]},animateMotion:{attrsGroups:["conditionalProcessing","core","animationEvent","xlink","animationTiming","animationValue","animationAddition"],attrs:["externalResourcesRequired","path","keyPoints","rotate","origin"],defaults:{rotate:"0"},contentGroups:["descriptive"],content:["mpath"]},animateTransform:{attrsGroups:["conditionalProcessing","core","animationEvent","xlink","animationAttributeTarget","animationTiming","animationValue","animationAddition"],attrs:["externalResourcesRequired","type"],contentGroups:["descriptive"]},circle:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","cx","cy","r"],defaults:{cx:"0",cy:"0"},contentGroups:["animation","descriptive"]},clipPath:{attrsGroups:["conditionalProcessing","core","presentation"],attrs:["class","style","externalResourcesRequired","transform","clipPathUnits"],defaults:{clipPathUnits:"userSpaceOnUse"},contentGroups:["animation","descriptive","shape"],content:["text","use"]},"color-profile":{attrsGroups:["core","xlink"],attrs:["local","name","rendering-intent"],defaults:{name:"sRGB","rendering-intent":"auto"},contentGroups:["descriptive"]},cursor:{attrsGroups:["core","conditionalProcessing","xlink"],attrs:["externalResourcesRequired","x","y"],defaults:{x:"0",y:"0"},contentGroups:["descriptive"]},defs:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform"],contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},desc:{attrsGroups:["core"],attrs:["class","style"]},ellipse:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","cx","cy","rx","ry"],defaults:{cx:"0",cy:"0"},contentGroups:["animation","descriptive"]},feBlend:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","in2","mode"],defaults:{mode:"normal"},content:["animate","set"]},feColorMatrix:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","type","values"],defaults:{type:"matrix"},content:["animate","set"]},feComponentTransfer:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in"],content:["feFuncA","feFuncB","feFuncG","feFuncR"]},feComposite:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","in2","operator","k1","k2","k3","k4"],defaults:{operator:"over",k1:"0",k2:"0",k3:"0",k4:"0"},content:["animate","set"]},feConvolveMatrix:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","order","kernelMatrix","divisor","bias","targetX","targetY","edgeMode","kernelUnitLength","preserveAlpha"],defaults:{order:"3",bias:"0",edgeMode:"duplicate",preserveAlpha:"false"},content:["animate","set"]},feDiffuseLighting:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","surfaceScale","diffuseConstant","kernelUnitLength"],defaults:{surfaceScale:"1",diffuseConstant:"1"},contentGroups:["descriptive"],content:["feDistantLight","fePointLight","feSpotLight"]},feDisplacementMap:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","in2","scale","xChannelSelector","yChannelSelector"],defaults:{scale:"0",xChannelSelector:"A",yChannelSelector:"A"},content:["animate","set"]},feDistantLight:{attrsGroups:["core"],attrs:["azimuth","elevation"],defaults:{azimuth:"0",elevation:"0"},content:["animate","set"]},feFlood:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style"],content:["animate","animateColor","set"]},feFuncA:{attrsGroups:["core","transferFunction"],content:["set","animate"]},feFuncB:{attrsGroups:["core","transferFunction"],content:["set","animate"]},feFuncG:{attrsGroups:["core","transferFunction"],content:["set","animate"]},feFuncR:{attrsGroups:["core","transferFunction"],content:["set","animate"]},feGaussianBlur:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","stdDeviation"],defaults:{stdDeviation:"0"},content:["set","animate"]},feImage:{attrsGroups:["core","presentation","filterPrimitive","xlink"],attrs:["class","style","externalResourcesRequired","preserveAspectRatio","xlink:href"],defaults:{preserveAspectRatio:"xMidYMid meet"},content:["animate","animateTransform","set"]},feMerge:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style"],content:["feMergeNode"]},feMergeNode:{attrsGroups:["core"],attrs:["in"],content:["animate","set"]},feMorphology:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","operator","radius"],defaults:{operator:"erode",radius:"0"},content:["animate","set"]},feOffset:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","dx","dy"],defaults:{dx:"0",dy:"0"},content:["animate","set"]},fePointLight:{attrsGroups:["core"],attrs:["x","y","z"],defaults:{x:"0",y:"0",z:"0"},content:["animate","set"]},feSpecularLighting:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in","surfaceScale","specularConstant","specularExponent","kernelUnitLength"],defaults:{surfaceScale:"1",specularConstant:"1",specularExponent:"1"},contentGroups:["descriptive","lightSource"]},feSpotLight:{attrsGroups:["core"],attrs:["x","y","z","pointsAtX","pointsAtY","pointsAtZ","specularExponent","limitingConeAngle"],defaults:{x:"0",y:"0",z:"0",pointsAtX:"0",pointsAtY:"0",pointsAtZ:"0",specularExponent:"1"},content:["animate","set"]},feTile:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","in"],content:["animate","set"]},feTurbulence:{attrsGroups:["core","presentation","filterPrimitive"],attrs:["class","style","baseFrequency","numOctaves","seed","stitchTiles","type"],defaults:{baseFrequency:"0",numOctaves:"1",seed:"0",stitchTiles:"noStitch",type:"turbulence"},content:["animate","set"]},filter:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","externalResourcesRequired","x","y","width","height","filterRes","filterUnits","primitiveUnits","xlink:href"],defaults:{primitiveUnits:"userSpaceOnUse",x:"-10%",y:"-10%",width:"120%",height:"120%"},contentGroups:["descriptive","filterPrimitive"],content:["animate","set"]},font:{attrsGroups:["core","presentation"],attrs:["class","style","externalResourcesRequired","horiz-origin-x","horiz-origin-y","horiz-adv-x","vert-origin-x","vert-origin-y","vert-adv-y"],defaults:{"horiz-origin-x":"0","horiz-origin-y":"0"},contentGroups:["descriptive"],content:["font-face","glyph","hkern","missing-glyph","vkern"]},"font-face":{attrsGroups:["core"],attrs:["font-family","font-style","font-variant","font-weight","font-stretch","font-size","unicode-range","units-per-em","panose-1","stemv","stemh","slope","cap-height","x-height","accent-height","ascent","descent","widths","bbox","ideographic","alphabetic","mathematical","hanging","v-ideographic","v-alphabetic","v-mathematical","v-hanging","underline-position","underline-thickness","strikethrough-position","strikethrough-thickness","overline-position","overline-thickness"],defaults:{"font-style":"all","font-variant":"normal","font-weight":"all","font-stretch":"normal","unicode-range":"U+0-10FFFF","units-per-em":"1000","panose-1":"0 0 0 0 0 0 0 0 0 0",slope:"0"},contentGroups:["descriptive"],content:["font-face-src"]},"font-face-format":{attrsGroups:["core"],attrs:["string"]},"font-face-name":{attrsGroups:["core"],attrs:["name"]},"font-face-src":{attrsGroups:["core"],content:["font-face-name","font-face-uri"]},"font-face-uri":{attrsGroups:["core","xlink"],attrs:["xlink:href"],content:["font-face-format"]},foreignObject:{attrsGroups:["core","conditionalProcessing","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","x","y","width","height"],defaults:{x:0,y:0}},g:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform"],contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},glyph:{attrsGroups:["core","presentation"],attrs:["class","style","d","horiz-adv-x","vert-origin-x","vert-origin-y","vert-adv-y","unicode","glyph-name","orientation","arabic-form","lang"],defaults:{"arabic-form":"initial"},contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},glyphRef:{attrsGroups:["core","presentation"],attrs:["class","style","d","horiz-adv-x","vert-origin-x","vert-origin-y","vert-adv-y"],contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},hatch:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","x","y","pitch","rotate","hatchUnits","hatchContentUnits","transform"],defaults:{hatchUnits:"objectBoundingBox",hatchContentUnits:"userSpaceOnUse",x:"0",y:"0",pitch:"0",rotate:"0"},contentGroups:["animation","descriptive"],content:["hatchPath"]},hatchPath:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","d","offset"],defaults:{offset:"0"},contentGroups:["animation","descriptive"]},hkern:{attrsGroups:["core"],attrs:["u1","g1","u2","g2","k"]},image:{attrsGroups:["core","conditionalProcessing","graphicalEvent","xlink","presentation"],attrs:["class","style","externalResourcesRequired","preserveAspectRatio","transform","x","y","width","height","xlink:href"],defaults:{x:"0",y:"0",preserveAspectRatio:"xMidYMid meet"},contentGroups:["animation","descriptive"]},line:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","x1","y1","x2","y2"],defaults:{x1:"0",y1:"0",x2:"0",y2:"0"},contentGroups:["animation","descriptive"]},linearGradient:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","externalResourcesRequired","x1","y1","x2","y2","gradientUnits","gradientTransform","spreadMethod","xlink:href"],defaults:{x1:"0",y1:"0",x2:"100%",y2:"0",spreadMethod:"pad"},contentGroups:["descriptive"],content:["animate","animateTransform","set","stop"]},marker:{attrsGroups:["core","presentation"],attrs:["class","style","externalResourcesRequired","viewBox","preserveAspectRatio","refX","refY","markerUnits","markerWidth","markerHeight","orient"],defaults:{markerUnits:"strokeWidth",refX:"0",refY:"0",markerWidth:"3",markerHeight:"3"},contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},mask:{attrsGroups:["conditionalProcessing","core","presentation"],attrs:["class","style","externalResourcesRequired","x","y","width","height","maskUnits","maskContentUnits"],defaults:{maskUnits:"objectBoundingBox",maskContentUnits:"userSpaceOnUse",x:"-10%",y:"-10%",width:"120%",height:"120%"},contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},metadata:{attrsGroups:["core"]},"missing-glyph":{attrsGroups:["core","presentation"],attrs:["class","style","d","horiz-adv-x","vert-origin-x","vert-origin-y","vert-adv-y"],contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},mpath:{attrsGroups:["core","xlink"],attrs:["externalResourcesRequired","xlink:href"],contentGroups:["descriptive"]},path:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","d","pathLength"],contentGroups:["animation","descriptive"]},pattern:{attrsGroups:["conditionalProcessing","core","presentation","xlink"],attrs:["class","style","externalResourcesRequired","viewBox","preserveAspectRatio","x","y","width","height","patternUnits","patternContentUnits","patternTransform","xlink:href"],defaults:{patternUnits:"objectBoundingBox",patternContentUnits:"userSpaceOnUse",x:"0",y:"0",width:"0",height:"0",preserveAspectRatio:"xMidYMid meet"},contentGroups:["animation","descriptive","paintServer","shape","structural"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},polygon:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","points"],contentGroups:["animation","descriptive"]},polyline:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","points"],contentGroups:["animation","descriptive"]},radialGradient:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","externalResourcesRequired","cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod","xlink:href"],defaults:{gradientUnits:"objectBoundingBox",cx:"50%",cy:"50%",r:"50%"},contentGroups:["descriptive"],content:["animate","animateTransform","set","stop"]},meshGradient:{attrsGroups:["core","presentation","xlink"],attrs:["class","style","x","y","gradientUnits","transform"],contentGroups:["descriptive","paintServer","animation"],content:["meshRow"]},meshRow:{attrsGroups:["core","presentation"],attrs:["class","style"],contentGroups:["descriptive"],content:["meshPatch"]},meshPatch:{attrsGroups:["core","presentation"],attrs:["class","style"],contentGroups:["descriptive"],content:["stop"]},rect:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","x","y","width","height","rx","ry"],defaults:{x:"0",y:"0"},contentGroups:["animation","descriptive"]},script:{attrsGroups:["core","xlink"],attrs:["externalResourcesRequired","type","xlink:href"]},set:{attrsGroups:["conditionalProcessing","core","animation","xlink","animationAttributeTarget","animationTiming"],attrs:["externalResourcesRequired","to"],contentGroups:["descriptive"]},solidColor:{attrsGroups:["core","presentation"],attrs:["class","style"],contentGroups:["paintServer"]},stop:{attrsGroups:["core","presentation"],attrs:["class","style","offset","path"],contentGroups:["animate","animateColor","set"]},style:{attrsGroups:["core"],attrs:["type","media","title"],defaults:{type:"text/css"}},svg:{attrsGroups:["conditionalProcessing","core","documentEvent","graphicalEvent","presentation"],attrs:["class","style","x","y","width","height","viewBox","preserveAspectRatio","zoomAndPan","version","baseProfile","contentScriptType","contentStyleType"],defaults:{x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",zoomAndPan:"magnify",version:"1.1",baseProfile:"none",contentScriptType:"application/ecmascript",contentStyleType:"text/css"},contentGroups:["animation","descriptive","shape","structural","paintServer"],
content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},"switch":{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform"],contentGroups:["animation","descriptive","shape"],content:["a","foreignObject","g","image","svg","switch","text","use"]},symbol:{attrsGroups:["core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","preserveAspectRatio","viewBox","refX","refY"],defaults:{refX:0,refY:0},contentGroups:["animation","descriptive","shape","structural","paintServer"],content:["a","altGlyphDef","clipPath","color-profile","cursor","filter","font","font-face","foreignObject","image","marker","mask","pattern","script","style","switch","text","view"]},text:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","transform","lengthAdjust","x","y","dx","dy","rotate","textLength"],defaults:{x:"0",y:"0",lengthAdjust:"spacing"},contentGroups:["animation","descriptive","textContentChild"],content:["a"]},textPath:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation","xlink"],attrs:["class","style","externalResourcesRequired","xlink:href","startOffset","method","spacing","d"],defaults:{startOffset:"0",method:"align",spacing:"exact"},contentGroups:["descriptive"],content:["a","altGlyph","animate","animateColor","set","tref","tspan"]},title:{attrsGroups:["core"],attrs:["class","style"]},tref:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation","xlink"],attrs:["class","style","externalResourcesRequired","xlink:href"],contentGroups:["descriptive"],content:["animate","animateColor","set"]},tspan:{attrsGroups:["conditionalProcessing","core","graphicalEvent","presentation"],attrs:["class","style","externalResourcesRequired","x","y","dx","dy","rotate","textLength","lengthAdjust"],contentGroups:["descriptive"],content:["a","altGlyph","animate","animateColor","set","tref","tspan"]},use:{attrsGroups:["core","conditionalProcessing","graphicalEvent","presentation","xlink"],attrs:["class","style","externalResourcesRequired","transform","x","y","width","height","xlink:href"],defaults:{x:"0",y:"0"},contentGroups:["animation","descriptive"]},view:{attrsGroups:["core"],attrs:["externalResourcesRequired","viewBox","preserveAspectRatio","zoomAndPan","viewTarget"],contentGroups:["descriptive"]},vkern:{attrsGroups:["core"],attrs:["u1","g1","u2","g2","k"]}};exports.editorNamespaces=["http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd","http://inkscape.sourceforge.net/DTD/sodipodi-0.dtd","http://www.inkscape.org/namespaces/inkscape","http://www.bohemiancoding.com/sketch/ns","http://ns.adobe.com/AdobeIllustrator/10.0/","http://ns.adobe.com/Graphs/1.0/","http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/","http://ns.adobe.com/Variables/1.0/","http://ns.adobe.com/SaveForWeb/1.0/","http://ns.adobe.com/Extensibility/1.0/","http://ns.adobe.com/Flows/1.0/","http://ns.adobe.com/ImageReplacement/1.0/","http://ns.adobe.com/GenericCustomNamespace/1.0/","http://ns.adobe.com/XPath/1.0/"];exports.referencesProps=["clip-path","color-profile","fill","filter","marker-start","marker-mid","marker-end","mask","stroke"];exports.stylingProps=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","direction","letter-spacing","text-decoration","unicode-bidi","white-space","word-spacing","clip","color","cursor","display","overflow","visibility","clip-path","clip-rule","mask","opacity","enable-background","filter","flood-color","flood-opacity","lighting-color","solid-color","solid-opacity","stop-color","stop-opacity","pointer-events","buffered-rendering","color-interpolation","color-interpolation-filters","color-profile","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect","viewport-fill","viewport-fill-opacity","text-rendering","alignment-baseline","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","writing-mode"];exports.inheritableAttrs=["clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cursor","direction","fill","fill-opacity","fill-rule","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-orientation-horizontal","glyph-orientation-vertical","image-rendering","kerning","letter-spacing","marker","marker-end","marker-mid","marker-start","pointer-events","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-rendering","transform","visibility","white-space","word-spacing","writing-mode"];exports.colorsNames={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};exports.colorsShortNames={"#f0ffff":"azure","#f5f5dc":"beige","#ffe4c4":"bisque","#a52a2a":"brown","#ff7f50":"coral","#ffd700":"gold","#808080":"gray","#008000":"green","#4b0082":"indigo","#fffff0":"ivory","#f0e68c":"khaki","#faf0e6":"linen","#800000":"maroon","#000080":"navy","#808000":"olive","#ffa500":"orange","#da70d6":"orchid","#cd853f":"peru","#ffc0cb":"pink","#dda0dd":"plum","#800080":"purple","#f00":"red","#fa8072":"salmon","#a0522d":"sienna","#c0c0c0":"silver","#fffafa":"snow","#d2b48c":"tan","#008080":"teal","#ff6347":"tomato","#ee82ee":"violet","#f5deb3":"wheat"};exports.colorsProps=["color","fill","stroke","stop-color","flood-color","lighting-color"]},{}],83:[function(require,module,exports){"use strict";var regPathInstructions=/([MmLlHhVvCcSsQqTtAaZz])\s*/,regPathData=/[-+]?(?:\d*\.\d+|\d+\.?)([eE][-+]?\d+)?/g,regNumericValues=/[-+]?(\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/,transform2js=require("./_transforms").transform2js,transformsMultiply=require("./_transforms").transformsMultiply,transformArc=require("./_transforms").transformArc,collections=require("./_collections.js"),referencesProps=collections.referencesProps,defaultStrokeWidth=collections.attrsGroupsDefaults.presentation["stroke-width"],cleanupOutData=require("../lib/svgo/tools").cleanupOutData,removeLeadingZero=require("../lib/svgo/tools").removeLeadingZero,prevCtrlPoint;exports.path2js=function(path){if(path.pathJS)return path.pathJS;var paramsLength={H:1,V:1,M:2,L:2,T:2,Q:4,S:4,C:6,A:7,h:1,v:1,m:2,l:2,t:2,q:4,s:4,c:6,a:7},pathData=[],instruction,startMoveto=false;path.attr("d").value.split(regPathInstructions).forEach(function(data){if(!data)return;if(!startMoveto){if(data=="M"||data=="m"){startMoveto=true}else return}if(regPathInstructions.test(data)){instruction=data;if(instruction=="Z"||instruction=="z"){pathData.push({instruction:"z"})}}else{data=data.match(regPathData);if(!data)return;data=data.map(Number);if(instruction=="M"||instruction=="m"){pathData.push({instruction:pathData.length==0?"M":instruction,data:data.splice(0,2)});instruction=instruction=="M"?"L":"l"}for(var pair=paramsLength[instruction];data.length;){pathData.push({instruction:instruction,data:data.splice(0,pair)})}}});if(pathData.length&&pathData[0].instruction=="m"){pathData[0].instruction="M"}path.pathJS=pathData;return pathData};var relative2absolute=exports.relative2absolute=function(data){var currentPoint=[0,0],subpathPoint=[0,0],i;data=data.map(function(item){var instruction=item.instruction,itemData=item.data&&item.data.slice();if(instruction=="M"){set(currentPoint,itemData);set(subpathPoint,itemData)}else if("mlcsqt".indexOf(instruction)>-1){for(i=0;i<itemData.length;i++){itemData[i]+=currentPoint[i%2]}set(currentPoint,itemData);if(instruction=="m"){set(subpathPoint,itemData)}}else if(instruction=="a"){itemData[5]+=currentPoint[0];itemData[6]+=currentPoint[1];set(currentPoint,itemData)}else if(instruction=="h"){itemData[0]+=currentPoint[0];currentPoint[0]=itemData[0]}else if(instruction=="v"){itemData[0]+=currentPoint[1];currentPoint[1]=itemData[0]}else if("MZLCSQTA".indexOf(instruction)>-1){set(currentPoint,itemData)}else if(instruction=="H"){currentPoint[0]=itemData[0]}else if(instruction=="V"){currentPoint[1]=itemData[0]}else if(instruction=="z"){set(currentPoint,subpathPoint)}return instruction=="z"?{instruction:"z"}:{instruction:instruction.toUpperCase(),data:itemData}});return data};exports.applyTransforms=function(elem,path,params){if(!elem.hasAttr("transform")||!elem.attr("transform").value||elem.someAttr(function(attr){return~referencesProps.indexOf(attr.name)&&~attr.value.indexOf("url(")}))return path;var matrix=transformsMultiply(transform2js(elem.attr("transform").value)),stroke=elem.computedAttr("stroke"),transformPrecision=params.transformPrecision,newPoint,scale;if(stroke&&stroke.value!="none"){if(!params.applyTransformsStroked||(matrix.data[0]!=matrix.data[3]||matrix.data[1]!=-matrix.data[2])&&(matrix.data[0]!=-matrix.data[3]||matrix.data[1]!=matrix.data[2]))return path;scale=+Math.sqrt(matrix.data[0]*matrix.data[0]+matrix.data[1]*matrix.data[1]).toFixed(transformPrecision);if(scale!==1){var strokeWidth=elem.computedAttr("stroke-width")||defaultStrokeWidth;if(elem.hasAttr("stroke-width")){elem.attrs["stroke-width"].value=elem.attrs["stroke-width"].value.trim().replace(regNumericValues,function(num){return removeLeadingZero(num*scale)})}else{elem.addAttr({name:"stroke-width",prefix:"",local:"stroke-width",value:strokeWidth.replace(regNumericValues,function(num){return removeLeadingZero(num*scale)})})}}}path.forEach(function(pathItem){if(pathItem.data){if(pathItem.instruction==="h"){pathItem.instruction="l";pathItem.data[1]=0}else if(pathItem.instruction==="v"){pathItem.instruction="l";pathItem.data[1]=pathItem.data[0];pathItem.data[0]=0}if(pathItem.instruction==="M"&&(matrix.data[4]!==0||matrix.data[5]!==0)){newPoint=transformPoint(matrix.data,pathItem.data[0],pathItem.data[1]);set(pathItem.data,newPoint);set(pathItem.coords,newPoint);matrix.data[4]=0;matrix.data[5]=0}else{if(pathItem.instruction=="a"){transformArc(pathItem.data,matrix.data);if(Math.abs(pathItem.data[2])>80){var a=pathItem.data[0],rotation=pathItem.data[2];pathItem.data[0]=pathItem.data[1];pathItem.data[1]=a;pathItem.data[2]=rotation+(rotation>0?-90:90)}newPoint=transformPoint(matrix.data,pathItem.data[5],pathItem.data[6]);pathItem.data[5]=newPoint[0];pathItem.data[6]=newPoint[1]}else{for(var i=0;i<pathItem.data.length;i+=2){newPoint=transformPoint(matrix.data,pathItem.data[i],pathItem.data[i+1]);pathItem.data[i]=newPoint[0];pathItem.data[i+1]=newPoint[1]}}pathItem.coords[0]=pathItem.base[0]+pathItem.data[pathItem.data.length-2];pathItem.coords[1]=pathItem.base[1]+pathItem.data[pathItem.data.length-1]}}});elem.removeAttr("transform");return path};function transformPoint(matrix,x,y){return[matrix[0]*x+matrix[2]*y+matrix[4],matrix[1]*x+matrix[3]*y+matrix[5]]}exports.computeCubicBoundingBox=function(xa,ya,xb,yb,xc,yc,xd,yd){var minx=Number.POSITIVE_INFINITY,miny=Number.POSITIVE_INFINITY,maxx=Number.NEGATIVE_INFINITY,maxy=Number.NEGATIVE_INFINITY,ts,t,x,y,i;if(xa<minx){minx=xa}if(xa>maxx){maxx=xa}if(xd<minx){minx=xd}if(xd>maxx){maxx=xd}ts=computeCubicFirstDerivativeRoots(xa,xb,xc,xd);for(i=0;i<ts.length;i++){t=ts[i];if(t>=0&&t<=1){x=computeCubicBaseValue(t,xa,xb,xc,xd);if(x<minx){minx=x}if(x>maxx){maxx=x}}}if(ya<miny){miny=ya}if(ya>maxy){maxy=ya}if(yd<miny){miny=yd}if(yd>maxy){maxy=yd}ts=computeCubicFirstDerivativeRoots(ya,yb,yc,yd);for(i=0;i<ts.length;i++){t=ts[i];if(t>=0&&t<=1){y=computeCubicBaseValue(t,ya,yb,yc,yd);if(y<miny){miny=y}if(y>maxy){maxy=y}}}return{minx:minx,miny:miny,maxx:maxx,maxy:maxy}};function computeCubicBaseValue(t,a,b,c,d){var mt=1-t;return mt*mt*mt*a+3*mt*mt*t*b+3*mt*t*t*c+t*t*t*d}function computeCubicFirstDerivativeRoots(a,b,c,d){var result=[-1,-1],tl=-a+2*b-c,tr=-Math.sqrt(-a*(c-d)+b*b-b*(c+d)+c*c),dn=-a+3*b-3*c+d;if(dn!==0){result[0]=(tl+tr)/dn;result[1]=(tl-tr)/dn}return result}exports.computeQuadraticBoundingBox=function(xa,ya,xb,yb,xc,yc){var minx=Number.POSITIVE_INFINITY,miny=Number.POSITIVE_INFINITY,maxx=Number.NEGATIVE_INFINITY,maxy=Number.NEGATIVE_INFINITY,t,x,y;if(xa<minx){minx=xa}if(xa>maxx){maxx=xa}if(xc<minx){minx=xc}if(xc>maxx){maxx=xc}t=computeQuadraticFirstDerivativeRoot(xa,xb,xc);if(t>=0&&t<=1){x=computeQuadraticBaseValue(t,xa,xb,xc);if(x<minx){minx=x}if(x>maxx){maxx=x}}if(ya<miny){miny=ya}if(ya>maxy){maxy=ya}if(yc<miny){miny=yc}if(yc>maxy){maxy=yc}t=computeQuadraticFirstDerivativeRoot(ya,yb,yc);if(t>=0&&t<=1){y=computeQuadraticBaseValue(t,ya,yb,yc);if(y<miny){miny=y}if(y>maxy){maxy=y}}return{minx:minx,miny:miny,maxx:maxx,maxy:maxy}};function computeQuadraticBaseValue(t,a,b,c){var mt=1-t;return mt*mt*a+2*mt*t*b+t*t*c}function computeQuadraticFirstDerivativeRoot(a,b,c){var t=-1,denominator=a-2*b+c;if(denominator!==0){t=(a-b)/denominator}return t}exports.js2path=function(path,data,params){path.pathJS=data;if(params.collapseRepeated){data=collapseRepeated(data)}path.attr("d").value=data.reduce(function(pathString,item){return pathString+=item.instruction+(item.data?cleanupOutData(item.data,params):"")},"")};function collapseRepeated(data){var prev,prevIndex;data=data.reduce(function(newPath,item){if(prev&&item.data&&item.instruction==prev.instruction){if(item.instruction!="M"){prev=newPath[prevIndex]={instruction:prev.instruction,data:prev.data.concat(item.data),coords:item.coords,base:prev.base}}else{prev.data=item.data;prev.coords=item.coords}}else{newPath.push(item);prev=item;prevIndex=newPath.length-1}return newPath},[]);return data}function set(dest,source){dest[0]=source[source.length-2];dest[1]=source[source.length-1];return dest}exports.intersects=function(path1,path2){if(path1.length<3||path2.length<3)return false;var points1=relative2absolute(path1).reduce(gatherPoints,[]),points2=relative2absolute(path2).reduce(gatherPoints,[]);if(points1.maxX<=points2.minX||points2.maxX<=points1.minX||points1.maxY<=points2.minY||points2.maxY<=points1.minY||points1.every(function(set1){return points2.every(function(set2){return set1[set1.maxX][0]<=set2[set2.minX][0]||set2[set2.maxX][0]<=set1[set1.minX][0]||set1[set1.maxY][1]<=set2[set2.minY][1]||set2[set2.maxY][1]<=set1[set1.minY][1]})}))return false;var hullNest1=points1.map(convexHull),hullNest2=points2.map(convexHull);return hullNest1.some(function(hull1){if(hull1.length<3)return false;return hullNest2.some(function(hull2){if(hull2.length<3)return false;var simplex=[getSupport(hull1,hull2,[1,0])],direction=minus(simplex[0]);var iterations=1e4;while(true){if(iterations--==0){console.error("Error: infinite loop while processing mergePaths plugin.");return true}simplex.push(getSupport(hull1,hull2,direction));if(dot(direction,simplex[simplex.length-1])<=0)return false;if(processSimplex(simplex,direction))return true}})});function getSupport(a,b,direction){return sub(supportPoint(a,direction),supportPoint(b,minus(direction)))}function supportPoint(polygon,direction){var index=direction[1]>=0?direction[0]<0?polygon.maxY:polygon.maxX:direction[0]<0?polygon.minX:polygon.minY,max=-Infinity,value;while((value=dot(polygon[index],direction))>max){max=value;index=++index%polygon.length}return polygon[(index||polygon.length)-1]}};function processSimplex(simplex,direction){if(simplex.length==2){var a=simplex[1],b=simplex[0],AO=minus(simplex[1]),AB=sub(b,a);if(dot(AO,AB)>0){set(direction,orth(AB,a))}else{set(direction,AO);simplex.shift()}}else{var a=simplex[2],b=simplex[1],c=simplex[0],AB=sub(b,a),AC=sub(c,a),AO=minus(a),ACB=orth(AB,AC),ABC=orth(AC,AB);if(dot(ACB,AO)>0){if(dot(AB,AO)>0){set(direction,ACB);simplex.shift()}else{set(direction,AO);simplex.splice(0,2)}}else if(dot(ABC,AO)>0){if(dot(AC,AO)>0){set(direction,ABC);simplex.splice(1,1)}else{set(direction,AO);simplex.splice(0,2)}}else return true}return false}function minus(v){return[-v[0],-v[1]]}function sub(v1,v2){return[v1[0]-v2[0],v1[1]-v2[1]]}function dot(v1,v2){return v1[0]*v2[0]+v1[1]*v2[1]}function orth(v,from){var o=[-v[1],v[0]];return dot(o,minus(from))<0?minus(o):o}function gatherPoints(points,item,index,path){var subPath=points.length&&points[points.length-1],prev=index&&path[index-1],basePoint=subPath.length&&subPath[subPath.length-1],data=item.data,ctrlPoint=basePoint;switch(item.instruction){case"M":points.push(subPath=[]);break;case"H":addPoint(subPath,[data[0],basePoint[1]]);break;case"V":addPoint(subPath,[basePoint[0],data[0]]);break;case"Q":addPoint(subPath,data.slice(0,2));prevCtrlPoint=[data[2]-data[0],data[3]-data[1]];break;case"T":if(prev.instruction=="Q"&&prev.instruction=="T"){ctrlPoint=[basePoint[0]+prevCtrlPoint[0],basePoint[1]+prevCtrlPoint[1]];addPoint(subPath,ctrlPoint);prevCtrlPoint=[data[0]-ctrlPoint[0],data[1]-ctrlPoint[1]]}break;case"C":addPoint(subPath,[.5*(basePoint[0]+data[0]),.5*(basePoint[1]+data[1])]);addPoint(subPath,[.5*(data[0]+data[2]),.5*(data[1]+data[3])]);addPoint(subPath,[.5*(data[2]+data[4]),.5*(data[3]+data[5])]);prevCtrlPoint=[data[4]-data[2],data[5]-data[3]];break;case"S":if(prev.instruction=="C"&&prev.instruction=="S"){addPoint(subPath,[basePoint[0]+.5*prevCtrlPoint[0],basePoint[1]+.5*prevCtrlPoint[1]]);ctrlPoint=[basePoint[0]+prevCtrlPoint[0],basePoint[1]+prevCtrlPoint[1]]}addPoint(subPath,[.5*(ctrlPoint[0]+data[0]),.5*(ctrlPoint[1]+data[1])]);addPoint(subPath,[.5*(data[0]+data[2]),.5*(data[1]+data[3])]);prevCtrlPoint=[data[2]-data[0],data[3]-data[1]];break;case"A":var curves=a2c.apply(0,basePoint.concat(data));for(var cData;(cData=curves.splice(0,6).map(toAbsolute)).length;){addPoint(subPath,[.5*(basePoint[0]+cData[0]),.5*(basePoint[1]+cData[1])]);addPoint(subPath,[.5*(cData[0]+cData[2]),.5*(cData[1]+cData[3])]);addPoint(subPath,[.5*(cData[2]+cData[4]),.5*(cData[3]+cData[5])]);if(curves.length)addPoint(subPath,basePoint=cData.slice(-2))}break}if(data&&data.length>=2)addPoint(subPath,data.slice(-2));return points;function toAbsolute(n,i){return n+basePoint[i%2]}function addPoint(path,point){if(!path.length||point[1]>path[path.maxY][1]){path.maxY=path.length;points.maxY=points.length?Math.max(point[1],points.maxY):point[1]}if(!path.length||point[0]>path[path.maxX][0]){path.maxX=path.length;points.maxX=points.length?Math.max(point[0],points.maxX):point[0]}if(!path.length||point[1]<path[path.minY][1]){path.minY=path.length;points.minY=points.length?Math.min(point[1],points.minY):point[1]}if(!path.length||point[0]<path[path.minX][0]){path.minX=path.length;points.minX=points.length?Math.min(point[0],points.minX):point[0]}path.push(point)}}function convexHull(points){points.sort(function(a,b){return a[0]==b[0]?a[1]-b[1]:a[0]-b[0]});var lower=[],minY=0,bottom=0;for(var i=0;i<points.length;i++){while(lower.length>=2&&cross(lower[lower.length-2],lower[lower.length-1],points[i])<=0){lower.pop()}if(points[i][1]<points[minY][1]){minY=i;bottom=lower.length}lower.push(points[i])}var upper=[],maxY=points.length-1,top=0;for(var i=points.length;i--;){while(upper.length>=2&&cross(upper[upper.length-2],upper[upper.length-1],points[i])<=0){upper.pop()}if(points[i][1]>points[maxY][1]){maxY=i;top=upper.length}upper.push(points[i])}upper.pop();lower.pop();var hull=lower.concat(upper);hull.minX=0;hull.maxX=lower.length;hull.minY=bottom;hull.maxY=(lower.length+top)%hull.length;return hull}function cross(o,a,b){return(a[0]-o[0])*(b[1]-o[1])-(a[1]-o[1])*(b[0]-o[0])}function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var _120=Math.PI*120/180,rad=Math.PI/180*(+angle||0),res=[],rotateX=function(x,y,rad){return x*Math.cos(rad)-y*Math.sin(rad)},rotateY=function(x,y,rad){return x*Math.sin(rad)+y*Math.cos(rad)};if(!recursive){x1=rotateX(x1,y1,-rad);y1=rotateY(x1,y1,-rad);x2=rotateX(x2,y2,-rad);y2=rotateY(x2,y2,-rad);var x=(x1-x2)/2,y=(y1-y2)/2;var h=x*x/(rx*rx)+y*y/(ry*ry);if(h>1){h=Math.sqrt(h);rx=h*rx;ry=h*ry}var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=Math.asin(((y1-cy)/ry).toFixed(9)),f2=Math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?Math.PI-f1:f1;f2=x2<cx?Math.PI-f2:f2;f1<0&&(f1=Math.PI*2+f1);f2<0&&(f2=Math.PI*2+f2);if(sweep_flag&&f1>f2){f1=f1-Math.PI*2}if(!sweep_flag&&f2>f1){f2=f2-Math.PI*2}}else{f1=recursive[0];f2=recursive[1];cx=recursive[2];cy=recursive[3]}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1);x2=cx+rx*Math.cos(f2);y2=cy+ry*Math.sin(f2);res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m=[-hx*s1,hy*c1,x2+hx*s2-x1,y2-hy*c2-y1,x2-x1,y2-y1];if(recursive){return m.concat(res)}else{res=m.concat(res);var newres=[];for(var i=0,n=res.length;i<n;i++){newres[i]=i%2?rotateY(res[i-1],res[i],rad):rotateX(res[i],res[i+1],rad)}return newres}}},{"../lib/svgo/tools":32,"./_collections.js":82,"./_transforms":84}],84:[function(require,module,exports){"use strict";var regTransformTypes=/matrix|translate|scale|rotate|skewX|skewY/,regTransformSplit=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,regNumericValues=/[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;exports.transform2js=function(transformString){var transforms=[],current;transformString.split(regTransformSplit).forEach(function(item){var num;if(item){if(regTransformTypes.test(item)){transforms.push(current={name:item})}else{while(num=regNumericValues.exec(item)){num=Number(num);if(current.data)current.data.push(num);else current.data=[num]}}}});return transforms};exports.transformsMultiply=function(transforms){transforms=transforms.map(function(transform){if(transform.name==="matrix"){return transform.data}return transformToMatrix(transform)});transforms={name:"matrix",data:transforms.reduce(function(a,b){return multiplyTransformMatrices(a,b)})};return transforms};var mth=exports.mth={rad:function(deg){return deg*Math.PI/180},deg:function(rad){return rad*180/Math.PI},cos:function(deg){return Math.cos(this.rad(deg))},acos:function(val,floatPrecision){return+this.deg(Math.acos(val)).toFixed(floatPrecision)},sin:function(deg){return Math.sin(this.rad(deg))},asin:function(val,floatPrecision){return+this.deg(Math.asin(val)).toFixed(floatPrecision)},tan:function(deg){return Math.tan(this.rad(deg))},atan:function(val,floatPrecision){return+this.deg(Math.atan(val)).toFixed(floatPrecision)}};exports.matrixToTransform=function(transform,params){var floatPrecision=params.floatPrecision,data=transform.data,transforms=[],sx=+Math.sqrt(data[0]*data[0]+data[1]*data[1]).toFixed(params.transformPrecision),sy=+((data[0]*data[3]-data[1]*data[2])/sx).toFixed(params.transformPrecision),colsSum=data[0]*data[2]+data[1]*data[3],rowsSum=data[0]*data[1]+data[2]*data[3],scaleBefore=rowsSum||+(sx==sy);if(data[4]||data[5]){transforms.push({name:"translate",data:data.slice(4,data[5]?6:5)})}if(!data[1]&&data[2]){transforms.push({name:"skewX",data:[mth.atan(data[2]/sy,floatPrecision)]})}else if(data[1]&&!data[2]){transforms.push({name:"skewY",data:[mth.atan(data[1]/data[0],floatPrecision)]});sx=data[0];sy=data[3]}else if(!colsSum||sx==1&&sy==1||!scaleBefore){if(!scaleBefore){sx=Math.sqrt(data[0]*data[0]+data[2]*data[2]);sy=Math.sqrt(data[1]*data[1]+data[3]*data[3]);transforms.push({name:"scale",data:[sx,sy]})}var a1=mth.acos(data[0]/sx,floatPrecision),rotate=[a1.toFixed(floatPrecision)*(data[1]<0?-1:1)];if(rotate[0])transforms.push({name:"rotate",data:rotate});if(rowsSum&&colsSum)transforms.push({name:"skewX",data:[mth.atan(colsSum/(sx*sx),floatPrecision)]});if(rotate[0]&&(data[4]||data[5])){transforms.shift();var cos=data[0]/sx,sin=data[1]/(scaleBefore?sx:sy),x=data[4]*(scaleBefore||sy),y=data[5]*(scaleBefore||sx),denom=(Math.pow(1-cos,2)+Math.pow(sin,2))*(scaleBefore||sx*sy);rotate.push(((1-cos)*x-sin*y)/denom);rotate.push(((1-cos)*y+sin*x)/denom)}}else if(data[1]||data[2]){return transform}if(scaleBefore&&(sx!=1||sy!=1)||!transforms.length)transforms.push({name:"scale",data:sx==sy?[sx]:[sx,sy]});return transforms};function transformToMatrix(transform){if(transform.name==="matrix")return transform.data;var matrix;switch(transform.name){case"translate":matrix=[1,0,0,1,transform.data[0],transform.data[1]||0];break;case"scale":matrix=[transform.data[0],0,0,transform.data[1]||transform.data[0],0,0];break;case"rotate":var cos=mth.cos(transform.data[0]),sin=mth.sin(transform.data[0]),cx=transform.data[1]||0,cy=transform.data[2]||0;matrix=[cos,sin,-sin,cos,(1-cos)*cx+sin*cy,(1-cos)*cy-sin*cx];break;case"skewX":matrix=[1,0,mth.tan(transform.data[0]),1,0,0];break;case"skewY":matrix=[1,mth.tan(transform.data[0]),0,1,0,0];break}return matrix}exports.transformArc=function(arc,transform){var a=arc[0],b=arc[1],rot=arc[2]*Math.PI/180,cos=Math.cos(rot),sin=Math.sin(rot),h=Math.pow(arc[5]*cos+arc[6]*sin,2)/(4*a*a)+Math.pow(arc[6]*cos-arc[5]*sin,2)/(4*b*b);if(h>1){h=Math.sqrt(h);a*=h;b*=h}var ellipse=[a*cos,a*sin,-b*sin,b*cos,0,0],m=multiplyTransformMatrices(transform,ellipse),lastCol=m[2]*m[2]+m[3]*m[3],squareSum=m[0]*m[0]+m[1]*m[1]+lastCol,root=Math.sqrt((Math.pow(m[0]-m[3],2)+Math.pow(m[1]+m[2],2))*(Math.pow(m[0]+m[3],2)+Math.pow(m[1]-m[2],2)));if(!root){arc[0]=arc[1]=Math.sqrt(squareSum/2);arc[2]=0}else{var majorAxisSqr=(squareSum+root)/2,minorAxisSqr=(squareSum-root)/2,major=Math.abs(majorAxisSqr-lastCol)>1e-6,sub=(major?majorAxisSqr:minorAxisSqr)-lastCol,rowsSum=m[0]*m[2]+m[1]*m[3],term1=m[0]*sub+m[2]*rowsSum,term2=m[1]*sub+m[3]*rowsSum;arc[0]=Math.sqrt(majorAxisSqr);arc[1]=Math.sqrt(minorAxisSqr);arc[2]=((major?term2<0:term1>0)?-1:1)*Math.acos((major?term1:term2)/Math.sqrt(term1*term1+term2*term2))*180/Math.PI}return arc};function multiplyTransformMatrices(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}},{}],85:[function(require,module,exports){"use strict";exports.type="full";exports.active=false;exports.description="adds classnames to an outer <svg> element";exports.fn=function(data,params){var classNames=params.classNames||[params.className];var svg=data.content[0];if(svg.isElem("svg")){if(svg.hasAttr("class")){svg.attr("class").value=svg.attr("class").value.split(" ").concat(classNames).join(" ")}else{svg.addAttr({name:"class",value:classNames.join(" "),prefix:"",local:"class"})}}return data}},{}],86:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="cleanups attributes from newlines, trailing and repeating spaces";exports.params={newlines:true,trim:true,spaces:true};var regNewlinesNeedSpace=/(\S)\n(\S)/g,regNewlines=/\n/g,regSpaces=/\s{2,}/g;exports.fn=function(item,params){if(item.isElem()){item.eachAttr(function(attr){if(params.newlines){attr.value=attr.value.replace(regNewlinesNeedSpace,function(match,p1,p2){return p1+" "+p2});attr.value=attr.value.replace(regNewlines,"")}if(params.trim){attr.value=attr.value.trim()}if(params.spaces){attr.value=attr.value.replace(regSpaces," ")}})}}},{}],87:[function(require,module,exports){"use strict";exports.type="full";exports.active=true;exports.description="remove or cleanup enable-background attribute when possible";exports.fn=function(data){var regEnableBackground=/^new\s0\s0\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)$/,hasFilter=false,elems=["svg","mask","pattern"];function checkEnableBackground(item){if(item.isElem(elems)&&item.hasAttr("enable-background")&&item.hasAttr("width")&&item.hasAttr("height")){var match=item.attr("enable-background").value.match(regEnableBackground);if(match){if(item.attr("width").value===match[1]&&item.attr("height").value===match[3]){if(item.isElem("svg")){item.removeAttr("enable-background")}else{item.attr("enable-background").value="new"}}}}}function checkForFilter(item){if(item.isElem("filter")){hasFilter=true}}function monkeys(items,fn){items.content.forEach(function(item){fn(item);if(item.content){monkeys(item,fn)}});return items}var firstStep=monkeys(data,function(item){checkEnableBackground(item);if(!hasFilter){checkForFilter(item)}});return hasFilter?firstStep:monkeys(firstStep,function(item){item.removeAttr("enable-background")})}},{}],88:[function(require,module,exports){"use strict";exports.type="full";exports.active=true;exports.description="removes unused IDs and minifies used";exports.params={remove:true,minify:true,prefix:""};var referencesProps=require("./_collections").referencesProps,regReferencesUrl=/^url\(("|')?#(.+?)\1\)$/,regReferencesHref=/^#(.+?)$/,regReferencesBegin=/^(\w+?)\./,styleOrScript=["style","script"],generateIDchars=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],maxIDindex=generateIDchars.length-1;exports.fn=function(data,params){var currentID,currentIDstring,IDs=Object.create(null),referencesIDs=Object.create(null),idPrefix="id-",hasStyleOrScript=false;function monkeys(items){for(var i=0;i<items.content.length&&!hasStyleOrScript;i++){
var item=items.content[i],match;if(item.isElem(styleOrScript)){hasStyleOrScript=true;continue}if(item.isElem()){item.eachAttr(function(attr){var key;if(attr.name==="id"){key=idPrefix+attr.value;if(key in IDs){item.removeAttr("id")}else{IDs[key]=item}}else if(referencesProps.indexOf(attr.name)>-1){match=attr.value.match(regReferencesUrl);if(match){key=idPrefix+match[2];if(referencesIDs[key]){referencesIDs[key].push(attr)}else{referencesIDs[key]=[attr]}}}else if(attr.name==="xlink:href"&&(match=attr.value.match(regReferencesHref))||attr.name==="begin"&&(match=attr.value.match(regReferencesBegin))){key=idPrefix+match[1];if(referencesIDs[key]){referencesIDs[key].push(attr)}else{referencesIDs[key]=[attr]}}})}if(item.content){monkeys(item)}}return items}data=monkeys(data);if(hasStyleOrScript){return data}for(var k in referencesIDs){if(IDs[k]){if(params.minify){currentIDstring=getIDstring(currentID=generateID(currentID),params);IDs[k].attr("id").value=currentIDstring;referencesIDs[k].forEach(function(attr){k=k.replace(idPrefix,"");attr.value=attr.value.replace("#"+k,"#"+currentIDstring).replace(k+".",currentIDstring+".")})}delete IDs[idPrefix+k]}}if(params.remove){for(var ID in IDs){IDs[ID].removeAttr("id")}}return data};function generateID(currentID){if(!currentID)return[0];currentID[currentID.length-1]++;for(var i=currentID.length-1;i>0;i--){if(currentID[i]>maxIDindex){currentID[i]=0;if(currentID[i-1]!==undefined){currentID[i-1]++}}}if(currentID[0]>maxIDindex){currentID[0]=0;currentID.unshift(0)}return currentID}function getIDstring(arr,params){var str=params.prefix;arr.forEach(function(i){str+=generateIDchars[i]});return str}},{"./_collections":82}],89:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="rounds list of values to the fixed precision";exports.params={floatPrecision:3,leadingZero:true,defaultPx:true,convertToPx:true};var regNumericValues=/^([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)(px|pt|pc|mm|cm|m|in|ft|em|ex|%)?$/,regSeparator=/\s+,?\s*|,\s*/,removeLeadingZero=require("../lib/svgo/tools").removeLeadingZero,absoluteLengths={cm:96/2.54,mm:96/25.4,"in":96,pt:4/3,pc:16};exports.fn=function(item,params){if(item.hasAttr("points")){roundValues(item.attrs.points)}if(item.hasAttr("enable-background")){roundValues(item.attrs["enable-background"])}if(item.hasAttr("viewBox")){roundValues(item.attrs.viewBox)}if(item.hasAttr("stroke-dasharray")){roundValues(item.attrs["stroke-dasharray"])}if(item.hasAttr("dx")){roundValues(item.attrs.dx)}if(item.hasAttr("dy")){roundValues(item.attrs.dy)}if(item.hasAttr("x")){roundValues(item.attrs.x)}if(item.hasAttr("y")){roundValues(item.attrs.y)}function roundValues($prop){var num,units,match,matchNew,lists=$prop.value,listsArr=lists.split(regSeparator),roundedListArr=[],roundedList;listsArr.forEach(function(elem){match=elem.match(regNumericValues);matchNew=elem.match(/new/);if(match){num=+(+match[1]).toFixed(params.floatPrecision),units=match[3]||"";if(params.convertToPx&&units&&units in absoluteLengths){var pxNum=+(absoluteLengths[units]*match[1]).toFixed(params.floatPrecision);if(String(pxNum).length<match[0].length)num=pxNum,units="px"}if(params.leadingZero){num=removeLeadingZero(num)}if(params.defaultPx&&units==="px"){units=""}roundedListArr.push(num+units)}else if(matchNew){roundedListArr.push("new")}});roundedList=roundedListArr.join(" ");$prop.value=roundedList}}},{"../lib/svgo/tools":32}],90:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="rounds numeric values to the fixed precision, removes default px units";exports.params={floatPrecision:3,leadingZero:true,defaultPx:true,convertToPx:true};var regNumericValues=/^([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)(px|pt|pc|mm|cm|m|in|ft|em|ex|%)?$/,removeLeadingZero=require("../lib/svgo/tools").removeLeadingZero,absoluteLengths={cm:96/2.54,mm:96/25.4,"in":96,pt:4/3,pc:16};exports.fn=function(item,params){if(item.isElem()){var match;item.eachAttr(function(attr){match=attr.value.match(regNumericValues);if(match){var num=+(+match[1]).toFixed(params.floatPrecision),units=match[3]||"";if(params.convertToPx&&units&&units in absoluteLengths){var pxNum=+(absoluteLengths[units]*match[1]).toFixed(params.floatPrecision);if(String(pxNum).length<match[0].length)num=pxNum,units="px"}if(params.leadingZero){num=removeLeadingZero(num)}if(params.defaultPx&&units==="px"){units=""}attr.value=num+units}})}}},{"../lib/svgo/tools":32}],91:[function(require,module,exports){"use strict";exports.type="perItemReverse";exports.active=true;exports.description="collapses useless groups";var animationElems=require("./_collections").elemsGroups.animation;exports.fn=function(item){if(item.isElem()&&!item.isElem("switch")&&!item.isEmpty()){item.content.forEach(function(g,i){if(g.isElem("g")&&!g.isEmpty()){if(g.hasAttr()&&g.content.length===1){var inner=g.content[0];if(inner.isElem()&&!inner.hasAttr("id")&&(!g.hasAttr("clip-path")||inner.isElem("g")&&!g.hasAttr("transform")&&!inner.hasAttr("transform"))){g.eachAttr(function(attr){if(!inner.hasAttr(attr.name)){inner.addAttr(attr)}else if(attr.name=="transform"||attr.name=="class"){inner.attr(attr.name).value=attr.value+" "+inner.attr(attr.name).value}g.removeAttr(attr.name)})}}if(!g.hasAttr()&&!g.content.some(function(item){return item.isElem(animationElems)})){item.spliceContent(i,1,g.content)}}})}}},{"./_collections":82}],92:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="converts colors: rgb() to #rrggbb and #rrggbb to #rgb";exports.params={names2hex:true,rgb2hex:true,shorthex:true,shortname:true};var collections=require("./_collections"),rNumber="([+-]?(?:\\d*\\.\\d+|\\d+\\.?)%?)",rComma="\\s*,\\s*",regRGB=new RegExp("^rgb\\(\\s*"+rNumber+rComma+rNumber+rComma+rNumber+"\\s*\\)$"),regHEX=/^\#(([a-fA-F0-9])\2){3}$/;exports.fn=function(item,params){if(item.elem){item.eachAttr(function(attr){if(collections.colorsProps.indexOf(attr.name)>-1){var val=attr.value,match;if(params.names2hex&&val.toLowerCase()in collections.colorsNames){val=collections.colorsNames[val]}if(params.rgb2hex&&(match=val.match(regRGB))){match=match.slice(1,4).map(function(m){if(m.indexOf("%")>-1)m=Math.round(parseFloat(m)*2.55);return Math.max(0,Math.min(m,255))});val=rgb2hex(match)}if(params.shorthex&&(match=val.match(regHEX))){val="#"+match[0][1]+match[0][3]+match[0][5]}if(params.shortname&&val in collections.colorsShortNames){val=collections.colorsShortNames[val]}attr.value=val}})}};function rgb2hex(rgb){return"#"+("00000"+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6).toUpperCase()}},{"./_collections":82}],93:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="optimizes path data: writes in shorter form, applies transformations";exports.params={applyTransforms:true,applyTransformsStroked:true,makeArcs:{threshold:2.5,tolerance:.5},straightCurves:true,lineShorthands:true,curveSmoothShorthands:true,floatPrecision:3,transformPrecision:5,removeUseless:true,collapseRepeated:true,utilizeAbsolute:true,leadingZero:true,negativeExtraSpace:true};var pathElems=require("./_collections.js").pathElems,path2js=require("./_path.js").path2js,js2path=require("./_path.js").js2path,applyTransforms=require("./_path.js").applyTransforms,cleanupOutData=require("../lib/svgo/tools").cleanupOutData,precision,error,arcThreshold,arcTolerance,hasMarkerMid;exports.fn=function(item,params){if(item.isElem(pathElems)&&item.hasAttr("d")){precision=params.floatPrecision;error=precision!==false?+Math.pow(.1,precision).toFixed(precision):.01;if(params.makeArcs){arcThreshold=params.makeArcs.threshold;arcTolerance=params.makeArcs.tolerance}hasMarkerMid=item.hasAttr("marker-mid");var data=path2js(item);if(data.length){convertToRelative(data);if(params.applyTransforms){data=applyTransforms(item,data,params)}data=filters(data,params);if(params.utilizeAbsolute){data=convertToMixed(data,params)}js2path(item,data,params)}}};function convertToRelative(path){var point=[0,0],subpathPoint=[0,0],baseItem;path.forEach(function(item,index){var instruction=item.instruction,data=item.data;if(data){if("mcslqta".indexOf(instruction)>-1){point[0]+=data[data.length-2];point[1]+=data[data.length-1];if(instruction==="m"){subpathPoint[0]=point[0];subpathPoint[1]=point[1];baseItem=item}}else if(instruction==="h"){point[0]+=data[0]}else if(instruction==="v"){point[1]+=data[0]}if(instruction==="M"){if(index>0)instruction="m";data[0]-=point[0];data[1]-=point[1];subpathPoint[0]=point[0]+=data[0];subpathPoint[1]=point[1]+=data[1];baseItem=item}else if("LT".indexOf(instruction)>-1){instruction=instruction.toLowerCase();data[0]-=point[0];data[1]-=point[1];point[0]+=data[0];point[1]+=data[1]}else if(instruction==="C"){instruction="c";data[0]-=point[0];data[1]-=point[1];data[2]-=point[0];data[3]-=point[1];data[4]-=point[0];data[5]-=point[1];point[0]+=data[4];point[1]+=data[5]}else if("SQ".indexOf(instruction)>-1){instruction=instruction.toLowerCase();data[0]-=point[0];data[1]-=point[1];data[2]-=point[0];data[3]-=point[1];point[0]+=data[2];point[1]+=data[3]}else if(instruction==="A"){instruction="a";data[5]-=point[0];data[6]-=point[1];point[0]+=data[5];point[1]+=data[6]}else if(instruction==="H"){instruction="h";data[0]-=point[0];point[0]+=data[0]}else if(instruction==="V"){instruction="v";data[0]-=point[1];point[1]+=data[0]}item.instruction=instruction;item.data=data;item.coords=point.slice(-2)}else if(instruction=="z"){if(baseItem){item.coords=baseItem.coords}point[0]=subpathPoint[0];point[1]=subpathPoint[1]}item.base=index>0?path[index-1].coords:[0,0]});return path}function filters(path,params){var stringify=data2Path.bind(null,params),relSubpoint=[0,0],pathBase=[0,0],prev={};path=path.filter(function(item,index,path){var instruction=item.instruction,data=item.data,next=path[index+1];if(data){var sdata=data,circle;if(instruction==="s"){sdata=[0,0].concat(data);if("cs".indexOf(prev.instruction)>-1){var pdata=prev.data,n=pdata.length;sdata[0]=pdata[n-2]-pdata[n-4];sdata[1]=pdata[n-1]-pdata[n-3]}}if(params.makeArcs&&(instruction=="c"||instruction=="s")&&isConvex(sdata)&&(circle=findCircle(sdata))){var r=roundData([circle.radius])[0],angle=findArcAngle(sdata),sweep=sdata[5]*sdata[0]-sdata[4]*sdata[1]>0?1:0,arc={instruction:"a",data:[r,r,0,0,sweep,sdata[4],sdata[5]],coords:item.coords.slice(),base:item.base},output=[arc],relCenter=[circle.center[0]-sdata[4],circle.center[1]-sdata[5]],relCircle={center:relCenter,radius:circle.radius},arcCurves=[item],hasPrev=0,suffix="",nextLonghand;if(prev.instruction=="c"&&isConvex(prev.data)&&isArcPrev(prev.data,circle)||prev.instruction=="a"&&prev.sdata&&isArcPrev(prev.sdata,circle)){arcCurves.unshift(prev);arc.base=prev.base;arc.data[5]=arc.coords[0]-arc.base[0];arc.data[6]=arc.coords[1]-arc.base[1];angle+=findArcAngle(prev.instruction=="a"?prev.sdata:prev.data);if(angle>Math.PI)arc.data[3]=1;hasPrev=1}for(var j=index;(next=path[++j])&&~"cs".indexOf(next.instruction);){var nextData=next.data;if(next.instruction=="s"){nextLonghand=makeLonghand({instruction:"s",data:next.data.slice()},path[j-1].data);nextData=nextLonghand.data;nextLonghand.data=nextData.slice(0,2);suffix=stringify([nextLonghand])}if(isConvex(nextData)&&isArc(nextData,relCircle)){angle+=findArcAngle(nextData);if(angle-2*Math.PI>.001)break;if(angle>Math.PI)arc.data[3]=1;arcCurves.push(next);if(2*Math.PI-angle>.001){arc.coords=next.coords;arc.data[5]=arc.coords[0]-arc.base[0];arc.data[6]=arc.coords[1]-arc.base[1]}else{arc.data[5]=2*(relCircle.center[0]-nextData[4]);arc.data[6]=2*(relCircle.center[1]-nextData[5]);arc.coords=[arc.base[0]+arc.data[5],arc.base[1]+arc.data[6]];arc={instruction:"a",data:[r,r,0,0,sweep,next.coords[0]-arc.coords[0],next.coords[1]-arc.coords[1]],coords:next.coords,base:arc.coords};output.push(arc);j++;break}relCenter[0]-=nextData[4];relCenter[1]-=nextData[5]}else break}if((stringify(output)+suffix).length<stringify(arcCurves).length){if(path[j]&&path[j].instruction=="s"){makeLonghand(path[j],path[j-1].data)}if(hasPrev){var prevArc=output.shift();roundData(prevArc.data);relSubpoint[0]+=prevArc.data[5]-prev.data[prev.data.length-2];relSubpoint[1]+=prevArc.data[6]-prev.data[prev.data.length-1];prev.instruction="a";prev.data=prevArc.data;item.base=prev.coords=prevArc.coords}arc=output.shift();if(arcCurves.length==1){item.sdata=sdata.slice()}else if(arcCurves.length-1-hasPrev>0){path.splice.apply(path,[index+1,arcCurves.length-1-hasPrev].concat(output))}if(!arc)return false;instruction="a";data=arc.data;item.coords=arc.coords}}if(precision!==false){if("mltqsc".indexOf(instruction)>-1){for(var i=data.length;i--;){data[i]+=item.base[i%2]-relSubpoint[i%2]}}else if(instruction=="h"){data[0]+=item.base[0]-relSubpoint[0]}else if(instruction=="v"){data[0]+=item.base[1]-relSubpoint[1]}else if(instruction=="a"){data[5]+=item.base[0]-relSubpoint[0];data[6]+=item.base[1]-relSubpoint[1]}roundData(data);if(instruction=="h")relSubpoint[0]+=data[0];else if(instruction=="v")relSubpoint[1]+=data[0];else{relSubpoint[0]+=data[data.length-2];relSubpoint[1]+=data[data.length-1]}roundData(relSubpoint);if(instruction.toLowerCase()=="m"){pathBase[0]=relSubpoint[0];pathBase[1]=relSubpoint[1]}}if(params.straightCurves){if(instruction==="c"&&isCurveStraightLine(data)||instruction==="s"&&isCurveStraightLine(sdata)){if(next&&next.instruction=="s")makeLonghand(next,data);instruction="l";data=data.slice(-2)}else if(instruction==="q"&&isCurveStraightLine(data)){if(next&&next.instruction=="t")makeLonghand(next,data);instruction="l";data=data.slice(-2)}else if(instruction==="t"&&prev.instruction!=="q"&&prev.instruction!=="t"){instruction="l";data=data.slice(-2)}else if(instruction==="a"&&(data[0]===0||data[1]===0)){instruction="l";data=data.slice(-2)}}if(params.lineShorthands&&instruction==="l"){if(data[1]===0){instruction="h";data.pop()}else if(data[0]===0){instruction="v";data.shift()}}if(params.collapseRepeated&&!hasMarkerMid&&"mhv".indexOf(instruction)>-1&&prev.instruction&&instruction==prev.instruction.toLowerCase()&&(instruction!="h"&&instruction!="v"||prev.data[0]>=0==item.data[0]>=0)){prev.data[0]+=data[0];if(instruction!="h"&&instruction!="v"){prev.data[1]+=data[1]}prev.coords=item.coords;path[index]=prev;return false}if(params.curveSmoothShorthands&&prev.instruction){if(instruction==="c"){if(prev.instruction==="c"&&data[0]===-(prev.data[2]-prev.data[4])&&data[1]===-(prev.data[3]-prev.data[5])){instruction="s";data=data.slice(2)}else if(prev.instruction==="s"&&data[0]===-(prev.data[0]-prev.data[2])&&data[1]===-(prev.data[1]-prev.data[3])){instruction="s";data=data.slice(2)}else if("cs".indexOf(prev.instruction)===-1&&data[0]===0&&data[1]===0){instruction="s";data=data.slice(2)}}else if(instruction==="q"){if(prev.instruction==="q"&&data[0]===prev.data[2]-prev.data[0]&&data[1]===prev.data[3]-prev.data[1]){instruction="t";data=data.slice(2)}else if(prev.instruction==="t"&&data[2]===prev.data[0]&&data[3]===prev.data[1]){instruction="t";data=data.slice(2)}}}if(params.removeUseless){if("lhvqtcs".indexOf(instruction)>-1&&data.every(function(i){return i===0})){path[index]=prev;return false}if(instruction==="a"&&data[5]===0&&data[6]===0){path[index]=prev;return false}}item.instruction=instruction;item.data=data;prev=item}else{relSubpoint[0]=pathBase[0];relSubpoint[1]=pathBase[1];if(prev.instruction=="z")return false;prev=item}return true});return path}function convertToMixed(path,params){var prev=path[0];path=path.filter(function(item,index){if(index==0)return true;if(!item.data){prev=item;return true}var instruction=item.instruction,data=item.data,adata=data&&data.slice(0);if("mltqsc".indexOf(instruction)>-1){for(var i=adata.length;i--;){adata[i]+=item.base[i%2]}}else if(instruction=="h"){adata[0]+=item.base[0]}else if(instruction=="v"){adata[0]+=item.base[1]}else if(instruction=="a"){adata[5]+=item.base[0];adata[6]+=item.base[1]}roundData(adata);var absoluteDataStr=cleanupOutData(adata,params),relativeDataStr=cleanupOutData(data,params);if(absoluteDataStr.length<relativeDataStr.length&&!(params.negativeExtraSpace&&instruction==prev.instruction&&prev.instruction.charCodeAt(0)>96&&absoluteDataStr.length==relativeDataStr.length-1&&(data[0]<0||/^0\./.test(data[0])&&prev.data[prev.data.length-1]%1))){item.instruction=instruction.toUpperCase();item.data=adata}prev=item;return true});return path}function isConvex(data){var center=getIntersection([0,0,data[2],data[3],data[0],data[1],data[4],data[5]]);return center&&data[2]<center[0]==center[0]<0&&data[3]<center[1]==center[1]<0&&data[4]<center[0]==center[0]<data[0]&&data[5]<center[1]==center[1]<data[1]}function getIntersection(coords){var a1=coords[1]-coords[3],b1=coords[2]-coords[0],c1=coords[0]*coords[3]-coords[2]*coords[1],a2=coords[5]-coords[7],b2=coords[6]-coords[4],c2=coords[4]*coords[7]-coords[5]*coords[6],denom=a1*b2-a2*b1;if(!denom)return;var cross=[(b1*c2-b2*c1)/denom,(a1*c2-a2*c1)/-denom];if(!isNaN(cross[0])&&!isNaN(cross[1])&&isFinite(cross[0])&&isFinite(cross[1])){return cross}}function roundData(data){function round(data){for(var i=data.length;i--;){data[i]=+data[i].toFixed(precision)}return data}function strongRound(data){for(var i=data.length;i--;){var rounded=+data[i].toFixed(precision-1);data[i]=+Math.abs(rounded-data[i]).toFixed(precision)>error?+data[i].toFixed(precision):rounded}return data}roundData=precision>0?strongRound:round;return roundData(data)}function isCurveStraightLine(data){var i=data.length-2,a=-data[i+1],b=data[i],d=1/(a*a+b*b);if(i<=1||!isFinite(d))return false;while((i-=2)>=0){if(Math.sqrt(Math.pow(a*data[i]+b*data[i+1],2)*d)>error)return false}return true}function makeLonghand(item,data){switch(item.instruction){case"s":item.instruction="c";break;case"t":item.instruction="q";break}item.data.unshift(data[data.length-2]-data[data.length-4],data[data.length-1]-data[data.length-3]);return item}function getDistance(point1,point2){return Math.sqrt(Math.pow(point1[0]-point2[0],2)+Math.pow(point1[1]-point2[1],2))}function getCubicBezierPoint(curve,t){var sqrT=t*t,cubT=sqrT*t,mt=1-t,sqrMt=mt*mt;return[3*sqrMt*t*curve[0]+3*mt*sqrT*curve[2]+cubT*curve[4],3*sqrMt*t*curve[1]+3*mt*sqrT*curve[3]+cubT*curve[5]]}function findCircle(curve){var midPoint=getCubicBezierPoint(curve,1/2),m1=[midPoint[0]/2,midPoint[1]/2],m2=[(midPoint[0]+curve[4])/2,(midPoint[1]+curve[5])/2],center=getIntersection([m1[0],m1[1],m1[0]+m1[1],m1[1]-m1[0],m2[0],m2[1],m2[0]+(m2[1]-midPoint[1]),m2[1]-(m2[0]-midPoint[0])]),radius=center&&getDistance([0,0],center),tolerance=Math.min(arcThreshold*error,arcTolerance*radius/100);if(center&&[1/4,3/4].every(function(point){return Math.abs(getDistance(getCubicBezierPoint(curve,point),center)-radius)<=tolerance}))return{center:center,radius:radius}}function isArc(curve,circle){var tolerance=Math.min(arcThreshold*error,arcTolerance*circle.radius/100);return[0,1/4,1/2,3/4,1].every(function(point){return Math.abs(getDistance(getCubicBezierPoint(curve,point),circle.center)-circle.radius)<=tolerance})}function isArcPrev(curve,circle){return isArc(curve,{center:[circle.center[0]+curve[4],circle.center[1]+curve[5]],radius:circle.radius})}function findArcAngle(curve){var x1=curve[0],y1=curve[1],x2=curve[2]-curve[4],y2=curve[3]-curve[5];return Math.PI-Math.acos((x1*x2+y1*y2)/Math.sqrt((x1*x1+y1*y1)*(x2*x2+y2*y2)))}function data2Path(params,pathData){return pathData.reduce(function(pathString,item){return pathString+=item.instruction+(item.data?cleanupOutData(roundData(item.data.slice()),params):"")},"")}},{"../lib/svgo/tools":32,"./_collections.js":82,"./_path.js":83}],94:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="converts basic shapes to more compact path form";var none={value:0},regNumber=/[-+]?(?:\d*\.\d+|\d+\.?)(?:[eE][-+]?\d+)?/g;exports.fn=function(item){if(item.isElem("rect")&&item.hasAttr("width")&&item.hasAttr("height")&&!item.hasAttr("rx")&&!item.hasAttr("ry")){var x=+(item.attr("x")||none).value,y=+(item.attr("y")||none).value,width=+item.attr("width").value,height=+item.attr("height").value;if(isNaN(x-y+width-height))return;var pathData="M"+x+" "+y+"H"+(x+width)+"V"+(y+height)+"H"+x+"z";item.addAttr({name:"d",value:pathData,prefix:"",local:"d"});item.renameElem("path").removeAttr(["x","y","width","height"])}else if(item.isElem("line")){var x1=+(item.attr("x1")||none).value,y1=+(item.attr("y1")||none).value,x2=+(item.attr("x2")||none).value,y2=+(item.attr("y2")||none).value;if(isNaN(x1-y1+x2-y2))return;item.addAttr({name:"d",value:"M"+x1+" "+y1+"L"+x2+" "+y2,prefix:"",local:"d"});item.renameElem("path").removeAttr(["x1","y1","x2","y2"])}else if((item.isElem("polyline")||item.isElem("polygon"))&&item.hasAttr("points")){var coords=(item.attr("points").value.match(regNumber)||[]).map(Number);if(coords.length<4)return false;item.addAttr({name:"d",value:"M"+coords.slice(0,2).join(" ")+"L"+coords.slice(2).join(" ")+(item.isElem("polygon")?"z":""),prefix:"",local:"d"});item.renameElem("path").removeAttr("points")}}},{}],95:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="converts style to attributes";var EXTEND=require("whet.extend"),stylingProps=require("./_collections").stylingProps,rEscape="\\\\(?:[0-9a-f]{1,6}\\s?|\\r\\n|.)",rAttr="\\s*("+g("[^:;\\\\]",rEscape)+"*?)\\s*",rSingleQuotes="'(?:[^'\\n\\r\\\\]|"+rEscape+")*?(?:'|$)",rQuotes='"(?:[^"\\n\\r\\\\]|'+rEscape+')*?(?:"|$)',rQuotedString=new RegExp("^"+g(rSingleQuotes,rQuotes)+"$"),rParenthesis="\\("+g("[^'\"()\\\\]+",rEscape,rSingleQuotes,rQuotes)+"*?"+"\\)",rValue="\\s*("+g("[^'\"();\\\\]+?",rEscape,rSingleQuotes,rQuotes,rParenthesis,"[^;]*?")+"*?"+")",rDeclEnd="\\s*(?:;\\s*|$)",regDeclarationBlock=new RegExp(rAttr+":"+rValue+rDeclEnd,"ig"),regStripComments=new RegExp(g(rEscape,rSingleQuotes,rQuotes,"/\\*[^]*?\\*/"),"ig");exports.fn=function(item){if(item.elem&&item.hasAttr("style")){var styleValue=item.attr("style").value,styles=[],attrs={};styleValue=styleValue.replace(regStripComments,function(match){return match[0]=="/"?"":match[0]=="\\"&&/[-g-z]/i.test(match[1])?match[1]:match});regDeclarationBlock.lastIndex=0;for(var rule;rule=regDeclarationBlock.exec(styleValue);){styles.push([rule[1],rule[2]])}if(styles.length){styles=styles.filter(function(style){if(style[0]){var prop=style[0].toLowerCase(),val=style[1];if(rQuotedString.test(val)){val=val.slice(1,-1)}if(stylingProps.indexOf(prop)>-1){attrs[prop]={name:prop,value:val,local:prop,prefix:""};return false}}return true});EXTEND(item.attrs,attrs);if(styles.length){item.attr("style").value=styles.map(function(declaration){return declaration.join(":")}).join(";")}else{item.removeAttr("style")}}}};function g(){return"(?:"+Array.prototype.join.call(arguments,"|")+")"}},{"./_collections":82,"whet.extend":80}],96:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="collapses multiple transformations and optimizes it";exports.params={convertToShorts:true,floatPrecision:3,transformPrecision:5,matrixToTransform:true,shortTranslate:true,shortScale:true,shortRotate:true,removeUseless:true,collapseIntoOne:true,leadingZero:true,negativeExtraSpace:false};var cleanupOutData=require("../lib/svgo/tools").cleanupOutData,EXTEND=require("whet.extend"),transform2js=require("./_transforms.js").transform2js,transformsMultiply=require("./_transforms.js").transformsMultiply,matrixToTransform=require("./_transforms.js").matrixToTransform,degRound,floatRound,transformRound;exports.fn=function(item,params){if(item.elem){if(item.hasAttr("transform")){convertTransform(item,"transform",params)}if(item.hasAttr("gradientTransform")){convertTransform(item,"gradientTransform",params)}if(item.hasAttr("patternTransform")){convertTransform(item,"patternTransform",params)}}};function convertTransform(item,attrName,params){var data=transform2js(item.attr(attrName).value);params=definePrecision(data,params);if(params.collapseIntoOne&&data.length>1){data=[transformsMultiply(data)]}if(params.convertToShorts){data=convertToShorts(data,params)}else{data.forEach(roundTransform)}if(params.removeUseless){data=removeUseless(data)}if(data.length){item.attr(attrName).value=js2transform(data,params)}else{item.removeAttr(attrName)}}function definePrecision(data,params){var matrixData=data.reduce(getMatrixData,[]),significantDigits=params.transformPrecision;params=EXTEND({},params);if(matrixData.length){params.transformPrecision=Math.min(params.transformPrecision,Math.max.apply(Math,matrixData.map(floatDigits))||params.transformPrecision);significantDigits=Math.max.apply(Math,matrixData.map(function(n){return String(n).replace(/\D+/g,"").length}))}if(!("degPrecision"in params)){params.degPrecision=Math.max(0,Math.min(params.floatPrecision,significantDigits-2))}floatRound=params.floatPrecision>=1?smartRound.bind(this,params.floatPrecision):round;degRound=params.degPrecision>=1?smartRound.bind(this,params.degPrecision):round;transformRound=params.transformPrecision>=1?smartRound.bind(this,params.transformPrecision):round;return params}function getMatrixData(a,b){return b.name=="matrix"?a.concat(b.data.slice(0,4)):a}function floatDigits(n){return(n=String(n)).slice(n.indexOf(".")).length-1}function convertToShorts(transforms,params){for(var i=0;i<transforms.length;i++){var transform=transforms[i];if(params.matrixToTransform&&transform.name==="matrix"){var decomposed=matrixToTransform(transform,params);if(decomposed!=transform&&js2transform(decomposed,params).length<=js2transform([transform],params).length){transforms.splice.apply(transforms,[i,1].concat(decomposed))}transform=transforms[i]}roundTransform(transform);if(params.shortTranslate&&transform.name==="translate"&&transform.data.length===2&&!transform.data[1]){transform.data.pop()}if(params.shortScale&&transform.name==="scale"&&transform.data.length===2&&transform.data[0]===transform.data[1]){transform.data.pop()}if(params.shortRotate&&transforms[i-2]&&transforms[i-2].name==="translate"&&transforms[i-1].name==="rotate"&&transforms[i].name==="translate"&&transforms[i-2].data[0]===-transforms[i].data[0]&&transforms[i-2].data[1]===-transforms[i].data[1]){transforms.splice(i-2,3,{name:"rotate",data:[transforms[i-1].data[0],transforms[i-2].data[0],transforms[i-2].data[1]]});i-=2;transform=transforms[i]}}return transforms}function removeUseless(transforms){return transforms.filter(function(transform){if(["translate","rotate","skewX","skewY"].indexOf(transform.name)>-1&&(transform.data.length==1||transform.name=="rotate")&&!transform.data[0]||transform.name=="translate"&&!transform.data[0]&&!transform.data[1]||transform.name=="scale"&&transform.data[0]==1&&(transform.data.length<2||transform.data[1]==1)||transform.name=="matrix"&&transform.data[0]==1&&transform.data[3]==1&&!(transform.data[1]||transform.data[2]||transform.data[4]||transform.data[5])){return false}return true})}function js2transform(transformJS,params){var transformString="";transformJS.forEach(function(transform){roundTransform(transform);transformString+=(transformString&&" ")+transform.name+"("+cleanupOutData(transform.data,params)+")"});return transformString}function roundTransform(transform){switch(transform.name){case"translate":transform.data=floatRound(transform.data);break;case"rotate":transform.data=degRound(transform.data.slice(0,1)).concat(floatRound(transform.data.slice(1)));break;case"skewX":case"skewY":transform.data=degRound(transform.data);break;case"scale":transform.data=transformRound(transform.data);break;case"matrix":transform.data=transformRound(transform.data.slice(0,4)).concat(floatRound(transform.data.slice(4)));break}return transform}function round(data){return data.map(Math.round)}function smartRound(precision,data){for(var i=data.length,tolerance=Math.pow(.1,precision);i--;){var rounded=+data[i].toFixed(precision-1);data[i]=+Math.abs(rounded-data[i]).toFixed(precision)>=tolerance?+data[i].toFixed(precision):rounded}return data}},{"../lib/svgo/tools":32,"./_transforms.js":84,"whet.extend":80}],97:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="merges multiple paths in one if possible";exports.params={collapseRepeated:true,leadingZero:true,negativeExtraSpace:true};var path2js=require("./_path.js").path2js,js2path=require("./_path.js").js2path,intersects=require("./_path.js").intersects;exports.fn=function(item,params){if(!item.isElem()||item.isEmpty())return;var prevContentItem=null,prevContentItemKeys=null;item.content=item.content.filter(function(contentItem){if(prevContentItem&&prevContentItem.isElem("path")&&prevContentItem.isEmpty()&&prevContentItem.hasAttr("d")&&contentItem.isElem("path")&&contentItem.isEmpty()&&contentItem.hasAttr("d")){if(!prevContentItemKeys){prevContentItemKeys=Object.keys(prevContentItem.attrs)}var contentItemAttrs=Object.keys(contentItem.attrs),equalData=prevContentItemKeys.length==contentItemAttrs.length&&contentItemAttrs.every(function(key){return key=="d"||prevContentItem.hasAttr(key)&&prevContentItem.attr(key).value==contentItem.attr(key).value}),prevPathJS=path2js(prevContentItem),curPathJS=path2js(contentItem);if(equalData&&!intersects(prevPathJS,curPathJS)){js2path(prevContentItem,prevPathJS.concat(curPathJS),params);return false}}prevContentItem=contentItem;prevContentItemKeys=null;return true})}},{"./_path.js":83}],98:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.params={svgo:{}};exports.description="minifies existing styles in svg";var csso=require("csso");var rulesToDummySelector=function(str){return".dummy { "+str+" }"};var extractRuleCss=function(str){var strEx=str.match(/\.dummy{(.*)}/i)[1];return strEx};var minifyCss=function(css,options){return csso.minify(css,options)};exports.fn=function(item,svgoOptions){if(item.elem){if(item.isElem("style")&&!item.isEmpty()){var styleCss=item.content[0].text||item.content[0].cdata||[];if(styleCss.length>0){var styleCssMinified=minifyCss(styleCss,svgoOptions);item.content[0].text=styleCssMinified}}if(item.hasAttr("style")){var itemCss=item.attr("style").value;if(itemCss.length>0){var itemCssMinified=extractRuleCss(minifyCss(rulesToDummySelector(itemCss),svgoOptions));item.attr("style").value=itemCssMinified}}}return item}},{csso:39}],99:[function(require,module,exports){"use strict";exports.type="perItemReverse";exports.active=true;exports.description="moves elements attributes to the existing group wrapper";var inheritableAttrs=require("./_collections").inheritableAttrs,pathElems=require("./_collections.js").pathElems;exports.fn=function(item){if(item.isElem("g")&&!item.isEmpty()&&item.content.length>1){var intersection={},hasTransform=false,hasClip=item.hasAttr("clip-path"),intersected=item.content.every(function(inner){if(inner.isElem()&&inner.hasAttr()){if(!Object.keys(intersection).length){intersection=inner.attrs}else{intersection=intersectInheritableAttrs(intersection,inner.attrs);if(!intersection)return false}return true}}),allPath=item.content.every(function(inner){return inner.isElem(pathElems)});if(intersected){item.content.forEach(function(g){for(var name in intersection){if(!allPath&&!hasClip||name!=="transform"){g.removeAttr(name);if(name==="transform"){if(!hasTransform){if(item.hasAttr("transform")){item.attr("transform").value+=" "+intersection[name].value}else{item.addAttr(intersection[name])}hasTransform=true}}else{item.addAttr(intersection[name])}}}})}}};function intersectInheritableAttrs(a,b){var c={};for(var n in a){if(b.hasOwnProperty(n)&&inheritableAttrs.indexOf(n)>-1&&a[n].name===b[n].name&&a[n].value===b[n].value&&a[n].prefix===b[n].prefix&&a[n].local===b[n].local){c[n]=a[n]}}if(!Object.keys(c).length)return false;return c}},{"./_collections":82,"./_collections.js":82}],100:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="moves some group attributes to the content elements";

var collections=require("./_collections.js"),pathElems=collections.pathElems.concat(["g","text"]),referencesProps=collections.referencesProps;exports.fn=function(item){if(item.isElem("g")&&item.hasAttr("transform")&&!item.isEmpty()&&!item.someAttr(function(attr){return~referencesProps.indexOf(attr.name)&&~attr.value.indexOf("url(")})&&item.content.every(function(inner){return inner.isElem(pathElems)})){item.content.forEach(function(inner){if(inner.hasAttr("transform")){inner.attr("transform").value=item.attr("transform").value+" "+inner.attr("transform").value}else{inner.addAttr(item.attr("transform"))}});item.removeAttr("transform")}}},{"./_collections.js":82}],101:[function(require,module,exports){"use strict";var ELEM_SEP=":";exports.type="perItem";exports.active=false;exports.description="removes specified attributes";exports.params={attrs:[]};exports.fn=function(item,params){if(!Array.isArray(params.attrs)){params.attrs=[params.attrs]}if(item.isElem()){var patterns=params.attrs.map(function(pattern){if(pattern.indexOf(ELEM_SEP)===-1){pattern=[".*",ELEM_SEP,pattern].join("")}return pattern.split(ELEM_SEP).map(function(value){if(value==="*"){value=".*"}return new RegExp(["^",value,"$"].join(""),"i")})});patterns.forEach(function(pattern){if(pattern[0].test(item.elem)){item.eachAttr(function(attr){var name=attr.name;if(pattern[1].test(name)){item.removeAttr(name)}})}})}}},{}],102:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes comments";exports.fn=function(item){if(item.comment&&item.comment.charAt(0)!=="!"){return false}}},{}],103:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.params={removeAny:false};exports.description="removes <desc> (only non-meaningful by default)";var standardDescs=/^Created with/;exports.fn=function(item,params){return!item.isElem("desc")||!(params.removeAny||item.isEmpty()||standardDescs.test(item.content[0].text))}},{}],104:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="removes width and height in presence of viewBox";exports.fn=function(item){if(item.isElem("svg")&&item.hasAttr("viewBox")){item.removeAttr("width");item.removeAttr("height")}}},{}],105:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes doctype declaration";exports.fn=function(item){if(item.doctype&&item.doctype.substr(-1)!=="]"){return false}}},{}],106:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes editors namespaces, elements and attributes";var editorNamespaces=require("./_collections").editorNamespaces,prefixes=[];exports.params={additionalNamespaces:[]};exports.fn=function(item,params){if(Array.isArray(params.additionalNamespaces)){editorNamespaces=editorNamespaces.concat(params.additionalNamespaces)}if(item.elem){if(item.isElem("svg")){item.eachAttr(function(attr){if(attr.prefix==="xmlns"&&editorNamespaces.indexOf(attr.value)>-1){prefixes.push(attr.local);item.removeAttr(attr.name)}})}item.eachAttr(function(attr){if(prefixes.indexOf(attr.prefix)>-1){item.removeAttr(attr.name)}});if(prefixes.indexOf(item.prefix)>-1){return false}}}},{"./_collections":82}],107:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes empty attributes";exports.fn=function(item){if(item.elem){item.eachAttr(function(attr){if(attr.value===""){item.removeAttr(attr.name)}})}}},{}],108:[function(require,module,exports){"use strict";exports.type="perItemReverse";exports.active=true;exports.description="removes empty container elements";var container=require("./_collections").elemsGroups.container;exports.fn=function(item){return!(item.isElem(container)&&!item.isElem("svg")&&item.isEmpty()&&(!item.isElem("pattern")||!item.hasAttr("xlink:href")))}},{"./_collections":82}],109:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes empty <text> elements";exports.params={text:true,tspan:true,tref:true};exports.fn=function(item,params){if(params.text&&item.isElem("text")&&item.isEmpty())return false;if(params.tspan&&item.isElem("tspan")&&item.isEmpty())return false;if(params.tref&&item.isElem("tref")&&!item.hasAttr("xlink:href"))return false}},{}],110:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes hidden elements (zero sized, with absent attributes)";exports.params={displayNone:true,opacity0:true,circleR0:true,ellipseRX0:true,ellipseRY0:true,rectWidth0:true,rectHeight0:true,patternWidth0:true,patternHeight0:true,imageWidth0:true,imageHeight0:true,pathEmptyD:true,polylineEmptyPoints:true,polygonEmptyPoints:true};var regValidPath=/M\s*(?:[-+]?(?:\d*\.\d+|\d+(?:\.|(?!\.)))([eE][-+]?\d+)?(?!\d)\s*,?\s*){2}\D*\d/i;exports.fn=function(item,params){if(item.elem){if(params.displayNone&&item.hasAttr("display","none"))return false;if(params.opacity0&&item.hasAttr("opacity","0"))return false;if(params.circleR0&&item.isElem("circle")&&item.isEmpty()&&item.hasAttr("r","0"))return false;if(params.ellipseRX0&&item.isElem("ellipse")&&item.isEmpty()&&item.hasAttr("rx","0"))return false;if(params.ellipseRY0&&item.isElem("ellipse")&&item.isEmpty()&&item.hasAttr("ry","0"))return false;if(params.rectWidth0&&item.isElem("rect")&&item.isEmpty()&&item.hasAttr("width","0"))return false;if(params.rectHeight0&&params.rectWidth0&&item.isElem("rect")&&item.isEmpty()&&item.hasAttr("height","0"))return false;if(params.patternWidth0&&item.isElem("pattern")&&item.hasAttr("width","0"))return false;if(params.patternHeight0&&item.isElem("pattern")&&item.hasAttr("height","0"))return false;if(params.imageWidth0&&item.isElem("image")&&item.hasAttr("width","0"))return false;if(params.imageHeight0&&item.isElem("image")&&item.hasAttr("height","0"))return false;if(params.pathEmptyD&&item.isElem("path")&&(!item.hasAttr("d")||!regValidPath.test(item.attr("d").value)))return false;if(params.polylineEmptyPoints&&item.isElem("polyline")&&!item.hasAttr("points"))return false;if(params.polygonEmptyPoints&&item.isElem("polygon")&&!item.hasAttr("points"))return false}}},{}],111:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes <metadata>";exports.fn=function(item){return!item.isElem("metadata")}},{}],112:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes non-inheritable groups presentational attributes";var inheritableAttrs=require("./_collections").inheritableAttrs,attrsGroups=require("./_collections").attrsGroups,excludedAttrs=["display","opacity"];exports.fn=function(item){if(item.isElem("g")){item.eachAttr(function(attr){if(~attrsGroups.presentation.indexOf(attr.name)&&~attrsGroups.graphicalEvent.indexOf(attr.name)&&~attrsGroups.core.indexOf(attr.name)&&~attrsGroups.conditionalProcessing.indexOf(attr.name)&&!~excludedAttrs.indexOf(attr.name)&&!~inheritableAttrs.indexOf(attr.name)){item.removeAttr(attr.name)}})}}},{"./_collections":82}],113:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="removes raster images (disabled by default)";exports.fn=function(item){if(item.isElem("image")&&item.hasAttr("xlink:href")&&/(\.|image\/)(jpg|png|gif)/.test(item.attr("xlink:href").value)){return false}}},{}],114:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="removes <style>";exports.fn=function(item){return!item.isElem("style")}},{}],115:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="removes <title> (disabled by default)";exports.fn=function(item){return!item.isElem("title")}},{}],116:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes unknown elements content and attributes, removes attrs with default values";exports.params={unknownContent:true,unknownAttrs:true,defaultAttrs:true,uselessOverrides:true,keepDataAttrs:true};var collections=require("./_collections"),elems=collections.elems,attrsGroups=collections.attrsGroups,elemsGroups=collections.elemsGroups,attrsGroupsDefaults=collections.attrsGroupsDefaults,attrsInheritable=collections.inheritableAttrs;for(var elem in elems){elem=elems[elem];if(elem.attrsGroups){elem.attrs=elem.attrs||[];elem.attrsGroups.forEach(function(attrsGroupName){elem.attrs=elem.attrs.concat(attrsGroups[attrsGroupName]);var groupDefaults=attrsGroupsDefaults[attrsGroupName];if(groupDefaults){elem.defaults=elem.defaults||{};for(var attrName in groupDefaults){elem.defaults[attrName]=groupDefaults[attrName]}}})}if(elem.contentGroups){elem.content=elem.content||[];elem.contentGroups.forEach(function(contentGroupName){elem.content=elem.content.concat(elemsGroups[contentGroupName])})}}exports.fn=function(item,params){if(item.isElem()&&!item.prefix){var elem=item.elem;if(params.unknownContent&&!item.isEmpty()&&elems[elem]&&elem!=="foreignObject"){item.content.forEach(function(content,i){if(content.isElem()&&!content.prefix&&(elems[elem].content&&elems[elem].content.indexOf(content.elem)===-1||!elems[elem].content&&!elems[content.elem])){item.content.splice(i,1)}})}if(elems[elem]&&elems[elem].attrs){item.eachAttr(function(attr){if(attr.name!=="xmlns"&&(attr.prefix==="xml"||!attr.prefix)&&(!params.keepDataAttrs||attr.name.indexOf("data-")!=0)){if(params.unknownAttrs&&elems[elem].attrs.indexOf(attr.name)===-1||params.defaultAttrs&&elems[elem].defaults&&elems[elem].defaults[attr.name]===attr.value&&(attrsInheritable.indexOf(attr.name)<0||!item.parentNode.computedAttr(attr.name))||params.uselessOverrides&&attrsInheritable.indexOf(attr.name)>-1&&item.parentNode.computedAttr(attr.name,attr.value)){item.removeAttr(attr.name)}}})}}}},{"./_collections":82}],117:[function(require,module,exports){"use strict";exports.type="full";exports.active=true;exports.description="removes unused namespaces declaration";exports.fn=function(data){var svgElem,xmlnsCollection=[];function removeNSfromCollection(ns){var pos=xmlnsCollection.indexOf(ns);if(pos>-1){xmlnsCollection.splice(pos,1)}}function monkeys(items){var i=0,length=items.content.length;while(i<length){var item=items.content[i];if(item.isElem("svg")){item.eachAttr(function(attr){if(attr.prefix==="xmlns"&&attr.local){xmlnsCollection.push(attr.local)}});if(xmlnsCollection.length){svgElem=item}}else if(xmlnsCollection.length){if(item.prefix){removeNSfromCollection(item.prefix)}item.eachAttr(function(attr){removeNSfromCollection(attr.prefix)})}if(xmlnsCollection.length&&item.content){monkeys(item)}i++}return items}data=monkeys(data);if(xmlnsCollection.length){xmlnsCollection.forEach(function(name){svgElem.removeAttr("xmlns:"+name)})}return data}},{}],118:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes elements in <defs> without id";var nonRendering=require("./_collections").elemsGroups.nonRendering,defs;exports.fn=function(item){if(item.isElem("defs")){defs=item;item.content=(item.content||[]).reduce(getUsefulItems,[]);if(item.isEmpty())return false}else if(item.isElem(nonRendering)&&!item.hasAttr("id")){return false}};function getUsefulItems(usefulItems,item){if(item.hasAttr("id")||item.isElem("style")){usefulItems.push(item);item.parentNode=defs}else if(!item.isEmpty()){item.content.reduce(getUsefulItems,usefulItems)}return usefulItems}},{"./_collections":82}],119:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes useless stroke and fill attributes";exports.params={stroke:true,fill:true};var shape=require("./_collections").elemsGroups.shape,regStrokeProps=/^stroke/,regFillProps=/^fill-/,styleOrScript=["style","script"],hasStyleOrScript=false;exports.fn=function(item,params){if(item.isElem(styleOrScript)){hasStyleOrScript=true}if(!hasStyleOrScript&&item.isElem(shape)&&!item.computedAttr("id")){var stroke=params.stroke&&item.computedAttr("stroke"),fill=params.fill&&!item.computedAttr("fill","none");if(params.stroke&&(!stroke||stroke=="none"||item.computedAttr("stroke-opacity","0")||item.computedAttr("stroke-width","0"))){var parentStroke=item.parentNode.computedAttr("stroke"),declineStroke=parentStroke&&parentStroke!="none";item.eachAttr(function(attr){if(regStrokeProps.test(attr.name)){item.removeAttr(attr.name)}});if(declineStroke)item.addAttr({name:"stroke",value:"none",prefix:"",local:"stroke"})}if(params.fill&&(!fill||item.computedAttr("fill-opacity","0"))){item.eachAttr(function(attr){if(regFillProps.test(attr.name)){item.removeAttr(attr.name)}});if(fill){if(item.hasAttr("fill"))item.attr("fill").value="none";else item.addAttr({name:"fill",value:"none",prefix:"",local:"fill"})}}}}},{"./_collections":82}],120:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="removes viewBox attribute when possible (disabled by default)";var regViewBox=/^0\s0\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)\s([\-+]?\d*\.?\d+([eE][\-+]?\d+)?)$/,viewBoxElems=["svg","pattern"];exports.fn=function(item){if(item.isElem(viewBoxElems)&&item.hasAttr("viewBox")&&item.hasAttr("width")&&item.hasAttr("height")){var match=item.attr("viewBox").value.match(regViewBox);if(match){if(item.attr("width").value===match[1]&&item.attr("height").value===match[3]){item.removeAttr("viewBox")}}}}},{}],121:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=true;exports.description="removes XML processing instructions";exports.fn=function(item){return!(item.processinginstruction&&item.processinginstruction.name==="xml")}},{}],122:[function(require,module,exports){"use strict";exports.type="perItem";exports.active=false;exports.description="sorts element attributes (disabled by default)";exports.params={order:["xmlns","id","width","height","x","x1","x2","y","y1","y2","cx","cy","r","fill","fill-opacity","fill-rule","stroke","stroke-opacity","stroke-width","stroke-miterlimit","stroke-dashoffset","d","points"]};exports.fn=function(item,params){var attrs=[],sorted={},orderlen=params.order.length+1;if(item.elem){item.eachAttr(function(attr){attrs.push(attr)});attrs.sort(function(a,b){return((a=params.order.indexOf(a.name))>-1?a:orderlen)-((b=params.order.indexOf(b.name))>-1?b:orderlen)});attrs.forEach(function(attr){sorted[attr.name]=attr});item.attrs=sorted}}},{}],123:[function(require,module,exports){"use strict";exports.type="full";exports.active=false;exports.description="performs a set of operations on SVG with one path inside (disabled by default)";exports.params={width:false,height:false,scale:false,shiftX:false,shiftY:false,hcrop:false,vcenter:false,floatPrecision:3,leadingZero:true,negativeExtraSpace:true};var _path=require("./_path.js"),relative2absolute=_path.relative2absolute,computeCubicBoundingBox=_path.computeCubicBoundingBox,computeQuadraticBoundingBox=_path.computeQuadraticBoundingBox,applyTransforms=_path.applyTransforms,js2path=_path.js2path,path2js=_path.path2js,EXTEND=require("whet.extend");exports.fn=function(data,params){data.content.forEach(function(item){if(item.isElem("svg")&&item.content.length===1&&item.content[0].isElem("path")){var svgElem=item,pathElem=svgElem.content[0],path=relative2absolute(EXTEND(true,[],path2js(pathElem))),xs=[],ys=[],cubicontrolPoint=[0,0],quadraticontrolPoint=[0,0],lastPoint=[0,0],cubicBoundingBox,quadraticBoundingBox,i,segment;path.forEach(function(pathItem){if("ML".indexOf(pathItem.instruction)>-1){for(i=0;i<pathItem.data.length;i++){if(i%2===0){xs.push(pathItem.data[i])}else{ys.push(pathItem.data[i])}}lastPoint=cubicontrolPoint=quadraticontrolPoint=pathItem.data.slice(-2)}else if(pathItem.instruction==="H"){pathItem.data.forEach(function(d){xs.push(d)});lastPoint[0]=cubicontrolPoint[0]=quadraticontrolPoint[0]=pathItem.data[pathItem.data.length-2]}else if(pathItem.instruction==="V"){pathItem.data.forEach(function(d){ys.push(d)});lastPoint[1]=cubicontrolPoint[1]=quadraticontrolPoint[1]=pathItem.data[pathItem.data.length-1]}else if(pathItem.instruction==="C"){for(i=0;i<pathItem.data.length;i+=6){segment=pathItem.data.slice(i,i+6);cubicBoundingBox=computeCubicBoundingBox.apply(this,lastPoint.concat(segment));xs.push(cubicBoundingBox.minx);xs.push(cubicBoundingBox.maxx);ys.push(cubicBoundingBox.miny);ys.push(cubicBoundingBox.maxy);cubicontrolPoint=[2*segment[4]-segment[2],2*segment[5]-segment[3]];lastPoint=segment.slice(-2)}}else if(pathItem.instruction==="S"){for(i=0;i<pathItem.data.length;i+=4){segment=pathItem.data.slice(i,i+4);cubicBoundingBox=computeCubicBoundingBox.apply(this,lastPoint.concat(cubicontrolPoint).concat(segment));xs.push(cubicBoundingBox.minx);xs.push(cubicBoundingBox.maxx);ys.push(cubicBoundingBox.miny);ys.push(cubicBoundingBox.maxy);cubicontrolPoint=[2*segment[2]-cubicontrolPoint[0],2*segment[3]-cubicontrolPoint[1]];lastPoint=segment.slice(-2)}}else if(pathItem.instruction==="Q"){for(i=0;i<pathItem.data.length;i+=4){segment=pathItem.data.slice(i,i+4);quadraticBoundingBox=computeQuadraticBoundingBox.apply(this,lastPoint.concat(segment));xs.push(quadraticBoundingBox.minx);xs.push(quadraticBoundingBox.maxx);ys.push(quadraticBoundingBox.miny);ys.push(quadraticBoundingBox.maxy);quadraticontrolPoint=[2*segment[2]-segment[0],2*segment[3]-segment[1]];lastPoint=segment.slice(-2)}}else if(pathItem.instruction==="T"){for(i=0;i<pathItem.data.length;i+=2){segment=pathItem.data.slice(i,i+2);quadraticBoundingBox=computeQuadraticBoundingBox.apply(this,lastPoint.concat(quadraticontrolPoint).concat(segment));xs.push(quadraticBoundingBox.minx);xs.push(quadraticBoundingBox.maxx);ys.push(quadraticBoundingBox.miny);ys.push(quadraticBoundingBox.maxy);quadraticontrolPoint=[2*segment[0]-quadraticontrolPoint[0],2*segment[1]-quadraticontrolPoint[1]];lastPoint=segment.slice(-2)}}});var xmin=Math.min.apply(this,xs).toFixed(params.floatPrecision),xmax=Math.max.apply(this,xs).toFixed(params.floatPrecision),ymin=Math.min.apply(this,ys).toFixed(params.floatPrecision),ymax=Math.max.apply(this,ys).toFixed(params.floatPrecision),svgWidth=+svgElem.attr("width").value,svgHeight=+svgElem.attr("height").value,realWidth=Math.round(xmax-xmin),realHeight=Math.round(ymax-ymin),transform="",scale;if(params.width&&params.height){scale=Math.min(params.width/svgWidth,params.height/svgHeight);realWidth=realWidth*scale;realHeight=realHeight*scale;svgWidth=svgElem.attr("width").value=params.width;svgHeight=svgElem.attr("height").value=params.height;transform+=" scale("+scale+")"}else if(params.width&&!params.height){scale=params.width/svgWidth;realWidth=realWidth*scale;realHeight=realHeight*scale;svgWidth=svgElem.attr("width").value=params.width;svgHeight=svgElem.attr("height").value=svgHeight*scale;transform+=" scale("+scale+")"}else if(params.height&&!params.width){scale=params.height/svgHeight;realWidth=realWidth*scale;realHeight=realHeight*scale;svgWidth=svgElem.attr("width").value=svgWidth*scale;svgHeight=svgElem.attr("height").value=params.height;transform+=" scale("+scale+")"}if(params.shiftX){transform+=" translate("+realWidth*params.shiftX+", 0)"}if(params.shiftY){transform+=" translate(0, "+realHeight*params.shiftY+")"}if(params.scale){scale=params.scale;var shiftX=svgWidth/2,shiftY=svgHeight/2;realWidth=realWidth*scale;realHeight=realHeight*scale;if(params.shiftX||params.shiftY){transform+=" scale("+scale+")"}else{transform+=" translate("+shiftX+" "+shiftY+") scale("+scale+") translate(-"+shiftX+" -"+shiftY+")"}}if(params.hcrop){transform+=" translate("+-xmin+" 0)";svgElem.attr("width").value=realWidth}if(params.vcenter){transform+=" translate(0 "+((svgHeight-realHeight)/2-ymin)+")"}if(transform){pathElem.addAttr({name:"transform",prefix:"",local:"transform",value:transform});path=applyTransforms(pathElem,pathElem.pathJS,true,params.floatPrecision);path.forEach(function(pathItem){if(pathItem.data){pathItem.data=pathItem.data.map(function(num){return+num.toFixed(params.floatPrecision)})}});js2path(pathElem,path,params)}}});return data}},{"./_path.js":83,"whet.extend":80}],"/node_modules/svgo/lib/svgo.js":[function(require,module,exports){"use strict";var CONFIG=require("./svgo/config"),SVG2JS=require("./svgo/svg2js"),PLUGINS=require("./svgo/plugins"),JSAPI=require("./svgo/jsAPI.js"),JS2SVG=require("./svgo/js2svg");var SVGO=module.exports=function(config){this.config=CONFIG(config)};SVGO.prototype.optimize=function(svgstr,callback){var _this=this,config=this.config,maxPassCount=config.multipass?10:1,counter=0,prevResultSize=Number.POSITIVE_INFINITY,optimizeOnceCallback=function(svgjs){if(svgjs.error){callback(svgjs);return}if(++counter<maxPassCount&&svgjs.data.length<prevResultSize){prevResultSize=svgjs.data.length;_this._optimizeOnce(svgjs.data,optimizeOnceCallback)}else{callback(svgjs)}};_this._optimizeOnce(svgstr,optimizeOnceCallback)};SVGO.prototype._optimizeOnce=function(svgstr,callback){var config=this.config;SVG2JS(svgstr,function(svgjs){if(svgjs.error){callback(svgjs);return}svgjs=PLUGINS(svgjs,config.plugins);callback(JS2SVG(svgjs,config.js2svg))})};SVGO.prototype.createContentItem=function(data){return new JSAPI(data)}},{"./svgo/config":27,"./svgo/js2svg":28,"./svgo/jsAPI.js":29,"./svgo/plugins":30,"./svgo/svg2js":31}]},{},[])("/node_modules/svgo/lib/svgo.js")});